[
    {
        "title": null,
        "org_context": [
            "||||||\n|----|----|----|----|----|\n||故障处理|故障处理|故障处理||\n||故障处理|故障处理|故障处理||\n||文档版本|01|01||\n||发布日期|2023-11-02|2023-11-02||\n||||||\n||华为技术有限公司|华为技术有限公司|||",
            "|版权所有 © 华为技术有限公司2023。 保留一切权利。<br>非经本公司书面许可，任何单位和个人不得擅自摘抄、复制本文档内容的部分或全部，并不得以任何形式传播。<br><br>商标声明<br> 和其他华为商标均为华为技术有限公司的商标。<br>本文档提及的其他所有商标或注册商标，由各自的所有人拥有。<br><br>注意<br>您购买的产品、服务或特性等应受华为公司商业合同和条款的约束，本文档中描述的全部或部分产品、服务或特性可能不在您的购买或使用范围之内。除非合同另有约定，华为公司对本文档内容不做任何明示或暗示的声明或保证。<br>由于产品版本升级或其他原因，本文档内容会不定期进行更新。除非另有约定，本文档仅作为使用指导，本文档中的所有陈述、信息和建议不构成任何明示或暗示的担保。|\n|----|",
            "|华为技术有限公司|华为技术有限公司|\n|----|----|\n|地址：|深圳市龙岗区坂田华为总部办公楼     邮编：518129|\n|网址：||\n|客户服务邮箱：||\n|客户服务电话：|4008302118|",
            "|安全声明|\n|----|\n|漏洞声明<br>华为公司对产品漏洞管理的规定以“漏洞处理流程”为准，该政策可参考华为公司官方网站的网址：。<br>如企业客户须获取漏洞信息，请访问：。|",
            "目  录"
        ],
        "embed_context": [],
        "subsections": []
    },
    {
        "title": "# 故障处理基本原则",
        "org_context": [
            "<notice>故障处理中的故障处理基本原则</notice>",
            "用户必须遵循故障处理原则和注意事项进行定位和排除故障。",
            "故障处理原则",
            "请遵循以下原则对故障进行分析、定位和处理：",
            "以尽快恢复系统为原则。",
            "定位故障时，应及时收集故障数据信息，并尽量将收集到的故障数据信息保存在移动存储介质中或网络中其他计算机中。",
            "在确定故障处理的方案时，应先评估影响，优先保证业务的正常传送。",
            "第三方的硬件故障，可查看第三方的相关资料或拨打第三方公司的服务电话。",
            "如果无法定位出故障点或无法按手册解决故障，请联系华为技术支持工程师，最大程度减少业务中断时间。",
            "故障处理注意事项",
            "应先分析故障现象，定位原因后再进行处理。",
            "在原因不明的情况下应避免盲目操作，导致问题扩大化。",
            "在处理故障前，需要保留好故障现场的所有记录，不能随意删除数据或日志。",
            "在处理故障时，为了确保客户网络的安全和隐私，如果需要收集相关故障日志，请事先得到客户的同意。",
            "在进行任何修改前，应先通过脚本导出、手工备份等方式备份数据。",
            "在系统恢复后，必须对运行情况进行观察，确认故障已经排除并及时填写相关的处理报告。",
            "相关操作必须得到客户的授权，禁止进行超出客户审批范围的任何操作。",
            "在完成服务后，必须在客户的监督下对所涉及的个人数据进行安全删除，针对敏感市场未经客户授权禁止传出客户网络。"
        ],
        "subsections": [],
        "embed_context": [
            "故障处理中的故障处理基本原则",
            "故障处理基本原则",
            "用户必须遵循故障处理原则和注意事项进行定位和排除故障。",
            "故障处理原则",
            "请遵循以下原则对故障进行分析、定位和处理：",
            "以尽快恢复系统为原则。",
            "定位故障时，应及时收集故障数据信息，并尽量将收集到的故障数据信息保存在移动存储介质中或网络中其他计算机中。",
            "在确定故障处理的方案时，应先评估影响，优先保证业务的正常传送。",
            "第三方的硬件故障，可查看第三方的相关资料或拨打第三方公司的服务电话。",
            "如果无法定位出故障点或无法按手册解决故障，请联系华为技术支持工程师，最大程度减少业务中断时间。",
            "故障处理注意事项",
            "应先分析故障现象，定位原因后再进行处理。",
            "在原因不明的情况下应避免盲目操作，导致问题扩大化。",
            "在处理故障前，需要保留好故障现场的所有记录，不能随意删除数据或日志。",
            "在处理故障时，为了确保客户网络的安全和隐私，如果需要收集相关故障日志，请事先得到客户的同意。",
            "在进行任何修改前，应先通过脚本导出、手工备份等方式备份数据。",
            "在系统恢复后，必须对运行情况进行观察，确认故障已经排除并及时填写相关的处理报告。",
            "相关操作必须得到客户的授权，禁止进行超出客户审批范围的任何操作。",
            "在完成服务后，必须在客户的监督下对所涉及的个人数据进行安全删除，针对敏感市场未经客户授权禁止传出客户网络。"
        ]
    },
    {
        "title": "# 故障处理流程",
        "org_context": [
            "<notice>故障处理中的故障处理流程</notice>",
            "介绍故障处理的总体流程。",
            "如果系统运行异常，可参照故障处理流程、遵照故障处理原则和注意事项来定位故障，并修复系统，如果无法修复请联系华为技术支持工程师。",
            "故障处理流程如图2-1所示。",
            "",
            "",
            "故障处理流程",
            "一般情况下，故障处理分为故障定位、信息收集和故障排除三个阶段。"
        ],
        "subsections": [],
        "embed_context": [
            "故障处理中的故障处理流程",
            "故障处理流程",
            "介绍故障处理的总体流程。",
            "如果系统运行异常，可参照故障处理流程、遵照故障处理原则和注意事项来定位故障，并修复系统，如果无法修复请联系华为技术支持工程师。",
            "故障处理流程如图2-1所示。",
            "故障处理流程",
            "一般情况下，故障处理分为故障定位、信息收集和故障排除三个阶段。"
        ]
    },
    {
        "title": "# 收集故障信息",
        "org_context": [
            "<notice>故障处理中的收集故障信息</notice>",
            "遇到系统故障时，需要及时收集相关信息，以便定位问题及处理。",
            "为了确保客户网络的安全，在收集故障信息之前，请首先获得客户的书面授权。",
            "同时，需遵循所适用国家的法律或公司用户隐私政策采取足够的措施，以确保用户数据受到充分的保护。",
            "请在发现问题时立即收集相关日志，需要收集所有节点的相关日志，系统以节点的IP地址命名各日志压缩包名称。",
            "收集日志后请联系华为技术支持工程师定位故障原因。",
            "系统发生故障时，参考表3-1收集故障信息。",
            "",
            "",
            "故障信息项",
            "|信息项|说明|\n|----|----|\n|时间和地点|故障发生的时间和地点，时间需要精确到分钟。|\n|现象描述|描述故障发生时的现象，越具体越有助于故障的定位。|\n|已采取的措施和结果|在现场采取初步的故障处理措施之后，有可能会出现新的问题，需要将已采取措施的操作步骤和出现的结果进行详细记录。|\n|操作系统版本信息|对于Euler操作系统：<br>使用PuTTY工具以sopuser用户通过SSH方式登录待查询节点，获取节点的IP地址请参见。<br>执行以下命令，查看虚拟机的操作系统版本。<br>> cat /etc/euleros-release<br>EulerOS release 2.0 (SP3)<br>以上述回显信息为例，“2.0 (SP3)”表示操作系统版本。<br>执行以下命令，查看虚拟机的操作系统内核版本。<br>> uname -r<br>3.10.0-514.54.6.7.h146.x86_64<br>以上述回显信息为例，“3.10.0-514.54.6.7.h146.x86_64”表示操作系统的内核版本号。|\n|数据库版本信息|使用PuTTY工具以sopuser用户通过SSH方式登录数据库所在节点，获取数据库所在节点的IP地址请参见。<br>执行以下命令，切换到root用户。<br>> su - root<br>Password:root用户的密码<br>执行以下命令，切换到dbuser用户。<br># su - dbuser<br>执行以下命令，检查GaussDB数据库版本号。<br>$ cd /opt/zenith/app/bin/<br>$ zsql -v<br>GaussDB_T_x.x.x.xxxx Release ...<br>以上述回显为例，“GaussDB_T_x.x.x.xxxx”表示数据库版本。<br>执行以下命令，退出至sopuser用户。<br>$ exit<br># exit|\n|IP地址信息|查看IP地址以及MAC地址信息。<br>使用PuTTY工具以sopuser用户通过SSH方式登录待查询节点，获取节点的IP地址请参见。<br>执行以下命令，查看信息。<br>> ifconfig -a|\n|日志信息|操作系统日志<br>操作系统的日志路径为“/var/log”，获取操作系统日志信息请参见15.14 下载操作系统或数据库日志。<br>数据库日志<br>Zenith：数据库日志文件默认保存在数据库所在节点的“/opt/zenith/data/数据库实例名/log/audit”目录下，获取GaussDB数据库日志信息请参见15.14 下载操作系统或数据库日志。<br>Redis：数据库日志文件“数据库实例名-login.log”默认保存在数据库所在节点的“/opt/redis/data/数据库实例名”目录下，获取Redis数据库日志信息请参见15.14 下载操作系统或数据库日志。<br>服务的运行日志<br>服务运行日志按照时间序列记录。正在记录的日志文件如果大小超过20M，则会转储。每个服务的运行日志会分为两部分：正在记录的运行日志和已经转储的运行日志。<br>使用PuTTY工具以sopuser用户通过SSH方式登录服务所在节点，获取服务所在节点的IP地址请参见15.7 查找进程或服务所在节点的管理IP地址。<br>执行以下命令，切换到ossadm用户。<br>> su - ossadm<br>Password:ossadm用户的密码<br>执行以下命令，将服务的运行日志复制到“<临时目录>”目录。<br>> cp -r <日志目录>/<产品名称>/ServiceName <临时目录><br>执行以下命令，修改文件夹及文件的权限。<br>> cd <临时目录><br>> chgrp -R sopgroup <临时目录>/ServiceName<br>> chmod 750 <临时目录>/ServiceName<br>> chmod -R 640 <临时目录>/ServiceName/*<br>> exit<br>使用FileZilla工具以sopuser用户通过SFTP方式在节点的“<临时目录>/ServiceName”目录中下载服务的运行日志至本地PC。<br>正在记录的运行日志：“root.log”或“ServiceName.log”。<br>已转储的运行日志：root_YYYYMMDDHHmmSSsss.zip或ServiceName_YYYYMMDDHHmmSSsss.zip。<br>说明<br>ServiceName为服务名称。<br>YYYYMMDDHHmmSSsss为时间戳，各字母分别代表：年（YYYY）月（MM）日（DD）时（HH）分（mm）秒（SS）毫秒（sss）。例如20170918112331942代表2017年9月18日11时23分31秒942微秒。<br>服务运行日志一般在“<日志目录>/<产品名称>/ServiceName/”路径下，请以实际环境为准或联系华为技术支持工程师确认。<br>使用PuTTY工具以ossadm用户执行以下命令，删除“<临时目录>”目录下的临时文件夹。<br>> cd <临时目录><br>> rm -rf ServiceName<br>执行以下命令，退出至sopuser用户。<br>> exit|",
            "以下为常见的故障场景：",
            "业务面应用操作异常，需要收集业务面日志。",
            "升级，补丁升级出错，需要收集管理面日志以及应用日志。",
            "可靠性等问题需要收集管理面日志。",
            "Web界面操作报异常，或者资源找不到，数据库连接失败等问题，需要收集业务面日志以及管理面日志。",
            "功能响应慢问题，需要收集业务面日志，接入问题日志。",
            "安装完成后，或者运行一段时间后，31943连接不上或登录不上，需要收集接入问题日志。",
            "应用界面，请求无响应，需要获取业务面日志，接入问题日志。",
            "",
            ""
        ],
        "subsections": [],
        "embed_context": [
            "故障处理中的收集故障信息",
            "收集故障信息",
            "遇到系统故障时，需要及时收集相关信息，以便定位问题及处理。",
            "为了确保客户网络的安全，在收集故障信息之前，请首先获得客户的书面授权。",
            "同时，需遵循所适用国家的法律或公司用户隐私政策采取足够的措施，以确保用户数据受到充分的保护。",
            "请在发现问题时立即收集相关日志，需要收集所有节点的相关日志，系统以节点的IP地址命名各日志压缩包名称。",
            "收集日志后请联系华为技术支持工程师定位故障原因。",
            "系统发生故障时，参考表3-1收集故障信息。",
            "以下为常见的故障场景：",
            "业务面应用操作异常，需要收集业务面日志。",
            "升级，补丁升级出错，需要收集管理面日志以及应用日志。",
            "可靠性等问题需要收集管理面日志。",
            "Web界面操作报异常，或者资源找不到，数据库连接失败等问题，需要收集业务面日志以及管理面日志。",
            "功能响应慢问题，需要收集业务面日志，接入问题日志。",
            "安装完成后，或者运行一段时间后，31943连接不上或登录不上，需要收集接入问题日志。",
            "应用界面，请求无响应，需要获取业务面日志，接入问题日志。"
        ]
    },
    {
        "title": "# 界面登录及显示故障",
        "org_context": [
            "<notice>故障处理中的界面登录及显示故障</notice>",
            "",
            ""
        ],
        "subsections": [
                {
                "title": "## 管理面无法访问",
                "org_context": [
                    "<notice>故障处理中的管理面无法访问</notice>",
                    "现象描述",
                    "使用浏览器访问管理面时，Web登录界面显示异常或者无法登录。",
                    "对于异地容灾场景，本节以在主用站点上操作为例，若备用站点管理面无法访问，请参考主用站点上的操作在备用站点上执行。",
                    "可能原因",
                    "管理节点被下电或者网络异常。",
                    "管理面数据库状态异常。",
                    "管理面服务异常。",
                    "处理步骤",
                    "该故障排查方法比较复杂，此处只介绍初步的排查方法，如果仍不能解决，请联系华为技术支持工程师处理。",
                    "排查管理节点是否被下电。",
                    "请联系管理员检查节点下电情况并上电。",
                    "对于异地容灾场景，请联系管理员检查主用站点和备用站点管理节点的下电情况，若两站点的管理节点都被下电，则联系管理员上电，然后执行以下操作，否则请执行。",
                    "登录管理面，具体操作请参见。",
                    "在管理面主菜单中选择“高可用 > 异地高可用系统 > 管理异地容灾系统”。",
                    "在待同步数据的产品所在行“操作”列中，单击，选择产品的数据同步方向。",
                    "若主站点和备站点的状态非主用和备用，则需要选择产品的数据同步方向，异地容灾系统会根据用户选择方向进行全量数据同步，例如选择从A站点产品向B站点产品同步数据，则B站点的产品数据会被覆盖，并且B站点管理面的用户管理数据将在第二天的00:00:00被A站点管理面的用户管理数据覆盖。",
                    "建议以含有最新数据的产品为主用站点产品，向对端站点产品同步。",
                    "若主站点和备站点的状态为主用和备用，无需选择产品的数据同步方向，系统会自动从主用站点向备用站点同步数据。",
                    "备用站点管理面的用户管理数据，将在第二天的00:00:00被主用站点管理面的用户管理数据覆盖。",
                    "按照界面上的指引完成相关操作。",
                    "检查操作结果。",
                    "如果操作结果与预期不符，请联系华为技术支持工程师。",
                    "在管理面主菜单中选择“高可用 > 异地高可用系统 > 管理异地容灾系统”。",
                    "查看主用站点和备用站点间的心跳状态为。",
                    "查看所有产品的“数据同步状态”为“已同步”或者“同步中”。",
                    "如果“数据同步状态”显示为“延迟”，表示主用站点和备用站点有较多的数据正在同步，请等待数据同步完成后再检查状态。",
                    "主用站点的运维面能正常登录，具体操作请参见15.2 登录运维面。",
                    "在运维面主菜单中选择“业务监控 > 告警监控 > 当前告警”。",
                    "检查告警界面显示正常。",
                    "排查管理面网络是否故障。",
                    "请联系管理员检查网络状态并修改故障。",
                    "排查管理面数据库实例是否异常。",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录管理节点。",
                    "如果管理面的部署模式是集群模式，即存在多个管理节点，请先登录Management0节点执行以下操作，然后登录Management1节点执行以下操作。",
                    "获取节点IP地址的方法请参见。",
                    "执行以下命令，切换至ossadm用户。",
                    "> su - ossadm",
                    "Password:ossadm用户的密码",
                    "执行以下命令，查看管理面数据库运行状态。",
                    "> cd <安装目录>/manager/apps/DBAgent/bin",
                    "> bash dbsvc_adm -cmd query-db-instance",
                    "系统提示如下类似回显信息：",
                    "DBInstanceId            ClassId  InstNumber        Tenant   AzName         IP           Port  State  ...",
                    "backuprdb-0-999         single   backuprdb-0-999   manager  cn-global-1-a  10.7.162.90  26522  --     ...",
                    "cloudsopdbsvr-1-0@2-0   primary  cloudsopdbsvr-1-0 SOP      service        10.7.162.93  32080  Up     ...",
                    "cloudsopdbsvr-1-0@2-0   primary  cloudsopdbsvr-2-0 SOP      service        10.7.162.92  32080  Up     ...",
                    "dbmgr_rdb-0-999         single   dbmgr_rdb-0-999   manager  cn-global-1-a  10.7.162.90  32091  --     ...",
                    "...",
                    "“State”为“Up”或者“--”时，说明该数据库实例运行正常，执行。",
                    "“State”为“Down”时，说明该数据库实例停止运行，执行以下操作。",
                    "如果管理面或者产品的部署模式是集群模式时，在PuTTY工具中以ossadm用户执行以下命令，禁止主备数据库实例在180分钟内发生倒换，否则请跳过本步骤。",
                    "> cd <安装目录>/manager/agent/bin",
                    "> bash dbha_switch_tool.sh -cmd set-ignore-nodes -nodes all -expire 180",
                    "如果回显信息中未显示“Successful”，则表示执行失败，请联系华为技术支持工程师。",
                    "执行以下命令，启动管理面数据库。",
                    "> source <安装目录>/manager/bin/engr_profile.sh",
                    "> ipmc_adm -cmd startdc -tenant manager",
                    "系统提示如下类似回显信息，所有进程都提示“success”，则说明管理面数据库启动成功。",
                    "否则请联系华为技术支持工程师。",
                    "============================ Starting data container processes...",
                    "Starting redis process woadapterrdb-1-14 ... success",
                    "...",
                    "Starting redis process serviceinspectionrdb-1-3 ... success",
                    "Starting redis process privilegerdb-1-28 ... success",
                    "============================ Starting data container processes is complete.",
                    "如果管理面或者产品的部署模式是集群模式时，执行以下命令，恢复主备数据库实例的倒换，否则请跳过本步骤。",
                    "> cd <安装目录>/manager/agent/bin",
                    "> bash dbha_switch_tool.sh -cmd del-ignore-nodes",
                    "如果回显信息中未显示“Successful”，则表示执行失败，请联系华为技术支持工程师。",
                    "排查管理面服务是否异常。",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录管理节点。",
                    "如果管理面的部署模式是集群模式，即存在多个管理节点，请先登录Management0节点执行以下操作，然后登录Management1节点执行以下操作。",
                    "执行以下命令，切换至ossadm用户。",
                    "> su - ossadm",
                    "Password:ossadm用户的密码",
                    "执行以下命令，查看管理面运行状态。",
                    "> source <安装目录>/manager/bin/engr_profile.sh",
                    "> ipmc_adm -cmd statusapp -tenant manager",
                    "系统提示如下类似回显信息：",
                    "Process Name               Process Type           App Name                 Tenant Name  Process Mode  IP               PID     Status",
                    "backupwebsite-0-0          backupwebsite          BackupWebsite            manager      cluster       10.93.95.239     341187  RUNNING",
                    "unideploywebsite-0-0       unideploywebsite       UniDeployWebsite         manager      cluster       10.93.95.239     341202  RUNNING",
                    "mcfebservice-0-0           mcfebservice           MCFEBService             manager      cluster       10.93.95.239     341553  RUNNING",
                    "...",
                    "[All Processes: 16] [Running: 16] [Not Running: 0]",
                    "“Not Running”为“0”时，说明所有进程都运行正常。",
                    "“Not Running”为非“0”时，说明存在停止运行或者故障的进程，执行。",
                    "",
                    "",
                    "执行以下命令，启动管理面服务。",
                    "> ipmc_adm -cmd startapp -tenant manager",
                    "系统提示如下类似回显信息，所有进程都提示“success”，则说明管理面服务启动成功，否则请联系华为技术支持工程师。",
                    "Starting process backupwebsite-0-0 ... success",
                    "Starting process smapp-0-0 ... success",
                    "Starting process cron-0-0 ... success",
                    "...",
                    "----结束",
                    "",
                    ""
                ],
                "subsections": [],
                "embed_context": [
                    "故障处理中的管理面无法访问",
                    "管理面无法访问",
                    "使用浏览器访问管理面时，Web登录界面显示异常或者无法登录。",
                    "对于异地容灾场景，本节以在主用站点上操作为例，若备用站点管理面无法访问，请参考主用站点上的操作在备用站点上执行。",
                    "管理节点被下电或者网络异常。",
                    "管理面数据库状态异常。",
                    "管理面服务异常。",
                    "该故障排查方法比较复杂，此处只介绍初步的排查方法，如果仍不能解决，请联系华为技术支持工程师处理。",
                    "排查管理节点是否被下电。",
                    "请联系管理员检查节点下电情况并上电。",
                    "对于异地容灾场景，请联系管理员检查主用站点和备用站点管理节点的下电情况，若两站点的管理节点都被下电，则联系管理员上电，然后执行以下操作，否则请执行。",
                    "登录管理面，具体操作请参见。",
                    "在管理面主菜单中选择“高可用 > 异地高可用系统 > 管理异地容灾系统”。",
                    "在待同步数据的产品所在行“操作”列中，单击，选择产品的数据同步方向。",
                    "若主站点和备站点的状态非主用和备用，则需要选择产品的数据同步方向，异地容灾系统会根据用户选择方向进行全量数据同步，例如选择从A站点产品向B站点产品同步数据，则B站点的产品数据会被覆盖，并且B站点管理面的用户管理数据将在第二天的00:00:00被A站点管理面的用户管理数据覆盖。",
                    "建议以含有最新数据的产品为主用站点产品，向对端站点产品同步。",
                    "若主站点和备站点的状态为主用和备用，无需选择产品的数据同步方向，系统会自动从主用站点向备用站点同步数据。",
                    "备用站点管理面的用户管理数据，将在第二天的00:00:00被主用站点管理面的用户管理数据覆盖。",
                    "按照界面上的指引完成相关操作。",
                    "检查操作结果。",
                    "如果操作结果与预期不符，请联系华为技术支持工程师。",
                    "在管理面主菜单中选择“高可用 > 异地高可用系统 > 管理异地容灾系统”。",
                    "查看主用站点和备用站点间的心跳状态为。",
                    "查看所有产品的“数据同步状态”为“已同步”或者“同步中”。",
                    "如果“数据同步状态”显示为“延迟”，表示主用站点和备用站点有较多的数据正在同步，请等待数据同步完成后再检查状态。",
                    "主用站点的运维面能正常登录，具体操作请参见15.2 登录运维面。",
                    "在运维面主菜单中选择“业务监控 > 告警监控 > 当前告警”。",
                    "检查告警界面显示正常。",
                    "排查管理面网络是否故障。",
                    "请联系管理员检查网络状态并修改故障。",
                    "排查管理面数据库实例是否异常。",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录管理节点。",
                    "如果管理面的部署模式是集群模式，即存在多个管理节点，请先登录Management0节点执行以下操作，然后登录Management1节点执行以下操作。",
                    "获取节点IP地址的方法请参见。",
                    "执行以下命令，切换至ossadm用户。",
                    "> su - ossadm",
                    "Password:ossadm用户的密码",
                    "执行以下命令，查看管理面数据库运行状态。",
                    "> cd <安装目录>/manager/apps/DBAgent/bin",
                    "> bash dbsvc_adm -cmd query-db-instance",
                    "系统提示如下类似回显信息：",
                    "DBInstanceId            ClassId  InstNumber        Tenant   AzName         IP           Port  State  ...",
                    "backuprdb-0-999         single   backuprdb-0-999   manager  cn-global-1-a  10.7.162.90  26522  --     ...",
                    "cloudsopdbsvr-1-0@2-0   primary  cloudsopdbsvr-1-0 SOP      service        10.7.162.93  32080  Up     ...",
                    "cloudsopdbsvr-1-0@2-0   primary  cloudsopdbsvr-2-0 SOP      service        10.7.162.92  32080  Up     ...",
                    "dbmgr_rdb-0-999         single   dbmgr_rdb-0-999   manager  cn-global-1-a  10.7.162.90  32091  --     ...",
                    "“State”为“Up”或者“--”时，说明该数据库实例运行正常，执行。",
                    "“State”为“Down”时，说明该数据库实例停止运行，执行以下操作。",
                    "如果管理面或者产品的部署模式是集群模式时，在PuTTY工具中以ossadm用户执行以下命令，禁止主备数据库实例在180分钟内发生倒换，否则请跳过本步骤。",
                    "> cd <安装目录>/manager/agent/bin",
                    "> bash dbha_switch_tool.sh -cmd set-ignore-nodes -nodes all -expire 180",
                    "如果回显信息中未显示“Successful”，则表示执行失败，请联系华为技术支持工程师。",
                    "执行以下命令，启动管理面数据库。",
                    "> source <安装目录>/manager/bin/engr_profile.sh",
                    "> ipmc_adm -cmd startdc -tenant manager",
                    "系统提示如下类似回显信息，所有进程都提示“success”，则说明管理面数据库启动成功。",
                    "否则请联系华为技术支持工程师。",
                    "============================ Starting data container processes...",
                    "Starting redis process woadapterrdb-1-14 ... success",
                    "Starting redis process serviceinspectionrdb-1-3 ... success",
                    "Starting redis process privilegerdb-1-28 ... success",
                    "============================ Starting data container processes is complete.",
                    "如果管理面或者产品的部署模式是集群模式时，执行以下命令，恢复主备数据库实例的倒换，否则请跳过本步骤。",
                    "> cd <安装目录>/manager/agent/bin",
                    "> bash dbha_switch_tool.sh -cmd del-ignore-nodes",
                    "如果回显信息中未显示“Successful”，则表示执行失败，请联系华为技术支持工程师。",
                    "排查管理面服务是否异常。",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录管理节点。",
                    "如果管理面的部署模式是集群模式，即存在多个管理节点，请先登录Management0节点执行以下操作，然后登录Management1节点执行以下操作。",
                    "执行以下命令，切换至ossadm用户。",
                    "> su - ossadm",
                    "Password:ossadm用户的密码",
                    "执行以下命令，查看管理面运行状态。",
                    "> source <安装目录>/manager/bin/engr_profile.sh",
                    "> ipmc_adm -cmd statusapp -tenant manager",
                    "系统提示如下类似回显信息：",
                    "Process Name               Process Type           App Name                 Tenant Name  Process Mode  IP               PID     Status",
                    "backupwebsite-0-0          backupwebsite          BackupWebsite            manager      cluster       10.93.95.239     341187  RUNNING",
                    "unideploywebsite-0-0       unideploywebsite       UniDeployWebsite         manager      cluster       10.93.95.239     341202  RUNNING",
                    "mcfebservice-0-0           mcfebservice           MCFEBService             manager      cluster       10.93.95.239     341553  RUNNING",
                    "[All Processes: 16] [Running: 16] [Not Running: 0]",
                    "“Not Running”为“0”时，说明所有进程都运行正常。",
                    "“Not Running”为非“0”时，说明存在停止运行或者故障的进程，执行。",
                    "执行以下命令，启动管理面服务。",
                    "> ipmc_adm -cmd startapp -tenant manager",
                    "系统提示如下类似回显信息，所有进程都提示“success”，则说明管理面服务启动成功，否则请联系华为技术支持工程师。",
                    "Starting process backupwebsite-0-0 ... success",
                    "Starting process smapp-0-0 ... success",
                    "Starting process cron-0-0 ... success",
                    "----结束"
                ]
            },
            {
                "title": "## tmp目录的空间满导致管理面 Web页面显示空白",
                "org_context": [
                    "<notice>故障处理中的tmp目录的空间满导致管理面 Web页面显示空白</notice>",
                    "现象描述",
                    "登录管理面的Web页面后，页面显示空白。",
                    "可能原因",
                    "管理面页面的部分请求，会将一些缓存文件写入缓存目录，当缓存目录磁盘被占满时，缓存目录无法写入，造成这些请求资源文件无法返回管理面，页面显示空白。",
                    "处理步骤",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录管理节点。",
                    "如果管理面的部署模式是集群模式，请分别登录所有管理节点执行以下操作。",
                    "获取节点IP地址的方法请参见。",
                    "执行以下命令，查看节点上磁盘空间情况。",
                    "> df -h",
                    "系统回显如下类似信息：",
                    "Filesystem                  Size  Used Avail Use% Mounted on",
                    "/dev/sda3                    17G  5.0G   11G  32% /",
                    "...",
                    "/dev/sda6                   5.0G  208M  4.8G   5% /tmp",
                    "/dev/mapper/oss_vg-opt_vol  290G  290G    0G 100% /opt",
                    "tmpfs                       3.2G     0  3.2G   0% /run/user/3001",
                    "tmpfs                       3.2G     0  3.2G   0% /run/user/0",
                    "在“Mounted on”列中查看“/opt”目录所对应的“Use%”是否达到100%。",
                    "若达到100%，是由于“<安装目录>/tmp”目录空间已满，请清理该目录的空间或者联系华为技术支持工程师。",
                    "若未达到100%，是由于其他原因造成，请联系华为技术支持工程师。",
                    "清理目录空间后重新登录管理面，具体操作请参见。",
                    "若页面显示正常，操作结束。",
                    "若页面仍显示空白，请联系华为技术支持工程师。",
                    "----结束",
                    "",
                    ""
                ],
                "subsections": [],
                "embed_context": [
                    "故障处理中的tmp目录的空间满导致管理面 Web页面显示空白",
                    "tmp目录的空间满导致管理面 Web页面显示空白",
                    "登录管理面的Web页面后，页面显示空白。",
                    "管理面页面的部分请求，会将一些缓存文件写入缓存目录，当缓存目录磁盘被占满时，缓存目录无法写入，造成这些请求资源文件无法返回管理面，页面显示空白。",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录管理节点。",
                    "如果管理面的部署模式是集群模式，请分别登录所有管理节点执行以下操作。",
                    "获取节点IP地址的方法请参见。",
                    "执行以下命令，查看节点上磁盘空间情况。",
                    "> df -h",
                    "系统回显如下类似信息：",
                    "Filesystem                  Size  Used Avail Use% Mounted on",
                    "/dev/sda3                    17G  5.0G   11G  32% /",
                    "/dev/sda6                   5.0G  208M  4.8G   5% /tmp",
                    "/dev/mapper/oss_vg-opt_vol  290G  290G    0G 100% /opt",
                    "tmpfs                       3.2G     0  3.2G   0% /run/user/3001",
                    "tmpfs                       3.2G     0  3.2G   0% /run/user/0",
                    "在“Mounted on”列中查看“/opt”目录所对应的“Use%”是否达到100%。",
                    "若达到100%，是由于“<安装目录>/tmp”目录空间已满，请清理该目录的空间或者联系华为技术支持工程师。",
                    "若未达到100%，是由于其他原因造成，请联系华为技术支持工程师。",
                    "清理目录空间后重新登录管理面，具体操作请参见。",
                    "若页面显示正常，操作结束。",
                    "若页面仍显示空白，请联系华为技术支持工程师。",
                    "----结束"
                ]
            },
            {
                "title": "## Firefox浏览器访问Web界面时显示异常",
                "org_context": [
                    "<notice>故障处理中的Firefox浏览器访问Web界面时显示异常</notice>",
                    "现象描述",
                    "使用Firefox浏览器访问Web界面时，滚动鼠标时界面出现黑色暗影情况，设置Firefox浏览器的参数后可解决这些问题。",
                    "不同版本的浏览器界面可能有所差异，以下涉及浏览器的内容仅用作举例 ，在其他版本的浏览器上进行相关操作与此类似，请以实际情况为准。",
                    "可能原因",
                    "浏览器参数设置造成显示异常。",
                    "处理步骤",
                    "单击Firefox浏览器右上角的。",
                    "单击“选项”。",
                    "在左侧选择“常规”，在右侧的“性能”区域中取消勾选“使用推荐的性能设置”，然后取消勾选“自动启用硬件加速”。",
                    "重启Firefox浏览器。",
                    "----结束",
                    "",
                    ""
                ],
                "subsections": [],
                "embed_context": [
                    "故障处理中的Firefox浏览器访问Web界面时显示异常",
                    "Firefox浏览器访问Web界面时显示异常",
                    "使用Firefox浏览器访问Web界面时，滚动鼠标时界面出现黑色暗影情况，设置Firefox浏览器的参数后可解决这些问题。",
                    "不同版本的浏览器界面可能有所差异，以下涉及浏览器的内容仅用作举例 ，在其他版本的浏览器上进行相关操作与此类似，请以实际情况为准。",
                    "浏览器参数设置造成显示异常。",
                    "单击Firefox浏览器右上角的。",
                    "单击“选项”。",
                    "在左侧选择“常规”，在右侧的“性能”区域中取消勾选“使用推荐的性能设置”，然后取消勾选“自动启用硬件加速”。",
                    "重启Firefox浏览器。",
                    "----结束"
                ]
            },
            {
                "title": "## 系统管理员无法成功登录运维面",
                "org_context": [
                    "<notice>故障处理中的系统管理员无法成功登录运维面</notice>",
                    "现象描述及可能原因",
                    "根据表4-1中系统管理员登录运维面时的现象描述，查询故障的可能原因。",
                    "",
                    "",
                    "故障现象与原因关系表",
                    "|现象描述|可能原因|处理步骤|\n|----|----|----|\n|提示用户被停用。|系统管理员被命令工具停用。|确认是否可以启用系统管理员。<br>是，请参考《管理员指南》中“停用/启用或重命名缺省Web用户”章节，启用系统管理员。<br>否，使用其他用户登录。|\n|提示禁止当前用户从本机登录。|当前登录IP地址不在系统管理员绑定的登录IP地址控制策略范围内。<br>多网卡客户端登录时，未将所有网卡IP地址都添加到系统管理员绑定的登录IP地址控制策略中。|问题处理可参见：和|\n|提示本用户的在线会话数达到上限。|系统管理员达到最大在线会话数后被限制登录。|等待其他系统管理员会话被注销。|\n|提示系统登录模式为单用户模式。|系统管理员将系统登录模式设置为单用户模式。|等待系统管理员维护操作完成，并将系统登录模式设置为多用户模式。|\n|提示当前登录IP地址被锁定。|使用错误密码连续登录失败次数达到系统限制，IP地址被锁定。|等待界面提示的锁定时间之后登录。<br>通过其他IP地址登录。|\n|获取验证码功能已被锁定，请于次日重试。|连续发送验证码5次未使用。|等待界面提示的锁定时间之后登录。|\n|验证码发送失败，请联系管理员。|短信网关或邮箱服务器未正确配置。<br>说明<br>短信网关设置或邮箱服务器的设置入口为：在运维面主菜单中选择“系统 > 系统设置 > 远程通知”。|检查短信网关是否配置正确。<br>检查邮箱服务器是否配置正确。|\n|提示系统管理员被锁定，还需XXX分钟自动解锁。<br>说明<br>XXX代表用户被锁定的剩余时间。|系统管理员使用错误密码10分钟内连续登录失败次数达到5次，用户被锁定。|等待界面提示的锁定时间之后登录。|",
                    "如果以上措施无法解决故障，请联系华为技术支持工程师处理。",
                    "处理步骤",
                    "提示禁止当前用户从本机登录。",
                    "",
                    "",
                    "单网卡用户登录",
                    "以安全管理员登录运维面。",
                    "在运维面主菜单中选择“系统 > 安全管理 > 用户管理”。",
                    "在左侧导航树中选择“用户”。",
                    "在用户列表中单击系统管理员的用户名，在“访问控制”页签查看系统管理员所绑定的登录IP地址控制策略。",
                    "使用系统管理员绑定的IP地址，以系统管理员登录运维面。",
                    "在运维面主菜单中选择“系统 > 安全管理 > 用户管理”。",
                    "在左侧导航树中选择“用户”。",
                    "在用户列表中单击系统管理员的用户名，在“访问控制”页签查看系统管理员所绑定的登录IP地址控制策略。",
                    "单击“修改”，查看是否存在符合需求的IP地址控制策略。",
                    "存在，直接选择对应的IP地址控制策略，单击“确定”。",
                    "不存在，单击“创建”，创建新的IP地址控制策略，单击“确定”。",
                    "",
                    "",
                    "多网卡用户登录",
                    "重复登录时，系统管理员是否可以登录。",
                    "可以登录，执行。",
                    "无法登录，执行。",
                    "",
                    "",
                    "以安全管理员登录运维面。",
                    "在运维面主菜单中选择“系统 > 安全管理 > 用户管理”。",
                    "在左侧导航树中选择“用户”。",
                    "在用户列表中单击系统管理员的用户名，在“访问控制”页签查看系统管理员所绑定的登录IP地址控制策略。",
                    "使用系统管理员绑定的IP地址，以系统管理员登录运维面。",
                    "",
                    "",
                    "在运维面主菜单中选择“系统 > 安全管理 > 用户管理”。",
                    "在左侧导航树中选择“用户”。",
                    "在用户列表中单击系统管理员的用户名，在“访问控制”页签查看系统管理员所绑定的登录IP地址控制策略。",
                    "单击“修改”，将所有网卡IP地址都添加到系统管理员绑定的登录IP地址控制策略中。",
                    "建议与总结",
                    "如果使用命令工具停用系统管理员，可能导致系统管理员无法登录，请谨慎使用。",
                    "如果系统管理员给自己设置了登录IP地址控制策略，可能导致不在IP地址范围内的系统管理员被强制退出，无法登录，请谨慎设置。",
                    "建议设置合适的系统管理员在线会话数限制策略。",
                    "如果给系统管理员设置达到最大在线会话数后限制登录，当登录的系统管理员数量达到上限时，可能导致系统管理员无法登录，请谨慎设置。",
                    "如果已经设置的系统管理员在线会话数限制策略不满足用户使用，建议在用户管理中修改。",
                    "修改系统管理员的最大在线会话数。",
                    "修改系统管理员达到最大在线会话数后的登录方式为“注销会话”。",
                    "如果已经设置的系统管理员在线会话数限制策略无需修改，可在用户管理中强制注销系统管理员的在线会话。",
                    "当需要对系统进行维护操作时，可以将登录模式设置为单用户模式。",
                    "切换到单用户模式后，只允许一个系统管理员通过一个客户端登录，其他所有的在线用户将被强制退出。",
                    "为避免影响其他人正常使用系统，在单用户模式下完成维护操作后，请及时切换为多用户模式。",
                    "如果已经设置的IP锁定策略不满足用户使用，建议在帐号策略中修改。",
                    "",
                    ""
                ],
                "subsections": [],
                "embed_context": [
                    "故障处理中的系统管理员无法成功登录运维面",
                    "系统管理员无法成功登录运维面",
                    "现象描述及可能原因",
                    "根据表4-1中系统管理员登录运维面时的现象描述，查询故障的可能原因。",
                    "如果以上措施无法解决故障，请联系华为技术支持工程师处理。",
                    "提示禁止当前用户从本机登录。",
                    "单网卡用户登录",
                    "以安全管理员登录运维面。",
                    "在运维面主菜单中选择“系统 > 安全管理 > 用户管理”。",
                    "在左侧导航树中选择“用户”。",
                    "在用户列表中单击系统管理员的用户名，在“访问控制”页签查看系统管理员所绑定的登录IP地址控制策略。",
                    "使用系统管理员绑定的IP地址，以系统管理员登录运维面。",
                    "在运维面主菜单中选择“系统 > 安全管理 > 用户管理”。",
                    "在左侧导航树中选择“用户”。",
                    "在用户列表中单击系统管理员的用户名，在“访问控制”页签查看系统管理员所绑定的登录IP地址控制策略。",
                    "单击“修改”，查看是否存在符合需求的IP地址控制策略。",
                    "存在，直接选择对应的IP地址控制策略，单击“确定”。",
                    "不存在，单击“创建”，创建新的IP地址控制策略，单击“确定”。",
                    "多网卡用户登录",
                    "重复登录时，系统管理员是否可以登录。",
                    "可以登录，执行。",
                    "无法登录，执行。",
                    "以安全管理员登录运维面。",
                    "在运维面主菜单中选择“系统 > 安全管理 > 用户管理”。",
                    "在左侧导航树中选择“用户”。",
                    "在用户列表中单击系统管理员的用户名，在“访问控制”页签查看系统管理员所绑定的登录IP地址控制策略。",
                    "使用系统管理员绑定的IP地址，以系统管理员登录运维面。",
                    "在运维面主菜单中选择“系统 > 安全管理 > 用户管理”。",
                    "在左侧导航树中选择“用户”。",
                    "在用户列表中单击系统管理员的用户名，在“访问控制”页签查看系统管理员所绑定的登录IP地址控制策略。",
                    "单击“修改”，将所有网卡IP地址都添加到系统管理员绑定的登录IP地址控制策略中。",
                    "如果使用命令工具停用系统管理员，可能导致系统管理员无法登录，请谨慎使用。",
                    "如果系统管理员给自己设置了登录IP地址控制策略，可能导致不在IP地址范围内的系统管理员被强制退出，无法登录，请谨慎设置。",
                    "建议设置合适的系统管理员在线会话数限制策略。",
                    "如果给系统管理员设置达到最大在线会话数后限制登录，当登录的系统管理员数量达到上限时，可能导致系统管理员无法登录，请谨慎设置。",
                    "如果已经设置的系统管理员在线会话数限制策略不满足用户使用，建议在用户管理中修改。",
                    "修改系统管理员的最大在线会话数。",
                    "修改系统管理员达到最大在线会话数后的登录方式为“注销会话”。",
                    "如果已经设置的系统管理员在线会话数限制策略无需修改，可在用户管理中强制注销系统管理员的在线会话。",
                    "当需要对系统进行维护操作时，可以将登录模式设置为单用户模式。",
                    "切换到单用户模式后，只允许一个系统管理员通过一个客户端登录，其他所有的在线用户将被强制退出。",
                    "为避免影响其他人正常使用系统，在单用户模式下完成维护操作后，请及时切换为多用户模式。",
                    "如果已经设置的IP锁定策略不满足用户使用，建议在帐号策略中修改。"
                ]
            },
            {
                "title": "## 非系统管理员无法成功登录运维面",
                "org_context": [
                    "<notice>故障处理中的非系统管理员无法成功登录运维面</notice>",
                    "现象描述及可能原因",
                    "根据表4-2中用户登录运维面时的现象描述，查询故障的可能原因。",
                    "",
                    "",
                    "故障现象与原因关系表",
                    "|现象描述|可能原因|处理步骤|\n|----|----|----|\n|提示用户被停用。|用户被安全管理员停用。<br>帐户成功登录次数已达到帐户可登录次数限制。<br>帐户有效期已到。<br>用户连续未登录天数已达到未登录用户策略限制。<br>帐号连续未使用天数已达到帐号停用策略限制。|问题处理可参见：|\n|提示在线会话数达到上限。|用户达到最大在线会话数后被限制登录。|问题处理可参见：|\n|提示禁止当前用户在该时间段内登录。|用户当前登录时间点不在用户绑定的登录时间控制策略范围内。|问题处理可参见：|\n|提示禁止当前用户从本机登录。|当前IP地址不在用户绑定的登录IP地址控制策略的范围内。<br>多网卡客户端登录时，未将所有网卡IP地址都添加到用户绑定的登录IP地址控制策略中。|问题处理可参见：|\n|提示用户被锁定，还需XXX分钟自动解锁。<br>说明<br>XXX代表用户被锁定的剩余时间。|用户使用错误密码连续登录失败次数达到系统限制，用户被锁定，且“帐户解锁设置”设置为会自动解锁。|问题处理可参见：|\n|提示用户被锁定，联系管理员解锁。|用户使用错误密码连续登录失败次数达到系统限制，用户被锁定，且“帐户解锁设置”设置为需要手动解锁。|问题处理可参见：|\n|提示当前登录IP地址被锁定。|用户使用错误密码连续登录失败次数达到系统限制，IP地址被锁定。|等待界面提示的锁定时间之后登录。<br>通过其他IP地址登录。|\n|提示系统登录模式为单用户模式。|系统管理员将系统登录模式设置为单用户模式。|等待系统管理员维护操作完成，并将系统登录模式设置为多用户模式。|\n|提示密码已过期，修改密码时提示用户不允许修改密码。|用户密码已过期，且安全管理员设置用户不能修改密码。|问题处理可参见：|\n|提示请输入正确的用户名和密码。|用户已被删除。<br>用户名输入错误。<br>密码输入错误。<br>系统开启远端认证，且不支持本地用户认证，本地用户认证失败。|问题处理可参见：|\n|获取验证码功能已被锁定，请于次日重试。|连续发送验证码5次未使用。|等待界面提示的锁定时间之后登录。<br>联系安全管理员关闭双因素认证。|\n|验证码发送失败，请联系管理员。|短信网关设置或邮箱设置未正确配置。|检查短信网关设置是否配置正确。<br>检查邮箱设置是否配置正确。|",
                    "如果以上措施无法解决故障，请联系系统管理员处理。",
                    "如果是安全管理员无法登录，需要以系统管理员登录运维面，执行以上措施。",
                    "处理步骤",
                    "",
                    "",
                    "提示用户被停用。",
                    "以安全管理员登录运维面。",
                    "在运维面主菜单中选择“系统 > 安全管理 > 用户管理”。",
                    "在左侧导航树中选择“用户”。",
                    "在用户列表中，单击目标用户“操作”列的“启用”，启用该用户。",
                    "单击目标用户名，在“基本信息”页签下，单击“修改”。",
                    "展开“高级设置”，设置合适的用户策略，排除故障。",
                    "修改“帐户可登录次数”。",
                    "修改“帐户有效期”。",
                    "修改“启用未登录用户策略”。",
                    "单击“确定”。",
                    "",
                    "",
                    "提示在线会话数达到上限。",
                    "等待该用户的其他会话注销。",
                    "修改该用户的最大在线会话数策略。",
                    "以安全管理员登录运维面。",
                    "在运维面主菜单中选择“系统 > 安全管理 > 用户管理”。",
                    "在左侧导航树中选择“用户”。",
                    "并在用户列表中单击目标用户名。",
                    "在“基本信息”页签下展开高级设置，单击“修改”。",
                    "执行如下操作，排除故障。",
                    "修改“最大在线会话数”。",
                    "修改“达到最大在线会话数后的登录方式”为“注销会话”。",
                    "单击“确定”。",
                    "强制注销该用户的在线用户会话。",
                    "以安全管理员登录运维面。",
                    "在运维面主菜单中选择“系统 > 安全管理 > 用户管理”。",
                    "在左侧导航树中选择“在线用户”。",
                    "在列表中，选择需要注销的目标用户会话，单击“操作”列的“强制注销”。",
                    "",
                    "",
                    "提示禁止当前用户在该时间段内登录。",
                    "以安全管理员登录运维面。",
                    "在运维面主菜单中选择“系统 > 安全管理 > 用户管理”。",
                    "在左侧导航树中选择“用户”。",
                    "在用户列表中单击目标用户名，在“访问控制”页签查看该用户所绑定的登录时间控制策略。",
                    "单击“修改”，查看是否存在符合需求的时间策略。",
                    "存在，直接选择对应的时间策略，单击“确定”。",
                    "不存在，单击“创建”，创建新的时间策略，单击“确定”。",
                    "",
                    "",
                    "提示禁止当前用户从本机登录。",
                    "单网卡用户登录。",
                    "",
                    "",
                    "以安全管理员登录运维面。",
                    "在运维面主菜单中选择“系统 > 安全管理 > 用户管理”。",
                    "在左侧导航树中选择“用户”。",
                    "在用户列表中单击目标用户名，在“访问控制”页签查看该用户所绑定的登录IP地址控制策略。",
                    "",
                    "",
                    "单击“修改”，查看是否存在符合需求的IP地址控制策略。",
                    "存在，直接选择对应的IP地址控制策略，单击“确定”。",
                    "不存在，单击“创建”，创建新的IP地址控制策略，单击“确定”。",
                    "多网卡用户登录，将所有网卡IP地址都添加到该用户绑定的登录IP地址控制策略中，执行-。",
                    "",
                    "",
                    "提示用户被锁定，还需XXX分钟自动解锁。",
                    "等待界面提示的锁定时间之后自动解锁。",
                    "",
                    "",
                    "手动解锁该用户。",
                    "以安全管理员登录运维面。",
                    "在运维面主菜单中选择“系统 > 安全管理 > 用户管理”。",
                    "在左侧导航树中选择“用户”。",
                    "在用户列表中，单击目标用户“操作”列的“ > 解锁”。",
                    "",
                    "",
                    "提示密码已过期，修改密码时提示用户不允许修改密码。",
                    "以安全管理员登录运维面。",
                    "在运维面主菜单中选择“系统 > 安全管理 > 用户管理”。",
                    "在左侧导航树中选择“用户”。",
                    "执行如下操作，排除故障。",
                    "在用户列表中，单击目标用户“操作”列的“重置密码”，输入新密码。",
                    "在用户列表中单击目标用户名，在“基本信息”页签下展开高级设置，单击“修改”。",
                    "关闭“用户不能更改密码”策略。",
                    "修改“启用密码修改时间策略”。",
                    "单击“确定”。",
                    "",
                    "",
                    "提示请输入正确的用户名和密码。",
                    "检查该用户是否存在。",
                    "以安全管理员登录运维面。",
                    "在运维面主菜单中选择“系统 > 安全管理 > 用户管理”。",
                    "在左侧导航树中选择“用户”。",
                    "在用户列表中，查看目标用户是否存在。",
                    "存在，执行。",
                    "不存在，创建用户或使用已存在的用户登录运维面。",
                    "",
                    "",
                    "检查系统是否已开启远端认证且不支持本地用户认证。",
                    "以系统管理员登录运维面。",
                    "在运维面主菜单中选择“系统 > 安全管理 > 认证管理”。",
                    "在左侧导航树中选择“远端认证配置”，查看是否已开启了LDAP认证或RADIUS认证且不支持本地用户认证。",
                    "已开启远端认证且不支持本地用户认证，执行。",
                    "已开启远端认证且支持本地用户认证，执行。",
                    "未开启，执行。",
                    "如果开启了LDAP认证，查看“远端认证配置”时默认在“LDAP认证”页面。",
                    "如果开启了RADIUS认证，查看“远端认证配置”时默认在“RADIUS认证”页面。",
                    "",
                    "",
                    "根据使用场景确认是否继续使用远端认证。",
                    "是，开启“支持本地用户认证”，单击“应用”。",
                    "如果开启的是LDAP认证且“用户认证方式”为“固定用户”时，选中“支持本地用户认证”后，“管理员密码”会被清空，需重新输入。",
                    "如果开启的是RADIUS认证，选中“支持本地用户认证”后，“共享密钥”会被清空，需重新输入。",
                    "否，切换到“本地认证”，单击“应用”。",
                    "",
                    "",
                    "如果用户依然无法登录，在用户列表中，单击目标用户“操作”列的“重置密码”，重置该用户的密码。",
                    "建议与总结",
                    "如果已设置的“用户策略”不满足用户使用，建议可以在“用户策略”页面修改以下策略解决：",
                    "在“帐号策略”页面修改“启用帐号停用策略”、“启用帐号锁定策略”和“启用IP锁定策略”。",
                    "在“密码策略”页面修改“密码过期强制修改策略”。",
                    "如果已经设置的未登录用户策略不满足用户使用，建议在帐号策略中修改。",
                    "满足用户未登录用户策略的用户被删除后系统无法恢复，请谨慎设置。",
                    "",
                    ""
                ],
                "subsections": [],
                "embed_context": [
                    "故障处理中的非系统管理员无法成功登录运维面",
                    "非系统管理员无法成功登录运维面",
                    "现象描述及可能原因",
                    "根据表4-2中用户登录运维面时的现象描述，查询故障的可能原因。",
                    "如果以上措施无法解决故障，请联系系统管理员处理。",
                    "如果是安全管理员无法登录，需要以系统管理员登录运维面，执行以上措施。",
                    "提示用户被停用。",
                    "以安全管理员登录运维面。",
                    "在运维面主菜单中选择“系统 > 安全管理 > 用户管理”。",
                    "在左侧导航树中选择“用户”。",
                    "在用户列表中，单击目标用户“操作”列的“启用”，启用该用户。",
                    "单击目标用户名，在“基本信息”页签下，单击“修改”。",
                    "展开“高级设置”，设置合适的用户策略，排除故障。",
                    "修改“帐户可登录次数”。",
                    "修改“帐户有效期”。",
                    "修改“启用未登录用户策略”。",
                    "单击“确定”。",
                    "提示在线会话数达到上限。",
                    "等待该用户的其他会话注销。",
                    "修改该用户的最大在线会话数策略。",
                    "以安全管理员登录运维面。",
                    "在运维面主菜单中选择“系统 > 安全管理 > 用户管理”。",
                    "在左侧导航树中选择“用户”。",
                    "并在用户列表中单击目标用户名。",
                    "在“基本信息”页签下展开高级设置，单击“修改”。",
                    "执行如下操作，排除故障。",
                    "修改“最大在线会话数”。",
                    "修改“达到最大在线会话数后的登录方式”为“注销会话”。",
                    "单击“确定”。",
                    "强制注销该用户的在线用户会话。",
                    "以安全管理员登录运维面。",
                    "在运维面主菜单中选择“系统 > 安全管理 > 用户管理”。",
                    "在左侧导航树中选择“在线用户”。",
                    "在列表中，选择需要注销的目标用户会话，单击“操作”列的“强制注销”。",
                    "提示禁止当前用户在该时间段内登录。",
                    "以安全管理员登录运维面。",
                    "在运维面主菜单中选择“系统 > 安全管理 > 用户管理”。",
                    "在左侧导航树中选择“用户”。",
                    "在用户列表中单击目标用户名，在“访问控制”页签查看该用户所绑定的登录时间控制策略。",
                    "单击“修改”，查看是否存在符合需求的时间策略。",
                    "存在，直接选择对应的时间策略，单击“确定”。",
                    "不存在，单击“创建”，创建新的时间策略，单击“确定”。",
                    "提示禁止当前用户从本机登录。",
                    "单网卡用户登录。",
                    "以安全管理员登录运维面。",
                    "在运维面主菜单中选择“系统 > 安全管理 > 用户管理”。",
                    "在左侧导航树中选择“用户”。",
                    "在用户列表中单击目标用户名，在“访问控制”页签查看该用户所绑定的登录IP地址控制策略。",
                    "单击“修改”，查看是否存在符合需求的IP地址控制策略。",
                    "存在，直接选择对应的IP地址控制策略，单击“确定”。",
                    "不存在，单击“创建”，创建新的IP地址控制策略，单击“确定”。",
                    "多网卡用户登录，将所有网卡IP地址都添加到该用户绑定的登录IP地址控制策略中，执行-。",
                    "提示用户被锁定，还需XXX分钟自动解锁。",
                    "等待界面提示的锁定时间之后自动解锁。",
                    "手动解锁该用户。",
                    "以安全管理员登录运维面。",
                    "在运维面主菜单中选择“系统 > 安全管理 > 用户管理”。",
                    "在左侧导航树中选择“用户”。",
                    "在用户列表中，单击目标用户“操作”列的“ > 解锁”。",
                    "提示密码已过期，修改密码时提示用户不允许修改密码。",
                    "以安全管理员登录运维面。",
                    "在运维面主菜单中选择“系统 > 安全管理 > 用户管理”。",
                    "在左侧导航树中选择“用户”。",
                    "执行如下操作，排除故障。",
                    "在用户列表中，单击目标用户“操作”列的“重置密码”，输入新密码。",
                    "在用户列表中单击目标用户名，在“基本信息”页签下展开高级设置，单击“修改”。",
                    "关闭“用户不能更改密码”策略。",
                    "修改“启用密码修改时间策略”。",
                    "单击“确定”。",
                    "提示请输入正确的用户名和密码。",
                    "检查该用户是否存在。",
                    "以安全管理员登录运维面。",
                    "在运维面主菜单中选择“系统 > 安全管理 > 用户管理”。",
                    "在左侧导航树中选择“用户”。",
                    "在用户列表中，查看目标用户是否存在。",
                    "存在，执行。",
                    "不存在，创建用户或使用已存在的用户登录运维面。",
                    "检查系统是否已开启远端认证且不支持本地用户认证。",
                    "以系统管理员登录运维面。",
                    "在运维面主菜单中选择“系统 > 安全管理 > 认证管理”。",
                    "在左侧导航树中选择“远端认证配置”，查看是否已开启了LDAP认证或RADIUS认证且不支持本地用户认证。",
                    "已开启远端认证且不支持本地用户认证，执行。",
                    "已开启远端认证且支持本地用户认证，执行。",
                    "未开启，执行。",
                    "如果开启了LDAP认证，查看“远端认证配置”时默认在“LDAP认证”页面。",
                    "如果开启了RADIUS认证，查看“远端认证配置”时默认在“RADIUS认证”页面。",
                    "根据使用场景确认是否继续使用远端认证。",
                    "是，开启“支持本地用户认证”，单击“应用”。",
                    "如果开启的是LDAP认证且“用户认证方式”为“固定用户”时，选中“支持本地用户认证”后，“管理员密码”会被清空，需重新输入。",
                    "如果开启的是RADIUS认证，选中“支持本地用户认证”后，“共享密钥”会被清空，需重新输入。",
                    "否，切换到“本地认证”，单击“应用”。",
                    "如果用户依然无法登录，在用户列表中，单击目标用户“操作”列的“重置密码”，重置该用户的密码。",
                    "如果已设置的“用户策略”不满足用户使用，建议可以在“用户策略”页面修改以下策略解决：",
                    "在“帐号策略”页面修改“启用帐号停用策略”、“启用帐号锁定策略”和“启用IP锁定策略”。",
                    "在“密码策略”页面修改“密码过期强制修改策略”。",
                    "如果已经设置的未登录用户策略不满足用户使用，建议在帐号策略中修改。",
                    "满足用户未登录用户策略的用户被删除后系统无法恢复，请谨慎设置。"
                ]
            },
            {
                "title": "## 上传文件时，长时间停留在正在导入状态",
                "org_context": [
                    "<notice>故障处理中的上传文件时，长时间停留在正在导入状态</notice>",
                    "现象描述",
                    "使用Firefox浏览器，执行文件上传时，例如：批量导入用户、批量创建角色、上传密码字典等，界面长时间停留在正在导入状态，最终上传失败。",
                    "可能原因",
                    "使用Firefox浏览器，执行文件上传过程中，对已在界面上选择的文件进行修改而使文件发生变化，导致浏览器无法正确获取已选择文件的信息。",
                    "处理步骤",
                    "在文件上传界面，删除已选择的文件，重新选择文件上传。",
                    "建议与总结",
                    "由于Firefox浏览器的原因，在使用Firefox浏览器执行文件上传时，不能对已选择的上传文件进行修改，否则将导致上传文件失败。",
                    "建议使用其他浏览器避免此问题。",
                    "",
                    ""
                ],
                "subsections": [],
                "embed_context": [
                    "故障处理中的上传文件时，长时间停留在正在导入状态",
                    "上传文件时，长时间停留在正在导入状态",
                    "使用Firefox浏览器，执行文件上传时，例如：批量导入用户、批量创建角色、上传密码字典等，界面长时间停留在正在导入状态，最终上传失败。",
                    "使用Firefox浏览器，执行文件上传过程中，对已在界面上选择的文件进行修改而使文件发生变化，导致浏览器无法正确获取已选择文件的信息。",
                    "在文件上传界面，删除已选择的文件，重新选择文件上传。",
                    "由于Firefox浏览器的原因，在使用Firefox浏览器执行文件上传时，不能对已选择的上传文件进行修改，否则将导致上传文件失败。",
                    "建议使用其他浏览器避免此问题。"
                ]
            }
        ],
        "embed_context": [
            "故障处理中的界面登录及显示故障",
            "界面登录及显示故障"
        ]
    },
    {
        "title": "# 节点故障",
        "org_context": [
            "<notice>故障处理中的节点故障</notice>",
            "根据节点的部署模式，参见表5-1执行相关操作。",
            "判断管理节点和产品节点是否为同一个节点，具体操作请参见。",
            "",
            "",
            "场景分类",
            "|部署模式|操作|\n|----|----|\n|管理节点和产品节点为不同的节点。|管理节点故障，请参见。<br>产品节点故障，请参见。|\n|管理节点和产品节点为同一个节点，且共部署节点故障。|管理节点或产品节点故障，请参见。|\n|管理面的部署模式是集群模式且多个管理节点同时故障。|请参见。|",
            "",
            ""
        ],
        "subsections": [
            {
                "title": "## 管理节点故障",
                "org_context": [
                    "<notice>故障处理中的管理节点故障</notice>",
                    "现象描述",
                    "使用浏览器登录管理面或使用PuTTY工具登录管理节点时，无法登录或无响应。",
                    "可能原因",
                    "网络故障。",
                    "该节点被下电。",
                    "操作系统损坏。",
                    "管理面应用软件或数据库损坏。",
                    "处理步骤",
                    "依次执行表5-2中的检查项及其检查方法，按照对应的故障排除方法修复故障节点。",
                    "导致管理节点故障的因素复杂，本节提供该故障基本的排除方法，如果按照以下操作仍然无法解决该故障，请收集故障处理过程中的信息，联系华为技术支持工程师协助解决。",
                    "进行故障修复时，恢复操作系统将会格式化系统分区，请谨慎操作。",
                    "",
                    "",
                    "管理节点故障排查",
                    "|序号|检查项|检查方法|故障排除方法|\n|----|----|----|----|\n|1|网络连接|联系管理员检查网络是否异常。|请联系管理员修复网络。|\n|2|虚拟机或物理机运行状态|联系管理员检查虚拟机或物理机是否异常，例如是否被下电或者被删除。|请联系管理员修复虚拟机或物理机。|\n|3|操作系统运行状态|重启虚拟机或物理机，尝试使用PuTTY工具以sopuser用户通过SSH方式登录故障节点。|如果不能正常登录或无响应，则说明故障节点的操作系统异常，恢复其操作系统，具体操作请参见《管理员指南》中的“恢复管理节点操作系统”章节。|\n|4|管理面运行状态|登录管理面。|如果能正常进入登录页面，则故障已恢复。<br>如果无法正常进入登录页面或无响应，您需要对管理面执行故障恢复，具体操作请参见《管理员指南》中的“恢复管理面的应用程序和数据”章节。|",
                    "重新登录管理面，查看节点的状态。",
                    "如果恢复的节点的状态为“正常”，则故障已恢复。",
                    "如果恢复的节点的状态为“断连”，请联系华为技术支持工程师。",
                    "----结束",
                    "",
                    ""
                ],
                "subsections": [],
                "embed_context": [
                    "故障处理中的管理节点故障",
                    "管理节点故障",
                    "使用浏览器登录管理面或使用PuTTY工具登录管理节点时，无法登录或无响应。",
                    "该节点被下电。",
                    "操作系统损坏。",
                    "管理面应用软件或数据库损坏。",
                    "依次执行表5-2中的检查项及其检查方法，按照对应的故障排除方法修复故障节点。",
                    "导致管理节点故障的因素复杂，本节提供该故障基本的排除方法，如果按照以下操作仍然无法解决该故障，请收集故障处理过程中的信息，联系华为技术支持工程师协助解决。",
                    "进行故障修复时，恢复操作系统将会格式化系统分区，请谨慎操作。",
                    "重新登录管理面，查看节点的状态。",
                    "如果恢复的节点的状态为“正常”，则故障已恢复。",
                    "如果恢复的节点的状态为“断连”，请联系华为技术支持工程师。",
                    "----结束"
                ]
            },
            {
                "title": "## 产品节点故障",
                "org_context": [
                    "<notice>故障处理中的产品节点故障</notice>",
                    "现象描述",
                    "在管理面主菜单中选择“维护 > 运维管理 > 全景监控”。",
                    "在左侧导航树中选择“节点监控”，然后在“节点监控”页面左上方选择对应的产品，查看产品下节点的连接状态为“断连”。",
                    "可能原因",
                    "网络故障。",
                    "该节点被下电。",
                    "该节点操作系统无法登录或无响应。",
                    "处理步骤",
                    "对于异地容灾场景，需删除主用站点和备用站点间的异地容灾关系，具体操作请参见《管理员指南》中的“删除异地容灾系统”章节。",
                    "依次执行表5-3中的检查项及其检查方法，按照对应的故障排除方法修复故障节点。",
                    "导致产品节点故障的因素复杂，本节提供该故障基本的排除方法，如果按照以下操作仍然无法解决该故障，请收集故障处理过程中的信息，联系华为技术支持工程师协助解决。",
                    "进行故障修复时，恢复操作系统将会格式化系统分区，请谨慎操作。",
                    "",
                    "",
                    "产品节点故障排查",
                    "|序号|检查项|检查方法|故障排除方法|\n|----|----|----|----|\n|1|网络连接|联系管理员检查网络是否异常。|请联系管理员修复网络。|\n|2|虚拟机或物理机运行状态|联系管理员检查虚拟机或物理机是否异常，例如是否被下电或者被删除。|请联系管理员修复虚拟机或物理机。|\n|3|操作系统运行状态|重启虚拟机或物理机，尝试使用PuTTY工具以sopuser用户通过SSH方式登录故障节点。|如果不能正常登录或无响应，则说明故障节点的操作系统异常，恢复其操作系统，具体操作请参见《管理员指南》中的“恢复产品节点操作系统”章节。|\n|4|产品应用程序运行状态|在管理面主菜单中选择“维护 > 运维管理 > 全景监控”。<br>在左侧导航树中选择“节点监控”。<br>在“节点监控”页面左上方选择对应的产品。<br>在页面中查看节点的“连接状态”为“断连”。|如果“节点类型”为“APP”，则说明异常节点为产品应用程序，您需要对异常的应用执行产品应用程序故障恢复，具体操作请参见《管理员指南》中的“恢复产品应用程序”章节。<br>如果“节点类型”为“DB”，则说明异常节点为数据库应用程序，您需要对异常的数据库应用程序进行恢复，具体操作请参见《管理员指南》中的“恢复数据库应用程序”章节。<br>如果“节点类型”为“APP”和“DB”，则说明异常节点为数据库应用程序和产品应用程序，您需要对异常节点先执行数据库应用恢复，再执行产品应用恢复，具体操作请参见《管理员指南》中的“恢复产品应用程序”和“恢复数据库应用程序”章节。|\n|5|数据库实例状态|在管理面主菜单中选择“维护 > 运维管理 > 全景监控”。<br>在左侧导航树中选择“中间件监控”。<br>在“中间件监控”页面左上方选择对应的产品。<br>在页面的“关系数据库”或“Redis数据库”页签下查看数据库实例的状态为“未运行”。|数据库实例的状态为“未运行”，您需对数据库实例进行故障恢复，具体操作请参见。|\n|6|服务实例状态|在管理面主菜单中选择“维护 > 运维管理 > 全景监控”。<br>在左侧导航树中选择“服务监控”。<br>在“服务监控”页面左上方选择对应的产品。<br>在页面的“服务”页签下查看服务实例的状态为“未运行”、“部分运行”、“未知”或“故障”。|服务实例的状态为“未运行”、“部分运行”和“故障”，您需要对故障服务实例进行产品数据恢复，具体操作请参见《管理员指南》中的“恢复产品数据”章节。<br>服务实例的状态为“未知”，请联系华为技术支持工程师。|",
                    "重新登录管理面，查看节点的状态。",
                    "如果恢复的节点的状态为“正常”，则故障已恢复。",
                    "如果恢复的节点的状态为“断连”，请联系华为技术支持工程师。",
                    "对于异地容灾场景，需重新建立主用站点和备用站点的异地容灾关系，具体操作请参见《管理员指南》中的“配置异地容灾系统”章节。",
                    "----结束",
                    "",
                    ""
                ],
                "subsections": [],
                "embed_context": [
                    "故障处理中的产品节点故障",
                    "产品节点故障",
                    "在管理面主菜单中选择“维护 > 运维管理 > 全景监控”。",
                    "在左侧导航树中选择“节点监控”，然后在“节点监控”页面左上方选择对应的产品，查看产品下节点的连接状态为“断连”。",
                    "该节点被下电。",
                    "该节点操作系统无法登录或无响应。",
                    "对于异地容灾场景，需删除主用站点和备用站点间的异地容灾关系，具体操作请参见《管理员指南》中的“删除异地容灾系统”章节。",
                    "依次执行表5-3中的检查项及其检查方法，按照对应的故障排除方法修复故障节点。",
                    "导致产品节点故障的因素复杂，本节提供该故障基本的排除方法，如果按照以下操作仍然无法解决该故障，请收集故障处理过程中的信息，联系华为技术支持工程师协助解决。",
                    "进行故障修复时，恢复操作系统将会格式化系统分区，请谨慎操作。",
                    "重新登录管理面，查看节点的状态。",
                    "如果恢复的节点的状态为“正常”，则故障已恢复。",
                    "如果恢复的节点的状态为“断连”，请联系华为技术支持工程师。",
                    "对于异地容灾场景，需重新建立主用站点和备用站点的异地容灾关系，具体操作请参见《管理员指南》中的“配置异地容灾系统”章节。",
                    "----结束"
                ]
            },
            {
                "title": "## 共部署节点故障",
                "org_context": [
                    "<notice>故障处理中的共部署节点故障</notice>",
                    "现象描述",
                    "使用浏览器登录管理面或使用PuTTY工具登录共部署节点时，无法登录或无响应。",
                    "可能原因",
                    "网络故障。",
                    "该节点被下电。",
                    "操作系统损坏。",
                    "应用程序或数据库损坏。",
                    "处理步骤",
                    "导致管理节点故障的因素复杂，本节提供该故障基本的排除方法，如果按照以下操作仍然无法解决该故障，请收集故障处理过程中的信息，联系华为技术支持工程师协助解决。",
                    "进行故障修复时，恢复操作系统将会格式化系统分区，请谨慎操作。",
                    "如果使用共部署节点作为备份服务器，且该节点故障，则管理面不支持修复该节点故障。",
                    "依次执行表5-4中的检查项及其检查方法，按照对应的故障排除方法修复故障节点。",
                    "",
                    "",
                    "产品节点故障排查",
                    "|序号|检查项|检查方法|故障排除方法|\n|----|----|----|----|\n|1|网络连接|联系管理员检查网络是否异常。|请联系管理员修复网络。|\n|2|虚拟机或物理机运行状态|联系管理员检查虚拟机或物理机是否异常，例如是否被下电或者被删除。|请联系管理员修复虚拟机或物理机。|\n|3|操作系统运行状态|重启虚拟机或物理机，尝试使用PuTTY工具以sopuser用户通过SSH方式登录故障节点。|如果不能正常登录或无响应，则说明故障节点的操作系统异常，恢复其操作系统，具体操作请参见《管理员指南》中的“恢复管理节点操作系统”章节。|\n|4|管理面运行状态|登录管理面。|如果能正常进入登录页面，则故障已恢复。<br>如果无法正常进入登录页面或无响应，您需要对管理面执行故障恢复，具体操作请参见《管理员指南》中的“恢复管理面的应用程序和数据”章节。|\n|5|产品应用程序运行状态|在管理面主菜单中选择“维护 > 运维管理 > 全景监控”。<br>在左侧导航树中选择“节点监控”。<br>在“节点监控”页面左上方选择对应的产品。<br>在页面中查看节点的“连接状态”为“断连”。|如果“节点类型”为“APP”，则说明异常节点为产品应用程序，您需要对异常的应用执行产品应用程序故障恢复，具体操作请参见《管理员指南》中的“恢复产品应用程序”章节。<br>如果“节点类型”为“DB”，则说明异常节点为数据库应用程序，您需要对异常的数据库应用程序进行恢复，具体操作请参见《管理员指南》中的“恢复数据库应用程序”章节。<br>如果“节点类型”为“APP”和“DB”，则说明异常节点为数据库应用程序和产品应用程序，您需要对异常节点先执行数据库应用恢复，再执行产品应用恢复，具体操作请参见《管理员指南》中的“恢复产品应用程序”和“恢复数据库应用程序”章节。|\n|6|数据库实例状态|在管理面主菜单中选择“维护 > 运维管理 > 全景监控”。<br>在左侧导航树中选择“中间件监控”。<br>在“中间件监控”页面左上方选择对应的产品。<br>在页面的“关系数据库”或“Redis数据库”页签下查看数据库实例的状态为“未运行”。|数据库实例的状态为“未运行”，您需对数据库实例进行故障恢复，具体操作请参见。|\n|7|服务实例状态|在管理面主菜单中选择“维护 > 运维管理 > 全景监控”。<br>在左侧导航树中选择“服务监控”。<br>在“服务监控”页面左上方选择对应的产品。<br>在页面的“服务”页签下查看服务实例的状态为“未运行”、“部分运行”、“未知”或“故障”。|服务实例的状态为“未运行”、“部分运行”和“故障”，您需要对故障服务实例进行产品数据恢复，具体操作请参见《管理员指南》中的“恢复产品数据”章节。<br>服务实例的状态为“未知”，请联系华为技术支持工程师。|",
                    "尝试使用PuTTY工具以sopuser用户通过SSH方式是否能登录故障节点。",
                    "如果正常登录，则说明节点故障已修复，结束本节操作。",
                    "如果不能正常登录或无响应，则说明故障节点的操作系统异常，恢复其操作系统，具体操作请参见《管理员指南》中的“恢复管理节点操作系统”章节。",
                    "----结束",
                    "",
                    ""
                ],
                "subsections": [],
                "embed_context": [
                    "故障处理中的共部署节点故障",
                    "共部署节点故障",
                    "使用浏览器登录管理面或使用PuTTY工具登录共部署节点时，无法登录或无响应。",
                    "该节点被下电。",
                    "操作系统损坏。",
                    "应用程序或数据库损坏。",
                    "导致管理节点故障的因素复杂，本节提供该故障基本的排除方法，如果按照以下操作仍然无法解决该故障，请收集故障处理过程中的信息，联系华为技术支持工程师协助解决。",
                    "进行故障修复时，恢复操作系统将会格式化系统分区，请谨慎操作。",
                    "如果使用共部署节点作为备份服务器，且该节点故障，则管理面不支持修复该节点故障。",
                    "依次执行表5-4中的检查项及其检查方法，按照对应的故障排除方法修复故障节点。",
                    "尝试使用PuTTY工具以sopuser用户通过SSH方式是否能登录故障节点。",
                    "如果正常登录，则说明节点故障已修复，结束本节操作。",
                    "如果不能正常登录或无响应，则说明故障节点的操作系统异常，恢复其操作系统，具体操作请参见《管理员指南》中的“恢复管理节点操作系统”章节。",
                    "----结束"
                ]
            },
            {
                "title": "## 多个管理节点同时故障（GaussDB）",
                "org_context": [
                    "<notice>故障处理中的多个管理节点同时故障（GaussDB）</notice>",
                    "现象描述",
                    "管理面的部署模式是集群模式且使用的数据库为GaussDB，管理面无法正常访问。",
                    "可能原因",
                    "管理面服务或数据库异常。",
                    "多个管理节点同时故障，例如：",
                    "Management0节点故障，Management1节点下电。",
                    "管理面数据库主备倒换后成为双备状态等。",
                    "前提条件",
                    "请确保备份服务器下备份文件存在，否则将导致恢复管理面失败。",
                    "管理节点的操作系统运行正常。",
                    "已获取待恢复管理节点的固定IP地址、ossadm、root和sopuser用户的密码。",
                    "已获取备份服务器的端口、IP地址、用户名与密码，并确保备份服务器与待恢复管理节点之间的网络能正常通信。",
                    "若系统已使用数据完整性校验密钥的保护密码，确保已获取保护密码。",
                    "处理步骤",
                    "依次在Management2、Management1、Management0节点上执行~。",
                    "进行恢复前的准备工作，防止后续步骤中需要查询信息导致恢复操作中断。",
                    "防止PuTTY工具超时断连，请设置PuTTY工具在2小时内不断连，具体操作请参见。",
                    "若管理节点和产品节点为同一个节点且使用同一个数据库软件时，确认是否需要恢复数据库软件，具体操作请参见。",
                    "是，则在的恢复命令中加参数“-restore_type ALL”。",
                    "否，则在的恢复命令中不加参数“-restore_type ALL”。",
                    "查看管理面备份文件的版本与当前管理面的版本是否一致，具体操作请参见。",
                    "若备份文件的版本与管理面版本一致，执行恢复操作。",
                    "若备份文件的版本与管理面版本不一致，此时执行恢复操作，可能导致恢复后节点服务异常，建议获取版本一致的备份文件进行恢复，若没有版本一致的备份文件，请联系华为技术支持工程师处理。",
                    "使用PuTTY工具以sopuser通过SSH方式登录所有故障的管理节点，具体操作请参见。",
                    "请勿使用管理节点的浮动IP地址登录节点，须使用固定IP地址登录，否则将导致恢复管理面失败。",
                    "执行以下命令，切换到ossadm用户。",
                    "> su - ossadm",
                    "Password:ossadm用户的密码",
                    "执行以下命令，将备份服务器上的备份文件management.tar.gz、management.tar.gz.sign存放至故障的管理节点的“<临时目录>”目录下。",
                    "> cd <临时目录>",
                    "> sftp -P 备份服务器端口 备份服务器用户名@[备份服务器IP地址]",
                    "系统提示如下信息时，输入备份服务器用户的密码，并按“Enter”。",
                    "备份服务器用户名@备份服务器IP地址's password:备份服务器用户的密码",
                    "Connected to 10.10.10.10.",
                    "> get 配置备份参数的路径/management/management/时间戳/节点名称/management.tar.gz",
                    "> get 配置备份参数的路径/management/management/时间戳/节点名称/management.tar.gz.sign",
                    "管理面备份文件及其签名文件的存储路径为：配置备份参数的路径/management/management/时间戳/节点名称，例如：“backup/management/management/20190729002834588/node name”。",
                    "系统提示如下类似回显信息，“100%”表示文件传输完成。",
                    "Fetching /备份服务器用户根目录/配置备份参数的路径/management/management/时间戳/节点名称/management.tar.gz.sign to management.tar.gz.sign ...100% ...",
                    "执行以下命令，退出sftp模式连接备份服务器。",
                    "> exit",
                    "执行以下命令，修改备份文件的权限。",
                    "> chmod 640 <临时目录>/management.tar.gz",
                    "> chmod 640 <临时目录>/management.tar.gz.sign",
                    "执行以下命令，停止管理面服务和数据库。",
                    "> source <安装目录>/manager/bin/engr_profile.sh",
                    "> ipmc_adm -cmd stopmgr",
                    "系统提示如下类似回显信息，则说明管理面服务和数据库停止成功，请执行。",
                    "如果停止失败，执行。",
                    "...",
                    "============================ Stopping management processes is complete.",
                    "...",
                    "============================ Stopping management dc is complete",
                    "执行以下操作，进行恢复前预处理。",
                    "执行以下命令，切换到root用户。",
                    "> su - root",
                    "Password:root用户的密码",
                    "执行以下命令，查看是否存在“<共享目录>/manager”目录。",
                    "# cd <共享目录>/manager",
                    "系统回显如下类似信息，表示不存在对应的目录，请执行。",
                    "No such file or directory",
                    "执行以下命令，将“<共享目录>/manager”目录备份至“<共享目录>/manager-bak”后，再清理“<共享目录>/manager/MCZKService/”目录。",
                    "# cp -a <共享目录>/manager <共享目录>/manager-bak",
                    "# rm -rf <共享目录>/manager/MCZKService/",
                    "",
                    "",
                    "执行以下命令，查询是否存在ossadm和dbuser用户启动的进程，存在时清理对应用户进程。",
                    "# ps -ef | grep -E '^UID|^ossadm|^dbuser'",
                    "系统回显如下类似信息：",
                    "UID         PID   PPID  C STIME TTY    TIME ...",
                    "ossadm     5270  35779  0 15:04 ?     00:00:00 ...",
                    "dbuser     5322      1  8 11:36 ?     00:18:26 ...",
                    "...",
                    "如果“UID”的值为“ossadm”，表示存在ossadm用户启动的进程，则执行以下命令清理ossadm用户进程。",
                    "# ps -fww -uossadm --no-headers |awk '{print $2}'|xargs kill -9",
                    "如果“UID”的值为“dbuser”，表示存在dbuser用户启动的进程，则执行以下命令清理dbuser用户进程。",
                    "# ps -fww -udbuser --no-headers |awk '{print $2}'|xargs kill -9",
                    "如果“UID”的值无“ossadm”和“dbuser”，请跳过此步骤。",
                    "执行后使用ps -ef命令再次查询，确保已无ossadm和dbuser用户启动的进程。",
                    "执行以下命令，退出root用户。",
                    "# exit",
                    "执行以下命令，在Management0或Management1节点上查找“mgrdbInstanceName”的主数据库实例所在节点。",
                    "如果故障节点是Management2节点时，请跳过此步骤。",
                    "> cd <临时目录>",
                    "> zgrep --binary-files=text 'mgrdbInstanceName=managedbsvr' management.tar.gz",
                    "若系统回显如下类似信息，则表示该节点为“mgrdbInstanceName”的主数据库实例所在节点。",
                    "mgrdbInstanceName=managedbsvr-0-999",
                    "若系统没有回显信息，则表示该节点为“mgrdbInstanceName”的备数据库实例所在节点。",
                    "参见表5-5执行相关操作恢复管理面的应用程序和数据。",
                    "必须按照先“mgrdbInstanceName”的主数据库实例所在节点，再“mgrdbInstanceName”的备数据库实例所在节点，最后其他节点的顺序分别在节点执行～，否则将导致恢复失败。",
                    "",
                    "",
                    "恢复管理面",
                    "|节点|操作|\n|----|----|\n|“mgrdbInstanceName”的主数据库实例所在节点|> bash <系统应用程序目录>/local/osconfig/os/bin/startup.sh -pkg <临时目录>/management.tar.gz -cmd restoreManagement.sh -params -role MASTER<br>若系统回显如下信息时，表示系统已使用数据完整性校验密钥的保护密码且需要输入保护密码，以解密主密钥。<br>Please enter the protect password:<br>说明<br>请根据中的查询结果，需要恢复数据库软件时，请在命令后加参数“-restore_type ALL”，否则不加该参数（缺省值为不恢复数据库软件）。恢复数据库软件时，可能会导致产品功能短暂不可用。此处以恢复数据库软件为例：<br>> bash <系统应用程序目录>/local/osconfig/os/bin/startup.sh -pkg <临时目录>/management.tar.gz -cmd restoreManagement.sh -params -role MASTER -restore_type ALL<br>系统回显类似如下信息时，请输入“y”或“n”并按“Enter”：<br>1.Are you sure you want to restore the database applications? [y/n]<br>输入“y”，系统开始恢复数据库软件。<br>输入“n”，系统退出恢复该节点的应用程序和数据。<br>系统回显类似如下信息时，请输入“y”或“n”并按“Enter”：<br>2.Are you sure you want to rebuild the product database instance? [y/n]<br>输入“y”，系统会自动判断需重建的产品数据库实例并重建。<br>输入“n”，系统不会重建产品数据库实例。|\n|“mgrdbInstanceName”的备数据库实例所在节点或其他节点|在主数据库实例所在节点执行以下命令，查询主数据库实例的状态是否恢复完成。<br>> cd <安装目录>/manager/apps/DBAgent/bin<br>> bash dbsvc_adm -cmd query-db-instance -type zenith -tenant manager | grep Master<br>系统回显类似如下信息，查看所有实例的状态是否为“NORMAL”。<br>DBInstanceId        ...      RplStatus    ... <br>managedbsvr-0-999   ...      NORMAL       ... <br>...<br>须等待所有实例的状态都为“NORMAL”，再执行，若等待5分钟后还有实例的状态不是“NORMAL”，请联系华为技术支持工程师处理。<br>在其他节点执行以下命令，恢复节点的管理面的应用程序和数据。<br>> bash <系统应用程序目录>/local/osconfig/os/bin/startup.sh -pkg <临时目录>/management.tar.gz -cmd restoreManagement.sh -params -role SLAVE<br>若系统回显如下信息时，表示系统已使用数据完整性校验密钥的保护密码且需要输入保护密码，以解密主密钥。<br>Please enter the protect password:<br>说明<br>请根据中的查询结果，需要恢复数据库软件时，请在命令后加参数“-restore_type ALL”，否则不加该参数（缺省值为不恢复数据库软件）。恢复数据库软件时，可能会导致产品功能短暂不可用。此处以恢复数据库软件为例：<br>> bash <系统应用程序目录>/local/osconfig/os/bin/startup.sh -pkg <临时目录>/management.tar.gz -cmd restoreManagement.sh -params -role SLAVE -restore_type ALL<br>系统回显类似如下信息时，请输入“y”或“n”并按“Enter”：<br>1.Are you sure you want to restore the database applications? [y/n]<br>输入“y”，系统开始恢复数据库软件。<br>输入“n”，系统退出恢复该节点的应用程序和数据。<br>系统回显类似如下信息时，请输入“y”或“n”并按“Enter”：<br>2.Are you sure you want to rebuild the product database instance? [y/n]<br>输入“y”，系统会自动判断需重建的产品数据库实例并重建。<br>输入“n”，系统不会重建产品数据库实例。|",
                    "系统回显以下信息时，表示管理面恢复成功，且数据库实例和管理面服务也成功启动。",
                    "Management restored successfully.",
                    "系统回显以下信息时，说明恢复过程中启动管理面服务失败。",
                    "请先联系华为技术支持工程师，查看管理面数据库实例的状态是否正常。",
                    "ERROR: Start management app service failed.",
                    "ERROR: Please check if the dbInstance status is ok, if its not ok, please recovery the dbInstance first, and then try to start management.",
                    "ERROR: Failed to restore management.",
                    "管理面数据库实例状态正常，说明管理面服务启动失败并不是由管理面数据库实例状态异常所导致，请联系华为技术支持工程师处理。",
                    "管理面数据库实例状态异常，请先修复数据库，具体操作请参见，并手动启动管理面服务，具体操作请参见。",
                    "系统回显类似如下信息，说明校验管理面备份文件失败，请联系华为技术支持工程师处理。",
                    "ERROR: Verify /opt/backupManagement/management.tar.gz failed.",
                    "ERROR: Failed to restore management.",
                    "系统回显类似如下信息时，说明任务执行失败，请联系华为技术支持工程师处理。",
                    "ERROR: Failed to restore management.",
                    "删除临时目录或文件。",
                    "执行以下命令，删除“<临时目录>”目录下的临时文件。",
                    "> cd <临时目录>",
                    "> rm -f management.tar.gz management.tar.gz.sign",
                    "执行以下命令，删除恢复预处理时备份的“manager-bak”目录。",
                    "若不存在“manager-bak”目录，请跳过此步骤。",
                    "> su - root",
                    "Password:root用户的密码",
                    "> rm -rf <共享目录>/manager-bak",
                    "> exit",
                    "检查管理面恢复结果。",
                    "在管理面主菜单中选择“维护 > 运维管理 > 全景监控”。",
                    "在监控页面左上方选择CloudSOP-UniEP。",
                    "分别在“节点监控”、“服务监控”、“中间件监控”页面查看服务和数据库实例的运行状态。",
                    "节点状态为“连接”、服务和数据库实例状态均为“正在运行”，则管理面恢复成功，否则请联系华为技术支持工程师处理。",
                    "检查产品的状态是否正常。",
                    "在管理面主菜单中选择“维护 > 运维管理 > 全景监控”。",
                    "在“中间件监控”页面左上方选择对应的产品。",
                    "在“关系数据库”或“Redis数据库”页签中检查产品数据库实例的“状态”是否均为“正在运行”。",
                    "是，则说明管理面恢复成功，且产品业务正常。",
                    "否，请先修复数据库，具体操作请参见。",
                    "若管理节点和产品节点为同一个节点，则还需恢复产品的应用程序和产品数据，须严格按照恢复产品应用程序、恢复产品数据的顺序依次执行且无需重复执行产品数据的恢复，具体操作请参见《管理员指南》中“恢复产品应用程序”和“恢复产品数据”章节。",
                    "判断管理节点和产品节点是否为同一个节点，具体操作请参见。",
                    "----结束",
                    "",
                    ""
                ],
                "subsections": [],
                "embed_context": [
                    "故障处理中的多个管理节点同时故障（GaussDB）",
                    "多个管理节点同时故障（GaussDB）",
                    "管理面的部署模式是集群模式且使用的数据库为GaussDB，管理面无法正常访问。",
                    "管理面服务或数据库异常。",
                    "多个管理节点同时故障，例如：",
                    "Management0节点故障，Management1节点下电。",
                    "管理面数据库主备倒换后成为双备状态等。",
                    "请确保备份服务器下备份文件存在，否则将导致恢复管理面失败。",
                    "管理节点的操作系统运行正常。",
                    "已获取待恢复管理节点的固定IP地址、ossadm、root和sopuser用户的密码。",
                    "已获取备份服务器的端口、IP地址、用户名与密码，并确保备份服务器与待恢复管理节点之间的网络能正常通信。",
                    "若系统已使用数据完整性校验密钥的保护密码，确保已获取保护密码。",
                    "依次在Management2、Management1、Management0节点上执行~。",
                    "进行恢复前的准备工作，防止后续步骤中需要查询信息导致恢复操作中断。",
                    "防止PuTTY工具超时断连，请设置PuTTY工具在2小时内不断连，具体操作请参见。",
                    "若管理节点和产品节点为同一个节点且使用同一个数据库软件时，确认是否需要恢复数据库软件，具体操作请参见。",
                    "是，则在的恢复命令中加参数“-restore_type ALL”。",
                    "否，则在的恢复命令中不加参数“-restore_type ALL”。",
                    "查看管理面备份文件的版本与当前管理面的版本是否一致，具体操作请参见。",
                    "若备份文件的版本与管理面版本一致，执行恢复操作。",
                    "若备份文件的版本与管理面版本不一致，此时执行恢复操作，可能导致恢复后节点服务异常，建议获取版本一致的备份文件进行恢复，若没有版本一致的备份文件，请联系华为技术支持工程师处理。",
                    "使用PuTTY工具以sopuser通过SSH方式登录所有故障的管理节点，具体操作请参见。",
                    "请勿使用管理节点的浮动IP地址登录节点，须使用固定IP地址登录，否则将导致恢复管理面失败。",
                    "执行以下命令，切换到ossadm用户。",
                    "> su - ossadm",
                    "Password:ossadm用户的密码",
                    "执行以下命令，将备份服务器上的备份文件management.tar.gz、management.tar.gz.sign存放至故障的管理节点的“<临时目录>”目录下。",
                    "> cd <临时目录>",
                    "> sftp -P 备份服务器端口 备份服务器用户名@[备份服务器IP地址]",
                    "系统提示如下信息时，输入备份服务器用户的密码，并按“Enter”。",
                    "备份服务器用户名@备份服务器IP地址's password:备份服务器用户的密码",
                    "Connected to 10.10.10.10.",
                    "> get 配置备份参数的路径/management/management/时间戳/节点名称/management.tar.gz",
                    "> get 配置备份参数的路径/management/management/时间戳/节点名称/management.tar.gz.sign",
                    "管理面备份文件及其签名文件的存储路径为：配置备份参数的路径/management/management/时间戳/节点名称，例如：“backup/management/management/20190729002834588/node name”。",
                    "系统提示如下类似回显信息，“100%”表示文件传输完成。",
                    "Fetching /备份服务器用户根目录/配置备份参数的路径/management/management/时间戳/节点名称/management.tar.gz.sign to management.tar.gz.sign ...100% ...",
                    "执行以下命令，退出sftp模式连接备份服务器。",
                    "> exit",
                    "执行以下命令，修改备份文件的权限。",
                    "> chmod 640 <临时目录>/management.tar.gz",
                    "> chmod 640 <临时目录>/management.tar.gz.sign",
                    "执行以下命令，停止管理面服务和数据库。",
                    "> source <安装目录>/manager/bin/engr_profile.sh",
                    "> ipmc_adm -cmd stopmgr",
                    "系统提示如下类似回显信息，则说明管理面服务和数据库停止成功，请执行。",
                    "如果停止失败，执行。",
                    "============================ Stopping management processes is complete.",
                    "============================ Stopping management dc is complete",
                    "执行以下操作，进行恢复前预处理。",
                    "执行以下命令，切换到root用户。",
                    "> su - root",
                    "Password:root用户的密码",
                    "执行以下命令，查看是否存在“<共享目录>/manager”目录。",
                    "# cd <共享目录>/manager",
                    "系统回显如下类似信息，表示不存在对应的目录，请执行。",
                    "No such file or directory",
                    "执行以下命令，将“<共享目录>/manager”目录备份至“<共享目录>/manager-bak”后，再清理“<共享目录>/manager/MCZKService/”目录。",
                    "# cp -a <共享目录>/manager <共享目录>/manager-bak",
                    "# rm -rf <共享目录>/manager/MCZKService/",
                    "执行以下命令，查询是否存在ossadm和dbuser用户启动的进程，存在时清理对应用户进程。",
                    "# ps -ef | grep -E '^UID|^ossadm|^dbuser'",
                    "系统回显如下类似信息：",
                    "UID         PID   PPID  C STIME TTY    TIME ...",
                    "ossadm     5270  35779  0 15:04 ?     00:00:00 ...",
                    "dbuser     5322      1  8 11:36 ?     00:18:26 ...",
                    "如果“UID”的值为“ossadm”，表示存在ossadm用户启动的进程，则执行以下命令清理ossadm用户进程。",
                    "# ps -fww -uossadm --no-headers |awk '{print $2}'|xargs kill -9",
                    "如果“UID”的值为“dbuser”，表示存在dbuser用户启动的进程，则执行以下命令清理dbuser用户进程。",
                    "# ps -fww -udbuser --no-headers |awk '{print $2}'|xargs kill -9",
                    "如果“UID”的值无“ossadm”和“dbuser”，请跳过此步骤。",
                    "执行后使用ps -ef命令再次查询，确保已无ossadm和dbuser用户启动的进程。",
                    "执行以下命令，退出root用户。",
                    "# exit",
                    "执行以下命令，在Management0或Management1节点上查找“mgrdbInstanceName”的主数据库实例所在节点。",
                    "如果故障节点是Management2节点时，请跳过此步骤。",
                    "> cd <临时目录>",
                    "> zgrep --binary-files=text 'mgrdbInstanceName=managedbsvr' management.tar.gz",
                    "若系统回显如下类似信息，则表示该节点为“mgrdbInstanceName”的主数据库实例所在节点。",
                    "mgrdbInstanceName=managedbsvr-0-999",
                    "若系统没有回显信息，则表示该节点为“mgrdbInstanceName”的备数据库实例所在节点。",
                    "参见表5-5执行相关操作恢复管理面的应用程序和数据。",
                    "必须按照先“mgrdbInstanceName”的主数据库实例所在节点，再“mgrdbInstanceName”的备数据库实例所在节点，最后其他节点的顺序分别在节点执行～，否则将导致恢复失败。",
                    "系统回显以下信息时，表示管理面恢复成功，且数据库实例和管理面服务也成功启动。",
                    "Management restored successfully.",
                    "系统回显以下信息时，说明恢复过程中启动管理面服务失败。",
                    "请先联系华为技术支持工程师，查看管理面数据库实例的状态是否正常。",
                    "ERROR: Start management app service failed.",
                    "ERROR: Please check if the dbInstance status is ok, if its not ok, please recovery the dbInstance first, and then try to start management.",
                    "ERROR: Failed to restore management.",
                    "管理面数据库实例状态正常，说明管理面服务启动失败并不是由管理面数据库实例状态异常所导致，请联系华为技术支持工程师处理。",
                    "管理面数据库实例状态异常，请先修复数据库，具体操作请参见，并手动启动管理面服务，具体操作请参见。",
                    "系统回显类似如下信息，说明校验管理面备份文件失败，请联系华为技术支持工程师处理。",
                    "ERROR: Verify /opt/backupManagement/management.tar.gz failed.",
                    "ERROR: Failed to restore management.",
                    "系统回显类似如下信息时，说明任务执行失败，请联系华为技术支持工程师处理。",
                    "ERROR: Failed to restore management.",
                    "删除临时目录或文件。",
                    "执行以下命令，删除“<临时目录>”目录下的临时文件。",
                    "> cd <临时目录>",
                    "> rm -f management.tar.gz management.tar.gz.sign",
                    "执行以下命令，删除恢复预处理时备份的“manager-bak”目录。",
                    "若不存在“manager-bak”目录，请跳过此步骤。",
                    "> su - root",
                    "Password:root用户的密码",
                    "> rm -rf <共享目录>/manager-bak",
                    "> exit",
                    "检查管理面恢复结果。",
                    "在管理面主菜单中选择“维护 > 运维管理 > 全景监控”。",
                    "在监控页面左上方选择CloudSOP-UniEP。",
                    "分别在“节点监控”、“服务监控”、“中间件监控”页面查看服务和数据库实例的运行状态。",
                    "节点状态为“连接”、服务和数据库实例状态均为“正在运行”，则管理面恢复成功，否则请联系华为技术支持工程师处理。",
                    "检查产品的状态是否正常。",
                    "在管理面主菜单中选择“维护 > 运维管理 > 全景监控”。",
                    "在“中间件监控”页面左上方选择对应的产品。",
                    "在“关系数据库”或“Redis数据库”页签中检查产品数据库实例的“状态”是否均为“正在运行”。",
                    "是，则说明管理面恢复成功，且产品业务正常。",
                    "否，请先修复数据库，具体操作请参见。",
                    "若管理节点和产品节点为同一个节点，则还需恢复产品的应用程序和产品数据，须严格按照恢复产品应用程序、恢复产品数据的顺序依次执行且无需重复执行产品数据的恢复，具体操作请参见《管理员指南》中“恢复产品应用程序”和“恢复产品数据”章节。",
                    "判断管理节点和产品节点是否为同一个节点，具体操作请参见。",
                    "----结束"
                ]
            },
            {
                "title": "## 浮动IP地址倒换生效时间超出预期",
                "org_context": [
                    "<notice>故障处理中的浮动IP地址倒换生效时间超出预期</notice>",
                    "现象描述",
                    "浮动IP地址发生倒换时，倒换生效时间超出预期。",
                    "可能原因",
                    "浮动IP地址发生倒换迁移时，若网关支持BRAS(broadband remote access server)认证，浮动IP地址的迁移不会立即生效，只有BRAS路由表老化时或者BRAS检测到原主节点失效才会生效，浮动IP地址倒换时间以路由表老化时间或者BRAS检测时间为准。",
                    "处理步骤",
                    "联系管理员确认BRAS路由表老化时间和检测时间，经过该时间后查看倒换是否成功，若倒换仍未生效，请联系华为技术支持工程师。",
                    "",
                    ""
                ],
                "subsections": [],
                "embed_context": [
                    "故障处理中的浮动IP地址倒换生效时间超出预期",
                    "浮动IP地址倒换生效时间超出预期",
                    "浮动IP地址发生倒换时，倒换生效时间超出预期。",
                    "浮动IP地址发生倒换迁移时，若网关支持BRAS(broadband remote access server)认证，浮动IP地址的迁移不会立即生效，只有BRAS路由表老化时或者BRAS检测到原主节点失效才会生效，浮动IP地址倒换时间以路由表老化时间或者BRAS检测时间为准。",
                    "联系管理员确认BRAS路由表老化时间和检测时间，经过该时间后查看倒换是否成功，若倒换仍未生效，请联系华为技术支持工程师。"
                ]
            },
            {
                "title": "## 部分产品节点下电导致kafka服务异常",
                "org_context": [
                    "<notice>故障处理中的部分产品节点下电导致kafka服务异常</notice>",
                    "现象描述",
                    "ZookeeperService服务部署在多个产品节点上时，当对其中过半的产品节点下电后，其他未下电的ZookeeperService服务所在产品节点的状态异常，ZookeeperService服务影响kafka服务的正常运行，从而导致其他服务通过kafka服务收发消息的功能异常。",
                    "可能原因",
                    "由于ZookeeperService服务自身机制要求，需要确保部署了ZookeeperService服务的一半以上节点处于“正在运行”状态，kafka服务依赖于ZookeeperService服务，当ZookeeperService服务异常时，kafka服务势必也出现异常。",
                    "处理步骤",
                    "对已下电的ZookeeperService服务所在产品节点进行上电操作。",
                    "登录管理面，具体操作请参见。",
                    "在管理面主菜单中选择“维护 > 运维管理 > 全景监控”。",
                    "在左侧导航树中选择“节点监控”。",
                    "在“节点监控”页面左上方选择对应的产品。",
                    "在“节点监控”页面左上方，单击“停止”，在下拉框中选择“停止服务”，按照界面指引完成相关操作。",
                    "待产品的所有服务停止成功后，“节点列表”中节点的“服务状态”显示为“未运行”。",
                    "在“节点监控”页面左上方，单击“启动”，在下拉框中选择“启动服务”，按照界面指引完成相关操作。",
                    "待产品的所有服务启动成功后，“节点列表”中节点的“服务状态”显示为“正在运行”。",
                    "----结束",
                    "",
                    ""
                ],
                "subsections": [],
                "embed_context": [
                    "故障处理中的部分产品节点下电导致kafka服务异常",
                    "部分产品节点下电导致kafka服务异常",
                    "ZookeeperService服务部署在多个产品节点上时，当对其中过半的产品节点下电后，其他未下电的ZookeeperService服务所在产品节点的状态异常，ZookeeperService服务影响kafka服务的正常运行，从而导致其他服务通过kafka服务收发消息的功能异常。",
                    "由于ZookeeperService服务自身机制要求，需要确保部署了ZookeeperService服务的一半以上节点处于“正在运行”状态，kafka服务依赖于ZookeeperService服务，当ZookeeperService服务异常时，kafka服务势必也出现异常。",
                    "对已下电的ZookeeperService服务所在产品节点进行上电操作。",
                    "登录管理面，具体操作请参见。",
                    "在管理面主菜单中选择“维护 > 运维管理 > 全景监控”。",
                    "在左侧导航树中选择“节点监控”。",
                    "在“节点监控”页面左上方选择对应的产品。",
                    "在“节点监控”页面左上方，单击“停止”，在下拉框中选择“停止服务”，按照界面指引完成相关操作。",
                    "待产品的所有服务停止成功后，“节点列表”中节点的“服务状态”显示为“未运行”。",
                    "在“节点监控”页面左上方，单击“启动”，在下拉框中选择“启动服务”，按照界面指引完成相关操作。",
                    "待产品的所有服务启动成功后，“节点列表”中节点的“服务状态”显示为“正在运行”。",
                    "----结束"
                ]
            }
        ],
        "embed_context": [
            "故障处理中的节点故障",
            "节点故障",
            "根据节点的部署模式，参见表5-1执行相关操作。",
            "判断管理节点和产品节点是否为同一个节点，具体操作请参见。"
        ]
    },
    {
        "title": "# 操作系统故障",
        "org_context": [
            "<notice>故障处理中的操作系统故障</notice>",
            "",
            ""
        ],
        "subsections": [
            {
                "title": "## 系统时间与NTP时间不一致",
                "org_context": [
                    "<notice>故障处理中的系统时间与NTP时间不一致</notice>",
                    "现象描述",
                    "服务器操作系统时间与NTP（Network Time Protocol）时钟源的时间不一致，无法从NTP时钟源同步时间。",
                    "在管理面主菜单中选择“维护 > 时间管理 > 配置NTP”，在“配置NTP”页面中，NTP服务器的时间同步状态为“失效”。",
                    "如果管理面的部署模式是集群模式，登录管理面成功后，客户端会话自动注销。",
                    "可能原因",
                    "网络故障。",
                    "NTP时钟源的时间发生跳变。",
                    "前提条件",
                    "已获取待修改时间节点的sopuser、ossadm和root用户的密码。",
                    "已获取主用NTP时钟源的IP地址。",
                    "对于异地容灾场景，需删除主用站点和备用站点间的异地容灾关系，具体操作请参见《管理员指南》中的“删除异地容灾系统”章节。",
                    "操作须知",
                    "时间同步过程中需要重启待修改时间节点的产品服务和数据库，请在业务量低的时期执行以下操作。",
                    "处理步骤",
                    "强制同步时区时间的方法分为界面方式和手工方式两种，使用界面方式执行强制同步的操作后，系统会缓慢调整同步时间，不会发生时间跳变；",
                    "使用手工方式执行强制同步操作后，系统立即强制同步时间，会发生时间跳变，时间跳变对时间要求较高的功能会造成影响（如：备份恢复功能）。",
                    "请根据实际情况选择适合的方式进行时区时间的同步方式。",
                    "界面方式",
                    "登录管理面，具体操作请参见。",
                    "在管理面主菜单中选择“维护 > 时间管理 > 配置时区时间”。",
                    "在“配置时区时间”界面，单击“强制同步”。",
                    "如果强制同步时区时间后，还需要做其他需要重启产品服务或产品数据库的配置操作，请取消选中“警告”对话框中的“强制同步时区时间完成后自动启动产品数据库和产品服务”，则强制同步完成后不会自动启动产品数据库和产品服务，避免产品服务或产品数据库被多次重启。",
                    "对于异地容灾场景，如果强制同步的时区时间是备用站点的时区时间，请取消选中“警告”对话框中“强制同步时区时间完成后自动启动产品数据库和产品服务”，避免备用站点上的产品服务被重启，造成双主运行的异常状态。",
                    "如果强制同步时区时间后，同步后和同步前的时间差，超出会话自动注销等待时间，客户端会话会自动注销。",
                    "在主菜单选择“系统 > 任务列表”，等待（大约1～15分钟）“强制同步时区时间”任务执行成功。",
                    "查看服务器操作系统时间与NTP时钟源的时间是否精确一致。",
                    "是，则故障已恢复。",
                    "否，请联系华为技术支持工程师定位处理。",
                    "对于异地容灾场景，故障修复后需建立主用站点和备用站点的异地容灾关系，具体操作请参见《管理员指南》中的“配置异地容灾系统”章节。",
                    "手工方式",
                    "对于Euler操作系统：",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录待修改时间节点。",
                    "获取节点IP地址的方法请参见。",
                    "执行以下命令，切换到ossadm用户。",
                    "> su - ossadm",
                    "Password:ossadm用户的密码",
                    "执行以下命令停止该节点的服务。",
                    "> source <安装目录>/manager/bin/engr_profile.sh",
                    "> ipmc_adm -cmd stopnode",
                    "当管理面应用程序和数据处于故障，未恢复状态时，请跳过此步骤。",
                    "系统提示如下类似回显信息，所有进程都提示“success”，则说明该节点所有服务停止成功，否则请联系华为技术支持工程师。",
                    "...",
                    "Stopping process mcdrrouteragent-1-0 ... success",
                    "Stopping process testdummyagent-1-0 ... success",
                    "Stopping process uniepservice-1-0 ... success",
                    "...",
                    "",
                    "",
                    "执行以下命令，判断NTP服务使用的组件。",
                    "若待修改时间节点为管理节点，执行如下命令。",
                    "> cat <安装目录>/manager/var/etc/common/custom.cfg | grep MGMT_NTP_TYPE",
                    "若如下类似回显信息，则表示NTP服务使用的是ntpd组件。",
                    "若无回显内容，需要参考下方场景的操作执行。",
                    "MGMT_NTP_TYPE=ntpd",
                    "当管理面的部署模式是集群模式时，只需要在Management0和Management1节点分别执行上述命令。",
                    "若待修改时间节点为产品节点或Management0、Management1之外的管理节点，执行如下命令。",
                    "> bash <系统应用程序目录>/local/osconfig/os/bin/getsupportntptype.sh",
                    "若如下类似回显信息，则表示操作系统支持ntpd组件，NTP服务使用的是ntpd组件。",
                    "[\"ntpd\"]",
                    "若如下类似回显信息，则表示操作系统支持chrony组件，NTP服务使用的是chrony组件。",
                    "[\"chrony\"]",
                    "若如下类似回显信息，则表示操作系统支持ntpd和chrony组件，NTP服务默认优先使用chrony组件。",
                    "[\"ntpd\", \"chrony\"]",
                    "执行以下命令，切换到root用户。",
                    "> su - root",
                    "Password:root用户的密码",
                    "根据查询的组件类型选择的对应的操作，停止待修改时间节点的NTP服务。",
                    "ntpd组件",
                    "# service ntpd stop",
                    "chrony组件",
                    "# systemctl stop chronyd",
                    "执行以下命令，从NTP时钟源同步系统时间。",
                    "# ntpdate 时钟源IP地址",
                    "# timedatectl set-local-rtc 0",
                    "# hwclock --systohc -u",
                    "# echo $?",
                    "当回显为0表示从NTP时钟源同步系统时间成功。",
                    "否则，联系华为技术支持工程师。",
                    "0",
                    "命令中的“时钟源IP地址”请替换为实际规划的IP地址，若待修改时间的服务器为管理节点，则替换为NTP时钟源的IP地址；",
                    "若为产品节点，则替换为Management0节点的IP地址。",
                    "执行以下命令，退出root用户。",
                    "# exit",
                    "执行以下命令，查看当前服务器的时间，并查看是否与NTP时钟源的时间精确一致。",
                    "> date",
                    "系统回显如下类似信息：",
                    "Tue May 26 19:46:12 CST 2019",
                    "若待修改时间的为管理节点，则节点的时间需与NTP时钟源时间精确一致。",
                    "若待修改时间的为产品节点，则节点的时间需与管理节点的时间精确一致。",
                    "如果时间精确一致，执行和，否则请联系华为技术支持工程师。",
                    "",
                    "",
                    "执行以下命令，切换到root用户。",
                    "> su - root",
                    "Password:root用户的密码",
                    "",
                    "",
                    "根据iv查询的组件类型选择的对应的操作，启动待修改节点的NTP服务。",
                    "ntpd组件",
                    "# service ntpd start",
                    "chrony组件",
                    "# systemctl start chronyd",
                    "执行以下命令，退出root用户。",
                    "# exit",
                    "执行以下命令，启动节点上的服务。",
                    "> source <安装目录>/manager/bin/engr_profile.sh",
                    "> ipmc_adm -cmd startnode",
                    "当管理面应用程序和数据处于故障，未恢复状态时，请跳过此步骤。",
                    "系统提示如下类似回显信息，所有进程都提示“success”，则说明该节点所有服务启动成功，否则请联系华为技术支持工程师。",
                    "...",
                    "Starting process testdummyagent-1-0 ... success",
                    "Starting process mcdrrouteragent-1-0 ... success",
                    "Starting process mcir-1-0 ... success",
                    "...",
                    "对于异地容灾场景，故障修复后需建立主用站点和备用站点的异地容灾关系，具体操作请参见《管理员指南》中的“配置异地容灾系统”章节。",
                    "",
                    ""
                ],
                "subsections": [],
                "embed_context": [
                    "故障处理中的系统时间与NTP时间不一致",
                    "系统时间与NTP时间不一致",
                    "服务器操作系统时间与NTP（Network Time Protocol）时钟源的时间不一致，无法从NTP时钟源同步时间。",
                    "在管理面主菜单中选择“维护 > 时间管理 > 配置NTP”，在“配置NTP”页面中，NTP服务器的时间同步状态为“失效”。",
                    "如果管理面的部署模式是集群模式，登录管理面成功后，客户端会话自动注销。",
                    "NTP时钟源的时间发生跳变。",
                    "已获取待修改时间节点的sopuser、ossadm和root用户的密码。",
                    "已获取主用NTP时钟源的IP地址。",
                    "对于异地容灾场景，需删除主用站点和备用站点间的异地容灾关系，具体操作请参见《管理员指南》中的“删除异地容灾系统”章节。",
                    "时间同步过程中需要重启待修改时间节点的产品服务和数据库，请在业务量低的时期执行以下操作。",
                    "强制同步时区时间的方法分为界面方式和手工方式两种，使用界面方式执行强制同步的操作后，系统会缓慢调整同步时间，不会发生时间跳变；",
                    "使用手工方式执行强制同步操作后，系统立即强制同步时间，会发生时间跳变，时间跳变对时间要求较高的功能会造成影响（如：备份恢复功能）。",
                    "请根据实际情况选择适合的方式进行时区时间的同步方式。",
                    "登录管理面，具体操作请参见。",
                    "在管理面主菜单中选择“维护 > 时间管理 > 配置时区时间”。",
                    "在“配置时区时间”界面，单击“强制同步”。",
                    "如果强制同步时区时间后，还需要做其他需要重启产品服务或产品数据库的配置操作，请取消选中“警告”对话框中的“强制同步时区时间完成后自动启动产品数据库和产品服务”，则强制同步完成后不会自动启动产品数据库和产品服务，避免产品服务或产品数据库被多次重启。",
                    "对于异地容灾场景，如果强制同步的时区时间是备用站点的时区时间，请取消选中“警告”对话框中“强制同步时区时间完成后自动启动产品数据库和产品服务”，避免备用站点上的产品服务被重启，造成双主运行的异常状态。",
                    "如果强制同步时区时间后，同步后和同步前的时间差，超出会话自动注销等待时间，客户端会话会自动注销。",
                    "在主菜单选择“系统 > 任务列表”，等待（大约1～15分钟）“强制同步时区时间”任务执行成功。",
                    "查看服务器操作系统时间与NTP时钟源的时间是否精确一致。",
                    "是，则故障已恢复。",
                    "否，请联系华为技术支持工程师定位处理。",
                    "对于异地容灾场景，故障修复后需建立主用站点和备用站点的异地容灾关系，具体操作请参见《管理员指南》中的“配置异地容灾系统”章节。",
                    "对于Euler操作系统：",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录待修改时间节点。",
                    "获取节点IP地址的方法请参见。",
                    "执行以下命令，切换到ossadm用户。",
                    "> su - ossadm",
                    "Password:ossadm用户的密码",
                    "执行以下命令停止该节点的服务。",
                    "> source <安装目录>/manager/bin/engr_profile.sh",
                    "> ipmc_adm -cmd stopnode",
                    "当管理面应用程序和数据处于故障，未恢复状态时，请跳过此步骤。",
                    "系统提示如下类似回显信息，所有进程都提示“success”，则说明该节点所有服务停止成功，否则请联系华为技术支持工程师。",
                    "Stopping process mcdrrouteragent-1-0 ... success",
                    "Stopping process testdummyagent-1-0 ... success",
                    "Stopping process uniepservice-1-0 ... success",
                    "执行以下命令，判断NTP服务使用的组件。",
                    "若待修改时间节点为管理节点，执行如下命令。",
                    "> cat <安装目录>/manager/var/etc/common/custom.cfg | grep MGMT_NTP_TYPE",
                    "若如下类似回显信息，则表示NTP服务使用的是ntpd组件。",
                    "若无回显内容，需要参考下方场景的操作执行。",
                    "MGMT_NTP_TYPE=ntpd",
                    "当管理面的部署模式是集群模式时，只需要在Management0和Management1节点分别执行上述命令。",
                    "若待修改时间节点为产品节点或Management0、Management1之外的管理节点，执行如下命令。",
                    "> bash <系统应用程序目录>/local/osconfig/os/bin/getsupportntptype.sh",
                    "若如下类似回显信息，则表示操作系统支持ntpd组件，NTP服务使用的是ntpd组件。",
                    "[\"ntpd\"]",
                    "若如下类似回显信息，则表示操作系统支持chrony组件，NTP服务使用的是chrony组件。",
                    "[\"chrony\"]",
                    "若如下类似回显信息，则表示操作系统支持ntpd和chrony组件，NTP服务默认优先使用chrony组件。",
                    "[\"ntpd\", \"chrony\"]",
                    "执行以下命令，切换到root用户。",
                    "> su - root",
                    "Password:root用户的密码",
                    "根据查询的组件类型选择的对应的操作，停止待修改时间节点的NTP服务。",
                    "ntpd组件",
                    "# service ntpd stop",
                    "chrony组件",
                    "# systemctl stop chronyd",
                    "执行以下命令，从NTP时钟源同步系统时间。",
                    "# ntpdate 时钟源IP地址",
                    "# timedatectl set-local-rtc 0",
                    "# hwclock --systohc -u",
                    "# echo $?",
                    "当回显为0表示从NTP时钟源同步系统时间成功。",
                    "否则，联系华为技术支持工程师。",
                    "命令中的“时钟源IP地址”请替换为实际规划的IP地址，若待修改时间的服务器为管理节点，则替换为NTP时钟源的IP地址；",
                    "若为产品节点，则替换为Management0节点的IP地址。",
                    "执行以下命令，退出root用户。",
                    "# exit",
                    "执行以下命令，查看当前服务器的时间，并查看是否与NTP时钟源的时间精确一致。",
                    "> date",
                    "系统回显如下类似信息：",
                    "Tue May 26 19:46:12 CST 2019",
                    "若待修改时间的为管理节点，则节点的时间需与NTP时钟源时间精确一致。",
                    "若待修改时间的为产品节点，则节点的时间需与管理节点的时间精确一致。",
                    "如果时间精确一致，执行和，否则请联系华为技术支持工程师。",
                    "执行以下命令，切换到root用户。",
                    "> su - root",
                    "Password:root用户的密码",
                    "根据iv查询的组件类型选择的对应的操作，启动待修改节点的NTP服务。",
                    "ntpd组件",
                    "# service ntpd start",
                    "chrony组件",
                    "# systemctl start chronyd",
                    "执行以下命令，退出root用户。",
                    "# exit",
                    "执行以下命令，启动节点上的服务。",
                    "> source <安装目录>/manager/bin/engr_profile.sh",
                    "> ipmc_adm -cmd startnode",
                    "当管理面应用程序和数据处于故障，未恢复状态时，请跳过此步骤。",
                    "系统提示如下类似回显信息，所有进程都提示“success”，则说明该节点所有服务启动成功，否则请联系华为技术支持工程师。",
                    "Starting process testdummyagent-1-0 ... success",
                    "Starting process mcdrrouteragent-1-0 ... success",
                    "Starting process mcir-1-0 ... success",
                    "对于异地容灾场景，故障修复后需建立主用站点和备用站点的异地容灾关系，具体操作请参见《管理员指南》中的“配置异地容灾系统”章节。"
                ]
            },
            {
                "title": "## NTP服务器状态异常",
                "org_context": [
                    "<notice>故障处理中的NTP服务器状态异常</notice>",
                    "现象描述",
                    "在管理面主菜单中选择“维护 > 时间管理 > 配置NTP”，在“配置NTP”页面，添加完NTP服务器后，在NTP服务器列表中，检查NTP服务器的时间同步状态为“失效”。",
                    "可能原因",
                    "网络故障。",
                    "NTP服务器和管理节点之间的时间同步关系异常。",
                    "前提条件",
                    "已获取管理节点的sopuser、ossadm和root用户的密码。",
                    "对于异地容灾场景，需删除主用站点和备用站点间的异地容灾关系，具体操作请参见《管理员指南》中的“删除异地容灾系统”章节。",
                    "处理步骤",
                    "检查管理节点与上级NTP服务器间的网络连接是否正常。",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录管理节点。",
                    "如果管理面的部署模式是集群模式，即存在多个管理节点，请分别登录Management0和Management1节点执行以下操作。",
                    "获取节点IP地址的方法请参见。",
                    "执行以下命令，切换到ossadm用户。",
                    "> su - ossadm",
                    "Password:ossadm用户的密码",
                    "",
                    "",
                    "执行以下命令，判断NTP服务使用的组件。",
                    "若节点为管理节点，执行如下命令。",
                    "> cat <安装目录>/manager/var/etc/common/custom.cfg | grep MGMT_NTP_TYPE",
                    "若如下类似回显信息，则表示NTP服务使用的是ntpd组件。",
                    "若无回显内容，需要参考下方场景的操作执行。",
                    "MGMT_NTP_TYPE=ntpd",
                    "当管理面的部署模式是集群模式时，只需要在Management0和Management1节点分别执行上述命令。",
                    "若节点为产品节点或Management0、Management1之外的管理节点，执行如下命令。",
                    "> bash <系统应用程序目录>/local/osconfig/os/bin/getsupportntptype.sh",
                    "若如下类似回显信息，则表示操作系统支持ntpd组件，NTP服务使用的是ntpd组件。",
                    "[\"ntpd\"]",
                    "若如下类似回显信息，则表示操作系统支持chrony组件，NTP服务使用的是chrony组件。",
                    "[\"chrony\"]",
                    "若如下类似回显信息，则表示操作系统支持ntpd和chrony组件，NTP服务默认优先使用chrony组件。",
                    "[\"ntpd\", \"chrony\"]",
                    "根据查询的组件类型选择的对应的操作，检查管理节点与上级NTP服务器间的网络连接是否正常。",
                    "ntpd组件",
                    "> ntpq -np",
                    "remote           refid      st t when poll reach   delay   offset  jitter",
                    "==============================================================================",
                    "* x.x.x.x         LOCAL(0)      6 u   90  128  377    0.199   -0.024   0.043",
                    "若系统回显信息中“reach”、“delay”、“offset”和“jitter”的值均不为0，代表管理节点与上级NTP服务器间的网络连接正常。",
                    "若系统回显信息中“reach”、“delay”、“offset”和“jitter”的值均为0，代表管理节点与上级NTP服务器间的网络连接异常。",
                    "chrony组件",
                    "> chronyc -n sources",
                    "M S  Name/IP address         Stratum Poll Reach LastRx Last sample",
                    "===============================================================================",
                    "^ ?  x.x.x.x                 0  10     0     -     +0ns[   +0ns] +/-    0ns",
                    "若系统回显信息中“S”的值为“*”，代表管理节点与上级NTP服务器间的网络连接正常。",
                    "若系统回显信息中“S”的值为“?”，代表管理节点与上级NTP服务器间的网络连接异常。",
                    "检查上级NTP服务器的NTP服务是否正常。",
                    "联系NTP端工程师，确认NTP服务器的NTP服务状态，确保NTP服务已启动且已为管理面提供NTP服务。",
                    "检查管理节点的NTP服务是否正常。",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录管理节点。",
                    "如果管理面的部署模式是集群模式，即存在多个管理节点，请分别登录Management0和Management1节点执行以下操作。",
                    "获取节点IP地址的方法请参见。",
                    "执行以下命令，切换到ossadm用户。",
                    "> su - ossadm",
                    "Password:ossadm用户的密码",
                    "根据查询的组件类型选择的对应的操作，检查是否存在运行的NTP服务。",
                    "ntpd组件",
                    "> service ntpd status",
                    "若系统回显信息中包含“active (running)”字样的信息，说明节点的NTP服务已启动。",
                    "否则，说明节点的NTP服务未启动，执行启动NTP服务。",
                    "chrony组件",
                    "> systemctl status chronyd",
                    "若系统回显信息中包含“active (running)”字样的信息，说明节点的NTP服务已启动。",
                    "否则，说明节点的NTP服务未启动，执行启动NTP服务。",
                    "",
                    "",
                    "执行以下命令，切换至root用户。",
                    "> su - root",
                    "Password:root用户的密码",
                    "执行以下命令，启动NTP服务。",
                    "ntpd组件",
                    "# service ntpd start",
                    "chrony组件",
                    "# systemctl start chronyd",
                    "执行以下命令，退出root用户。",
                    "# exit",
                    "如果以上检查结果都正常但NTP服务器的时间同步状态仍处于“失效”状态，请继续执行以下操作：",
                    "登录管理面，具体操作请参见。",
                    "在管理面主菜单中选择“维护 > 时间管理 > 配置NTP”，在“配置NTP”界面单击“重新配置”。",
                    "弹出“确认”对话框，单击“是”。",
                    "",
                    "",
                    "在管理面主菜单中选择“维护 > 时间管理 > 配置时区时间”，在“配置时区时间”界面，单击“强制同步”。",
                    "如果强制同步时区时间后，还需要做其他需要重启产品服务或产品数据库的配置操作，请取消选中“警告”对话框中的“强制同步时区时间完成后自动启动产品数据库和产品服务”，则强制同步完成后不会自动启动产品数据库和产品服务，避免产品服务或产品数据库被多次重启。",
                    "对于异地容灾场景，如果强制同步的时区时间是备用站点的时区时间，请取消选中“警告”对话框中“强制同步时区时间完成后自动启动产品数据库和产品服务”，避免备用站点上的产品服务被重启，造成双主运行的异常状态。",
                    "如果强制同步时区时间后，同步后和同步前的时间差超出会话自动注销等待时间，客户端会话会自动注销。",
                    "",
                    "",
                    "在主菜单选择“系统 > 任务列表”，等待“强制同步时区时间”任务执行成功。",
                    "任务执行完成后，若NTP服务器的时间同步状态仍为“失效”，执行以下操作。",
                    "若查询的组件为chrony组件，则执行，若为ntpd组件请联系华为技术支持工程师定位处理。",
                    "",
                    "",
                    "在管理面主菜单中选择“维护 > 时间管理 > 配置NTP”。",
                    "当加密方式选择“NTP v4认证”时，在“配置NTP”界面修改该NTP服务器的“Key值”，结合界面上该值的配置规则根据实际情况修改。",
                    "执行～强制同步时区时间。",
                    "对于异地容灾场景，修复故障后需建立主用站点和备用站点的异地容灾关系，具体操作请参见《管理员指南》中的“配置异地容灾系统”章节。",
                    "----结束",
                    "",
                    ""
                ],
                "subsections": [],
                "embed_context": [
                    "故障处理中的NTP服务器状态异常",
                    "NTP服务器状态异常",
                    "在管理面主菜单中选择“维护 > 时间管理 > 配置NTP”，在“配置NTP”页面，添加完NTP服务器后，在NTP服务器列表中，检查NTP服务器的时间同步状态为“失效”。",
                    "NTP服务器和管理节点之间的时间同步关系异常。",
                    "已获取管理节点的sopuser、ossadm和root用户的密码。",
                    "对于异地容灾场景，需删除主用站点和备用站点间的异地容灾关系，具体操作请参见《管理员指南》中的“删除异地容灾系统”章节。",
                    "检查管理节点与上级NTP服务器间的网络连接是否正常。",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录管理节点。",
                    "如果管理面的部署模式是集群模式，即存在多个管理节点，请分别登录Management0和Management1节点执行以下操作。",
                    "获取节点IP地址的方法请参见。",
                    "执行以下命令，切换到ossadm用户。",
                    "> su - ossadm",
                    "Password:ossadm用户的密码",
                    "执行以下命令，判断NTP服务使用的组件。",
                    "若节点为管理节点，执行如下命令。",
                    "> cat <安装目录>/manager/var/etc/common/custom.cfg | grep MGMT_NTP_TYPE",
                    "若如下类似回显信息，则表示NTP服务使用的是ntpd组件。",
                    "若无回显内容，需要参考下方场景的操作执行。",
                    "MGMT_NTP_TYPE=ntpd",
                    "当管理面的部署模式是集群模式时，只需要在Management0和Management1节点分别执行上述命令。",
                    "若节点为产品节点或Management0、Management1之外的管理节点，执行如下命令。",
                    "> bash <系统应用程序目录>/local/osconfig/os/bin/getsupportntptype.sh",
                    "若如下类似回显信息，则表示操作系统支持ntpd组件，NTP服务使用的是ntpd组件。",
                    "[\"ntpd\"]",
                    "若如下类似回显信息，则表示操作系统支持chrony组件，NTP服务使用的是chrony组件。",
                    "[\"chrony\"]",
                    "若如下类似回显信息，则表示操作系统支持ntpd和chrony组件，NTP服务默认优先使用chrony组件。",
                    "[\"ntpd\", \"chrony\"]",
                    "根据查询的组件类型选择的对应的操作，检查管理节点与上级NTP服务器间的网络连接是否正常。",
                    "ntpd组件",
                    "> ntpq -np",
                    "remote           refid      st t when poll reach   delay   offset  jitter",
                    "==============================================================================",
                    "* x.x.x.x         LOCAL(0)      6 u   90  128  377    0.199   -0.024   0.043",
                    "若系统回显信息中“reach”、“delay”、“offset”和“jitter”的值均不为0，代表管理节点与上级NTP服务器间的网络连接正常。",
                    "若系统回显信息中“reach”、“delay”、“offset”和“jitter”的值均为0，代表管理节点与上级NTP服务器间的网络连接异常。",
                    "chrony组件",
                    "> chronyc -n sources",
                    "M S  Name/IP address         Stratum Poll Reach LastRx Last sample",
                    "===============================================================================",
                    "^ ?  x.x.x.x                 0  10     0     -     +0ns[   +0ns] +/-    0ns",
                    "若系统回显信息中“S”的值为“*”，代表管理节点与上级NTP服务器间的网络连接正常。",
                    "若系统回显信息中“S”的值为“?”，代表管理节点与上级NTP服务器间的网络连接异常。",
                    "检查上级NTP服务器的NTP服务是否正常。",
                    "联系NTP端工程师，确认NTP服务器的NTP服务状态，确保NTP服务已启动且已为管理面提供NTP服务。",
                    "检查管理节点的NTP服务是否正常。",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录管理节点。",
                    "如果管理面的部署模式是集群模式，即存在多个管理节点，请分别登录Management0和Management1节点执行以下操作。",
                    "获取节点IP地址的方法请参见。",
                    "执行以下命令，切换到ossadm用户。",
                    "> su - ossadm",
                    "Password:ossadm用户的密码",
                    "根据查询的组件类型选择的对应的操作，检查是否存在运行的NTP服务。",
                    "ntpd组件",
                    "> service ntpd status",
                    "若系统回显信息中包含“active (running)”字样的信息，说明节点的NTP服务已启动。",
                    "否则，说明节点的NTP服务未启动，执行启动NTP服务。",
                    "chrony组件",
                    "> systemctl status chronyd",
                    "若系统回显信息中包含“active (running)”字样的信息，说明节点的NTP服务已启动。",
                    "否则，说明节点的NTP服务未启动，执行启动NTP服务。",
                    "执行以下命令，切换至root用户。",
                    "> su - root",
                    "Password:root用户的密码",
                    "执行以下命令，启动NTP服务。",
                    "ntpd组件",
                    "# service ntpd start",
                    "chrony组件",
                    "# systemctl start chronyd",
                    "执行以下命令，退出root用户。",
                    "# exit",
                    "如果以上检查结果都正常但NTP服务器的时间同步状态仍处于“失效”状态，请继续执行以下操作：",
                    "登录管理面，具体操作请参见。",
                    "在管理面主菜单中选择“维护 > 时间管理 > 配置NTP”，在“配置NTP”界面单击“重新配置”。",
                    "弹出“确认”对话框，单击“是”。",
                    "在管理面主菜单中选择“维护 > 时间管理 > 配置时区时间”，在“配置时区时间”界面，单击“强制同步”。",
                    "如果强制同步时区时间后，还需要做其他需要重启产品服务或产品数据库的配置操作，请取消选中“警告”对话框中的“强制同步时区时间完成后自动启动产品数据库和产品服务”，则强制同步完成后不会自动启动产品数据库和产品服务，避免产品服务或产品数据库被多次重启。",
                    "对于异地容灾场景，如果强制同步的时区时间是备用站点的时区时间，请取消选中“警告”对话框中“强制同步时区时间完成后自动启动产品数据库和产品服务”，避免备用站点上的产品服务被重启，造成双主运行的异常状态。",
                    "如果强制同步时区时间后，同步后和同步前的时间差超出会话自动注销等待时间，客户端会话会自动注销。",
                    "在主菜单选择“系统 > 任务列表”，等待“强制同步时区时间”任务执行成功。",
                    "任务执行完成后，若NTP服务器的时间同步状态仍为“失效”，执行以下操作。",
                    "若查询的组件为chrony组件，则执行，若为ntpd组件请联系华为技术支持工程师定位处理。",
                    "在管理面主菜单中选择“维护 > 时间管理 > 配置NTP”。",
                    "当加密方式选择“NTP v4认证”时，在“配置NTP”界面修改该NTP服务器的“Key值”，结合界面上该值的配置规则根据实际情况修改。",
                    "执行～强制同步时区时间。",
                    "对于异地容灾场景，修复故障后需建立主用站点和备用站点的异地容灾关系，具体操作请参见《管理员指南》中的“配置异地容灾系统”章节。",
                    "----结束"
                ]
            },
            {
                "title": "## 日志损坏导致HIROIRService/HIROERService/HIROBERService启动失败",
                "org_context": [
                    "<notice>故障处理中的日志损坏导致HIROIRService/HIROERService/HIROBERService启动失败</notice>",
                    "现象描述",
                    "HIROIRService/HIROERService/HIROBERService启动失败，查看HIROERService/HIROIRService/HIROBERService的日志属主权限的属性变为“？",
                    "？",
                    "？",
                    "？",
                    "”，表明日志文件损坏。",
                    "如<日志目录>/<产品名称>/HIROERService目录下HIROERService日志属主权限的属性变为“？",
                    "？",
                    "？",
                    "？",
                    "”。",
                    "????????? ? ?       ?              ?           ? oss.bus_adm.script.trace",
                    "rw-------.1 ossuser ossgroup    1380 Jan 3 16:22 oss.busdeploy.trace",
                    "可能原因",
                    "磁盘空间满导致日志文件损坏，导致HIROIRService/HIROERService/HIROBERService启动失败。",
                    "处理步骤",
                    "由于日志损坏导致HIROIRService/HIROERService/HIROBERService启动失败的处理方法相同，这里以HIROERService举例进行说明。",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录hiroer进程实例所在节点。",
                    "获取进程所在节点的IP地址的方法请参见15.7 查找进程或服务所在节点的管理IP地址。",
                    "执行以下命令切换到root用户。",
                    "su - root",
                    "Password:root用户的密码",
                    "执行以下命令，复制日志文件夹。",
                    "cd <日志目录>/<产品名称>",
                    "cp -r HIROERService HIROERService1",
                    "cp命令只会将所有未损坏的文件复制到新文件夹HIROERService1中。",
                    "执行以下命令移走原文件夹。",
                    "mv HIROERService HIROERService_bak",
                    "执行以下命令将文件夹HIROERService1移回原文件夹。",
                    "mv HIROERService1 HIROERService",
                    "执行以下命令修改HIROERService文件夹的属主属性。",
                    "chown -R ossuser:ossgroup HIROERService",
                    "执行以下命令删除HIROERService_bak文件。",
                    "执行以下命令，查看HIROERService_bak下文件的属主权限。",
                    "cd <日志目录>/<产品名称>/HIROERService_bak",
                    "ll",
                    "查看是否存在文件的属主权限变为“？",
                    "？",
                    "？",
                    "？",
                    "”。",
                    "是，执行。",
                    "否，执行。",
                    "",
                    "",
                    "执行以下命令，移动属主权限为“？",
                    "？",
                    "？",
                    "？",
                    "”的文件目录到其他位置。",
                    "以HIROERService_bak下的HIROERService目录为例。",
                    "mv <日志目录>/<产品名称>/HIROERService_bak/HIROERService <临时目录>/HIROERService",
                    "",
                    "",
                    "执行以下命令，删除HIROERService_bak下的文件。",
                    "cd <日志目录>/<产品名称>",
                    "rm -rf HIROERService_bak/*",
                    "执行以下命令，退出root用户。",
                    "exit",
                    "----结束",
                    "",
                    ""
                ],
                "subsections": [],
                "embed_context": [
                    "故障处理中的日志损坏导致HIROIRService/HIROERService/HIROBERService启动失败",
                    "日志损坏导致HIROIRService/HIROERService/HIROBERService启动失败",
                    "HIROIRService/HIROERService/HIROBERService启动失败，查看HIROERService/HIROIRService/HIROBERService的日志属主权限的属性变为“？",
                    "”，表明日志文件损坏。",
                    "如<日志目录>/<产品名称>/HIROERService目录下HIROERService日志属主权限的属性变为“？",
                    "????????? ? ?       ?              ?           ? oss.bus_adm.script.trace",
                    "rw-------.1 ossuser ossgroup    1380 Jan 3 16:22 oss.busdeploy.trace",
                    "磁盘空间满导致日志文件损坏，导致HIROIRService/HIROERService/HIROBERService启动失败。",
                    "由于日志损坏导致HIROIRService/HIROERService/HIROBERService启动失败的处理方法相同，这里以HIROERService举例进行说明。",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录hiroer进程实例所在节点。",
                    "获取进程所在节点的IP地址的方法请参见15.7 查找进程或服务所在节点的管理IP地址。",
                    "执行以下命令切换到root用户。",
                    "su - root",
                    "Password:root用户的密码",
                    "执行以下命令，复制日志文件夹。",
                    "cd <日志目录>/<产品名称>",
                    "cp -r HIROERService HIROERService1",
                    "cp命令只会将所有未损坏的文件复制到新文件夹HIROERService1中。",
                    "执行以下命令移走原文件夹。",
                    "mv HIROERService HIROERService_bak",
                    "执行以下命令将文件夹HIROERService1移回原文件夹。",
                    "mv HIROERService1 HIROERService",
                    "执行以下命令修改HIROERService文件夹的属主属性。",
                    "chown -R ossuser:ossgroup HIROERService",
                    "执行以下命令删除HIROERService_bak文件。",
                    "执行以下命令，查看HIROERService_bak下文件的属主权限。",
                    "cd <日志目录>/<产品名称>/HIROERService_bak",
                    "查看是否存在文件的属主权限变为“？",
                    "执行以下命令，移动属主权限为“？",
                    "”的文件目录到其他位置。",
                    "以HIROERService_bak下的HIROERService目录为例。",
                    "mv <日志目录>/<产品名称>/HIROERService_bak/HIROERService <临时目录>/HIROERService",
                    "执行以下命令，删除HIROERService_bak下的文件。",
                    "cd <日志目录>/<产品名称>",
                    "rm -rf HIROERService_bak/*",
                    "执行以下命令，退出root用户。",
                    "----结束"
                ]
            }
        ],
        "embed_context": [
            "故障处理中的操作系统故障",
            "操作系统故障"
        ]
    },
    {
        "title": "# 数据库故障",
        "org_context": [
            "<notice>故障处理中的数据库故障</notice>",
            "介绍GaussDB数据库实例、Redis数据库实例异常的修复方法。",
            "其他类型数据库实例异常的修复请联系华为技术支持工程师。",
            "操作须知",
            "当数据库实例出现异常时，请先修复该数据库实例异常。",
            "如果由于故障叠加造成的数据库多实例的故障，可能会导致数据库实例出现双主，当一个数据库实例降备后，主备数据库实例数据自动同步导致数据丢失。",
            "",
            ""
        ],
        "subsections": [
            {
                "title": "## 产品数据库实例异常",
                "org_context": [
                    "<notice>故障处理中的产品数据库实例异常</notice>",
                    "现象描述",
                    "在“全景监控”中，“关系数据库”或“Redis数据库”页签的数据库实例“状态”为“未运行”或“未知”。",
                    "可能原因",
                    "数据库实例所在节点可能被停止。",
                    "数据库实例被人为停止。",
                    "数据库进程异常后重启失败。",
                    "数据库文件损坏。",
                    "误删除操作系统数据库文件。",
                    "处理步骤",
                    "联系管理员检查数据库实例所在虚拟机或物理机是否停止。",
                    "是，请启动虚拟机或物理机，并查看故障是否已恢复。",
                    "若故障已恢复则操作结束，否则执行。",
                    "否，执行。",
                    "检查节点是否故障，具体操作请参见。",
                    "是，请参见章节修复节点故障。",
                    "否，执行。",
                    "检查数据库实例的“状态”。",
                    "在管理面主菜单中选择“维护 > 运维管理 > 全景监控”。",
                    "在左侧导航树中选择“中间件监控”。",
                    "在“中间件监控”页面左上方选择对应的产品。",
                    "查看数据库实例运行状态。",
                    "在“关系数据库”或“Redis数据库”页签中检查数据库实例的“状态”是否为“未运行”或“未知”。",
                    "是，请参见手工启动数据库实例所在节点。",
                    "启动成功，数据库实例的状态为“正在运行”，则故障已恢复。",
                    "如数据库实例是人为停止，请排查人为停止原因，在其任务完成后启动。",
                    "启动失败，数据库实例状态仍为“未运行”或“未知”，则执行。",
                    "否，则执行。",
                    "恢复数据库应用程序，具体操作请参见《管理员指南》中的“恢复数据库应用程序”章节。",
                    "登录管理面查看数据库实例是否恢复正常。",
                    "如果数据库实例的状态恢复正常，则故障已恢复。",
                    "如果数据库实例的状态未恢复正常，请联系华为技术支持工程师。",
                    "----结束",
                    "",
                    ""
                ],
                "subsections": [],
                "embed_context": [
                    "故障处理中的产品数据库实例异常",
                    "产品数据库实例异常",
                    "在“全景监控”中，“关系数据库”或“Redis数据库”页签的数据库实例“状态”为“未运行”或“未知”。",
                    "数据库实例所在节点可能被停止。",
                    "数据库实例被人为停止。",
                    "数据库进程异常后重启失败。",
                    "数据库文件损坏。",
                    "误删除操作系统数据库文件。",
                    "联系管理员检查数据库实例所在虚拟机或物理机是否停止。",
                    "是，请启动虚拟机或物理机，并查看故障是否已恢复。",
                    "若故障已恢复则操作结束，否则执行。",
                    "检查节点是否故障，具体操作请参见。",
                    "是，请参见章节修复节点故障。",
                    "检查数据库实例的“状态”。",
                    "在管理面主菜单中选择“维护 > 运维管理 > 全景监控”。",
                    "在左侧导航树中选择“中间件监控”。",
                    "在“中间件监控”页面左上方选择对应的产品。",
                    "查看数据库实例运行状态。",
                    "在“关系数据库”或“Redis数据库”页签中检查数据库实例的“状态”是否为“未运行”或“未知”。",
                    "是，请参见手工启动数据库实例所在节点。",
                    "启动成功，数据库实例的状态为“正在运行”，则故障已恢复。",
                    "如数据库实例是人为停止，请排查人为停止原因，在其任务完成后启动。",
                    "启动失败，数据库实例状态仍为“未运行”或“未知”，则执行。",
                    "否，则执行。",
                    "恢复数据库应用程序，具体操作请参见《管理员指南》中的“恢复数据库应用程序”章节。",
                    "登录管理面查看数据库实例是否恢复正常。",
                    "如果数据库实例的状态恢复正常，则故障已恢复。",
                    "如果数据库实例的状态未恢复正常，请联系华为技术支持工程师。",
                    "----结束"
                ]
            },
            {
                "title": "## 系统重启后主数据库实例运行状态异常",
                "org_context": [
                    "<notice>故障处理中的系统重启后主数据库实例运行状态异常</notice>",
                    "现象描述",
                    "系统重启（CloudSOP的所有节点重启）后，在“关系数据库”或“Redis数据库”页签中主数据库实例的“状态”为“未运行”或“未知”，“复制状态”为“异常”。",
                    "可能原因",
                    "主数据库实例所在节点异常下电导致主数据库实例文件损坏或操作系统损坏，从而使主数据库实例所在节点无法启动。",
                    "处理步骤",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录故障数据库实例所在节点，获取数据库实例所在节点的IP地址请参见15.8 查找数据库实例所在节点的管理IP地址。",
                    "执行以下命令，切换至root用户。",
                    "su - root",
                    "Password:root用户的密码",
                    "执行如下命令，创建临时目录。",
                    "如下操作命令以目录“log_info”为例，请根据实际情况替换。",
                    "mkdir <临时目录>/log_info",
                    "执行如下命令，将日志文件复制至该目录并设置权限和属组。",
                    "cp -r /opt/zenith/data/数据库实例名称/log <临时目录>/log_info",
                    "chmod -R 750 <临时目录>/log_info",
                    "chgrp -R sopgroup <临时目录>/log_info",
                    "执行如下命令，退出至sopuser用户。",
                    "exit",
                    "使用FileZilla工具以sopuser用户通过SFTP方式将“<临时目录>/log_info”目录下的操作系统日志文件下载至本地PC的任意路径，具体操作请参见15.4 使用FileZilla传输文件。",
                    "日志下载成功后，需清理临时目录。",
                    "使用PuTTY工具以sopuser用户执行如下命令切换至root用户。",
                    "su - root",
                    "Password:root用户的密码",
                    "执行如下命令，清理“<临时目录> /log_info”目录。",
                    "cd <临时目录>",
                    "rm -rf log_info",
                    "执行如下命令，退出至sopuser用户。",
                    "exit",
                    "联系华为技术支持工程师根据日志文件修复主数据库实例故障。",
                    "已修复，操作完成。",
                    "未修复，执行。",
                    "执行如下操作，进行主备数据库实例倒换。",
                    "数据库实例倒换可能会存在数据丢失风险。",
                    "由于重启数据库之前，无法确定主备数据库实例所在节点的数据是否完全同步。",
                    "请尽量在业务量少的情况下进行主备数据库实例倒换，以减少影响。",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录管理节点。",
                    "如果管理面的部署模式是集群模式，即存在多个管理节点，需在Management0或Management1的其中任一节点执行以下操作。",
                    "获取节点IP地址的方法请参见15.6 查找节点对应的管理IP地址。",
                    "执行如下命令，切换到ossadm用户。",
                    "su - ossadm",
                    "Password:ossadm用户的密码",
                    "",
                    "",
                    "执行如下命令，查询数据库实例ID和备数据库实例名称。",
                    "cd <安装目录>/manager/apps/DBAgent/bin",
                    "./dbsvc_adm -cmd query-db-instance",
                    "系统提示类似如下回显信息：",
                    "DBInstanceId             ClassId  InstNumber         Tenant   AzName         IP              Port   State  DBType  Version            Role    RplStatus  MasterID           GuardMode  DataCheckSum  isSSL  RplPort",
                    "managedbsvr-0-999@1-999  primary  managedbsvr-0-999  manager  cn-global-1-a  10.120.243.233  32080  Up     gauss   V100R003C20CP1152  Master  Normal      --                 --         962349459     on     26950",
                    "managedbsvr-0-999@1-999  primary  managedbsvr-1-999  manager  cn-global-1-a  10.120.243.123  32080  Up     gauss   V100R003C20CP1152  Slave   Normal      managedbsvr-0-999  --         962349459     on     26950",
                    "待升主的备数据库实例名称可以从“InstNumber”列获取，例如“managedbsvr-0-999”。",
                    "数据库实例ID可以“DBInstanceId”列获取，例如“managedbsvr-0-999@1-999”。",
                    "执行如下命令，进行数据库实例倒换。",
                    "cd <安装目录>/manager/apps/CloudbMgmtService/bin",
                    "./switchtool.sh -cmd switchover -instid 数据库实例ID -newmaster 待升主的备数据库实例名称",
                    "数据库实例ID和备数据库实例名称从获取。",
                    "验证主备数据库实例倒换结果。",
                    "在管理面主菜单中选择“维护 > 运维管理 > 全景监控”。",
                    "在左侧导航树中选择“中间件监控”。",
                    "在“中间件监控”页面左上方选择对应的产品，在“关系数据库”或“Redis数据库”页签中查看，原备数据库实例的“角色”由“Slave”变成“Master”，且“状态”为“正在运行”，数据库的“复制状态”为“正常”，表示主备数据库实例倒换成功。",
                    "如果操作结果与预期不符，请联系华为技术支持工程师。",
                    "----结束",
                    "",
                    ""
                ],
                "subsections": [],
                "embed_context": [
                    "故障处理中的系统重启后主数据库实例运行状态异常",
                    "系统重启后主数据库实例运行状态异常",
                    "系统重启（CloudSOP的所有节点重启）后，在“关系数据库”或“Redis数据库”页签中主数据库实例的“状态”为“未运行”或“未知”，“复制状态”为“异常”。",
                    "主数据库实例所在节点异常下电导致主数据库实例文件损坏或操作系统损坏，从而使主数据库实例所在节点无法启动。",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录故障数据库实例所在节点，获取数据库实例所在节点的IP地址请参见15.8 查找数据库实例所在节点的管理IP地址。",
                    "执行以下命令，切换至root用户。",
                    "su - root",
                    "Password:root用户的密码",
                    "执行如下命令，创建临时目录。",
                    "如下操作命令以目录“log_info”为例，请根据实际情况替换。",
                    "mkdir <临时目录>/log_info",
                    "执行如下命令，将日志文件复制至该目录并设置权限和属组。",
                    "cp -r /opt/zenith/data/数据库实例名称/log <临时目录>/log_info",
                    "chmod -R 750 <临时目录>/log_info",
                    "chgrp -R sopgroup <临时目录>/log_info",
                    "执行如下命令，退出至sopuser用户。",
                    "使用FileZilla工具以sopuser用户通过SFTP方式将“<临时目录>/log_info”目录下的操作系统日志文件下载至本地PC的任意路径，具体操作请参见15.4 使用FileZilla传输文件。",
                    "日志下载成功后，需清理临时目录。",
                    "使用PuTTY工具以sopuser用户执行如下命令切换至root用户。",
                    "su - root",
                    "Password:root用户的密码",
                    "执行如下命令，清理“<临时目录> /log_info”目录。",
                    "cd <临时目录>",
                    "rm -rf log_info",
                    "执行如下命令，退出至sopuser用户。",
                    "联系华为技术支持工程师根据日志文件修复主数据库实例故障。",
                    "已修复，操作完成。",
                    "未修复，执行。",
                    "执行如下操作，进行主备数据库实例倒换。",
                    "数据库实例倒换可能会存在数据丢失风险。",
                    "由于重启数据库之前，无法确定主备数据库实例所在节点的数据是否完全同步。",
                    "请尽量在业务量少的情况下进行主备数据库实例倒换，以减少影响。",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录管理节点。",
                    "如果管理面的部署模式是集群模式，即存在多个管理节点，需在Management0或Management1的其中任一节点执行以下操作。",
                    "获取节点IP地址的方法请参见15.6 查找节点对应的管理IP地址。",
                    "执行如下命令，切换到ossadm用户。",
                    "su - ossadm",
                    "Password:ossadm用户的密码",
                    "执行如下命令，查询数据库实例ID和备数据库实例名称。",
                    "cd <安装目录>/manager/apps/DBAgent/bin",
                    "./dbsvc_adm -cmd query-db-instance",
                    "系统提示类似如下回显信息：",
                    "DBInstanceId             ClassId  InstNumber         Tenant   AzName         IP              Port   State  DBType  Version            Role    RplStatus  MasterID           GuardMode  DataCheckSum  isSSL  RplPort",
                    "managedbsvr-0-999@1-999  primary  managedbsvr-0-999  manager  cn-global-1-a  10.120.243.233  32080  Up     gauss   V100R003C20CP1152  Master  Normal      --                 --         962349459     on     26950",
                    "managedbsvr-0-999@1-999  primary  managedbsvr-1-999  manager  cn-global-1-a  10.120.243.123  32080  Up     gauss   V100R003C20CP1152  Slave   Normal      managedbsvr-0-999  --         962349459     on     26950",
                    "待升主的备数据库实例名称可以从“InstNumber”列获取，例如“managedbsvr-0-999”。",
                    "数据库实例ID可以“DBInstanceId”列获取，例如“managedbsvr-0-999@1-999”。",
                    "执行如下命令，进行数据库实例倒换。",
                    "cd <安装目录>/manager/apps/CloudbMgmtService/bin",
                    "./switchtool.sh -cmd switchover -instid 数据库实例ID -newmaster 待升主的备数据库实例名称",
                    "数据库实例ID和备数据库实例名称从获取。",
                    "验证主备数据库实例倒换结果。",
                    "在管理面主菜单中选择“维护 > 运维管理 > 全景监控”。",
                    "在左侧导航树中选择“中间件监控”。",
                    "在“中间件监控”页面左上方选择对应的产品，在“关系数据库”或“Redis数据库”页签中查看，原备数据库实例的“角色”由“Slave”变成“Master”，且“状态”为“正在运行”，数据库的“复制状态”为“正常”，表示主备数据库实例倒换成功。",
                    "如果操作结果与预期不符，请联系华为技术支持工程师。",
                    "----结束"
                ]
            },
            {
                "title": "## 主数据库实例异常且备数据库实例无法自动升主",
                "org_context": [
                    "<notice>故障处理中的主数据库实例异常且备数据库实例无法自动升主</notice>",
                    "现象描述",
                    "在“全景监控”中，“关系数据库”或“Redis数据库”页签的主数据库实例“状态”为“未运行”或“未知”，备数据库实例的“状态”为“正常”，且长时间内备数据库实例无法自动升主。",
                    "可能原因",
                    "数据库被禁止倒换场景如下：",
                    "数据库升级。",
                    "节点启停。",
                    "产品定制禁止倒换。",
                    "在主数据库实例异常前，主备数据不同步场景如下：",
                    "主备数据差异过大，数据延迟。",
                    "主备数据库实例之间复制链路断开。",
                    "处理步骤",
                    "联系管理员检查数据库实例所在虚拟机或物理机是否停止。",
                    "是，请启动虚拟机或物理机，并查看故障是否已恢复。",
                    "若故障已恢复则操作结束，否则执行。",
                    "否，执行。",
                    "检查节点是否故障，具体操作请参见。",
                    "是，请参见章节修复节点故障。",
                    "否，执行。",
                    "检查数据库实例的“状态”。",
                    "在管理面主菜单中选择“维护 > 运维管理 > 全景监控”。",
                    "在左侧导航树中选择“中间件监控”。",
                    "在“中间件监控”页面左上方选择对应的产品。",
                    "查看数据库实例运行状态。",
                    "在“关系数据库”或“Redis数据库”页签中检查数据库实例的“状态”是否为“未运行”或“未知”。",
                    "是，请参见手工启动数据库实例所在节点。",
                    "启动成功，数据库实例的状态为“正在运行”，则故障已恢复。",
                    "如数据库实例是人为停止，请排查人为停止原因，在其任务完成后启动。",
                    "启动失败，数据库实例状态仍为“未运行”或“未知”，则执行。",
                    "否，则执行。",
                    "恢复数据库应用程序，具体操作请参见《管理员指南》中的“恢复数据库应用程序”章节。",
                    "登录管理面查看数据库实例是否恢复正常。",
                    "如果数据库实例的状态恢复正常，则故障已恢复。",
                    "如果数据库实例的状态未恢复正常，请联系华为技术支持工程师。",
                    "----结束",
                    "",
                    ""
                ],
                "subsections": [],
                "embed_context": [
                    "故障处理中的主数据库实例异常且备数据库实例无法自动升主",
                    "主数据库实例异常且备数据库实例无法自动升主",
                    "在“全景监控”中，“关系数据库”或“Redis数据库”页签的主数据库实例“状态”为“未运行”或“未知”，备数据库实例的“状态”为“正常”，且长时间内备数据库实例无法自动升主。",
                    "数据库被禁止倒换场景如下：",
                    "数据库升级。",
                    "产品定制禁止倒换。",
                    "在主数据库实例异常前，主备数据不同步场景如下：",
                    "主备数据差异过大，数据延迟。",
                    "主备数据库实例之间复制链路断开。",
                    "联系管理员检查数据库实例所在虚拟机或物理机是否停止。",
                    "是，请启动虚拟机或物理机，并查看故障是否已恢复。",
                    "若故障已恢复则操作结束，否则执行。",
                    "检查节点是否故障，具体操作请参见。",
                    "是，请参见章节修复节点故障。",
                    "检查数据库实例的“状态”。",
                    "在管理面主菜单中选择“维护 > 运维管理 > 全景监控”。",
                    "在左侧导航树中选择“中间件监控”。",
                    "在“中间件监控”页面左上方选择对应的产品。",
                    "查看数据库实例运行状态。",
                    "在“关系数据库”或“Redis数据库”页签中检查数据库实例的“状态”是否为“未运行”或“未知”。",
                    "是，请参见手工启动数据库实例所在节点。",
                    "启动成功，数据库实例的状态为“正在运行”，则故障已恢复。",
                    "如数据库实例是人为停止，请排查人为停止原因，在其任务完成后启动。",
                    "启动失败，数据库实例状态仍为“未运行”或“未知”，则执行。",
                    "否，则执行。",
                    "恢复数据库应用程序，具体操作请参见《管理员指南》中的“恢复数据库应用程序”章节。",
                    "登录管理面查看数据库实例是否恢复正常。",
                    "如果数据库实例的状态恢复正常，则故障已恢复。",
                    "如果数据库实例的状态未恢复正常，请联系华为技术支持工程师。",
                    "----结束"
                ]
            },
            {
                "title": "## 管理面或产品数据库实例复制状态异常",
                "org_context": [
                    "<notice>故障处理中的管理面或产品数据库实例复制状态异常</notice>",
                    "现象描述",
                    "在管理面主菜单中选择“维护 > 运维管理 > 全景监控”。",
                    "在左侧导航树中选择“中间件监控”，在“中间件监控”页面左上方选择对应的产品或CloudSOP-UniEP，在页面的“关系数据库”页签下数据库实例的“状态”为“正在运行”，“复制状态”为“异常”，等待一段时间后复制状态仍未恢复正常。",
                    "可能原因",
                    "网络延迟。",
                    "主数据库写操作超负荷。",
                    "TPS（系统吞吐量）高或者有大事务超过了备数据库的复制处理能力。",
                    "备数据库实例所在的服务器的硬件配置过低。",
                    "前提条件",
                    "已获取管理节点sopuser和ossadm用户的密码。",
                    "处理步骤",
                    "查询“复制状态”为“异常”的数据库实例所对应的“实例名称”。",
                    "在管理面主菜单中选择“维护 > 运维管理 > 全景监控”。",
                    "在左侧导航树中选择“中间件监控”。",
                    "在“中间件监控”页面左上方选择对应的产品或CloudSOP-UniEP。",
                    "选择“关系数据库”页签，查看并记录“复制状态”为“异常”的数据库实例对应的“实例名称”。",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录管理节点。",
                    "如果管理面的部署模式是集群模式，即存在多个管理节点，需在Management0或Management1的其中任一节点执行以下操作。",
                    "获取节点IP地址的方法请参见。",
                    "执行以下命令，切换至ossadm用户。",
                    "> su - ossadm",
                    "Password:ossadm用户的密码",
                    "执行以下命令，查看“复制状态”为“异常”的数据库实例名称所对应的状态。",
                    "> cd <安装目录>/manager/apps/DBAgent/bin",
                    "> bash dbsvc_adm -cmd query-db-instance",
                    "系统提示如下类似回显信息：",
                    "DBInstanceId                ... IP           Port   ... Role    Rpl Status     ...",
                    "catalogrdb-8-24@9-24        ... xx.xx.xx.xx  26532  ... Master  Normal         ...",
                    "catalogrdb-8-24@9-24        ... xx.xx.xx.xx  26532  ... Slave   Delay (301)    ...",
                    "cloudsopapidbsvr-2-2@7-2    ... xx.xx.xx.xx  32082  ... Master  Normal         ...",
                    "cloudsopapidbsvr-2-2@7-2    ... xx.xx.xx.xx  32082  ... Slave   Normal         ...",
                    "cloudsopdbsvr-0-1000@1-1000 ... xx.xx.xx.xx  32081  ... Master  Normal         ...",
                    "cloudsopdbsvr-0-1000@1-1000 ... xx.xx.xx.xx  32081  ... Slave   Abnormal (101) ...",
                    "...",
                    "如果“Rpl Status”的值为“Normal”，表示该数据库实例复制状态正常。",
                    "说明管理面或产品数据库实例复制状态异常是由于其他原因导致，请联系华为技术支持工程师。",
                    "如果“Rpl Status”的值为“Delay”，表示备数据库正在同步主数据库上的数据，等待一段时间后，该值将恢复为“Normal”。",
                    "如果“Rpl Status”的值为“Abnormal”，表示数据库实例复制状态异常，请联系华为技术支持工程师。",
                    "----结束",
                    "",
                    ""
                ],
                "subsections": [],
                "embed_context": [
                    "故障处理中的管理面或产品数据库实例复制状态异常",
                    "管理面或产品数据库实例复制状态异常",
                    "在管理面主菜单中选择“维护 > 运维管理 > 全景监控”。",
                    "在左侧导航树中选择“中间件监控”，在“中间件监控”页面左上方选择对应的产品或CloudSOP-UniEP，在页面的“关系数据库”页签下数据库实例的“状态”为“正在运行”，“复制状态”为“异常”，等待一段时间后复制状态仍未恢复正常。",
                    "主数据库写操作超负荷。",
                    "TPS（系统吞吐量）高或者有大事务超过了备数据库的复制处理能力。",
                    "备数据库实例所在的服务器的硬件配置过低。",
                    "已获取管理节点sopuser和ossadm用户的密码。",
                    "查询“复制状态”为“异常”的数据库实例所对应的“实例名称”。",
                    "在管理面主菜单中选择“维护 > 运维管理 > 全景监控”。",
                    "在左侧导航树中选择“中间件监控”。",
                    "在“中间件监控”页面左上方选择对应的产品或CloudSOP-UniEP。",
                    "选择“关系数据库”页签，查看并记录“复制状态”为“异常”的数据库实例对应的“实例名称”。",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录管理节点。",
                    "如果管理面的部署模式是集群模式，即存在多个管理节点，需在Management0或Management1的其中任一节点执行以下操作。",
                    "获取节点IP地址的方法请参见。",
                    "执行以下命令，切换至ossadm用户。",
                    "> su - ossadm",
                    "Password:ossadm用户的密码",
                    "执行以下命令，查看“复制状态”为“异常”的数据库实例名称所对应的状态。",
                    "> cd <安装目录>/manager/apps/DBAgent/bin",
                    "> bash dbsvc_adm -cmd query-db-instance",
                    "系统提示如下类似回显信息：",
                    "DBInstanceId                ... IP           Port   ... Role    Rpl Status     ...",
                    "catalogrdb-8-24@9-24        ... xx.xx.xx.xx  26532  ... Master  Normal         ...",
                    "catalogrdb-8-24@9-24        ... xx.xx.xx.xx  26532  ... Slave   Delay (301)    ...",
                    "cloudsopapidbsvr-2-2@7-2    ... xx.xx.xx.xx  32082  ... Master  Normal         ...",
                    "cloudsopapidbsvr-2-2@7-2    ... xx.xx.xx.xx  32082  ... Slave   Normal         ...",
                    "cloudsopdbsvr-0-1000@1-1000 ... xx.xx.xx.xx  32081  ... Master  Normal         ...",
                    "cloudsopdbsvr-0-1000@1-1000 ... xx.xx.xx.xx  32081  ... Slave   Abnormal (101) ...",
                    "如果“Rpl Status”的值为“Normal”，表示该数据库实例复制状态正常。",
                    "说明管理面或产品数据库实例复制状态异常是由于其他原因导致，请联系华为技术支持工程师。",
                    "如果“Rpl Status”的值为“Delay”，表示备数据库正在同步主数据库上的数据，等待一段时间后，该值将恢复为“Normal”。",
                    "如果“Rpl Status”的值为“Abnormal”，表示数据库实例复制状态异常，请联系华为技术支持工程师。",
                    "----结束"
                ]
            }
        ],
        "embed_context": [
            "故障处理中的数据库故障",
            "数据库故障",
            "介绍GaussDB数据库实例、Redis数据库实例异常的修复方法。",
            "其他类型数据库实例异常的修复请联系华为技术支持工程师。",
            "当数据库实例出现异常时，请先修复该数据库实例异常。",
            "如果由于故障叠加造成的数据库多实例的故障，可能会导致数据库实例出现双主，当一个数据库实例降备后，主备数据库实例数据自动同步导致数据丢失。"
        ]
    },
    {
        "title": "# ZookeeperService故障",
        "org_context": [
            "<notice>故障处理中的ZookeeperService故障</notice>",
            "",
            ""
        ],
        "subsections": [
            {
                "title": "## MCZKService数据文件损坏导致mczkapp进程异常",
                "org_context": [
                    "<notice>故障处理中的MCZKService数据文件损坏导致mczkapp进程异常</notice>",
                    "现象描述",
                    "mczkapp进程的CPU使用率长期处于100%以上。",
                    "MCZKService数据文件损坏导致该服务无法启动。",
                    "MCZKService是基于zookeeper三方件的服务，存有部分业务状态数据，数据会持久化到磁盘。",
                    "服务重启的时候会优先加载磁盘数据，如果磁盘数据损坏无法读取，会导致服务启动失败。",
                    "MCZKService单机部署场景：MCZKService数据文件发生损坏，会导致数据丢失。",
                    "MCZKService集群部署场景：所有集群节点的MCZKService数据文件同时发生损坏，会导致数据丢失。",
                    "若MCZKService数据文件损坏的节点个数少于集群节点总数的一半，不影响MCZKService正常提供服务。",
                    "MCZKService数据文件损坏的节点修复后能自动提供服务。",
                    "可能原因",
                    "节点异常下电或者磁盘空间已满导致MCZKService数据文件损坏，从而mczkapp进程异常。",
                    "处理步骤",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录mczkapp进程异常的节点。",
                    "mczkapp进程的名称例如“mczkapp-0-0”。",
                    "执行以下命令，切换至ossadm用户。",
                    "> su - ossadm",
                    "Password:ossadm用户的密码",
                    "执行以下命令，停止mczkapp进程。",
                    "> source <安装目录>/manager/bin/engr_profile.sh",
                    "> ipmc_adm -cmd stopapp -tenant manager -app MCZKService",
                    "系统回显如下类似信息，表示mczkapp进程停止成功，否则请联系华为技术支持工程师。",
                    "Stopping process mczkapp-0-0 ... success",
                    "执行以下命令，删除mczkapp进程的配置文件。",
                    "> cd <共享目录>/manager/MCZKService",
                    "> rm -rf data_v2/*",
                    "> rm -rf datalog_v2/*",
                    "执行以下命令，启动mczkapp进程。",
                    "> ipmc_adm -cmd startapp -tenant manager -app MCZKService",
                    "系统回显如下类似信息，表示mczkapp进程启动成功，否则请联系华为技术支持工程师。",
                    "Starting process mczkapp-0-0 ... success",
                    "查看mczkapp进程的“状态”和“CPU使用率”。",
                    "登录管理面，具体操作请参见。",
                    "在管理面主菜单中选择“维护 > 运维管理 > 全景监控”。",
                    "在左侧导航树中选择“服务监控”。",
                    "在“服务监控”页面左上方选择“CloudSOP-UniEP”。",
                    "在“进程”页签下查看以“mczkapp”开头的服务进程的“状态”和“CPU使用率”。",
                    "如果“状态”为“正在运行”，且“CPU使用率”恢复正常，则故障恢复，处理结束。",
                    "如果“状态”为“启动中”或“停止中”，单服务的启停时长一般不超过1分钟，如果服务长时间处于该状态，请联系华为技术支持工程师处理。",
                    "如果“状态”为“故障”、“未知”或“未运行”，说明mczkapp进程运行异常，请联系华为技术支持工程师处理。",
                    "----结束",
                    "",
                    ""
                ],
                "subsections": [],
                "embed_context": [
                    "故障处理中的MCZKService数据文件损坏导致mczkapp进程异常",
                    "MCZKService数据文件损坏导致mczkapp进程异常",
                    "mczkapp进程的CPU使用率长期处于100%以上。",
                    "MCZKService数据文件损坏导致该服务无法启动。",
                    "MCZKService是基于zookeeper三方件的服务，存有部分业务状态数据，数据会持久化到磁盘。",
                    "服务重启的时候会优先加载磁盘数据，如果磁盘数据损坏无法读取，会导致服务启动失败。",
                    "MCZKService单机部署场景：MCZKService数据文件发生损坏，会导致数据丢失。",
                    "MCZKService集群部署场景：所有集群节点的MCZKService数据文件同时发生损坏，会导致数据丢失。",
                    "若MCZKService数据文件损坏的节点个数少于集群节点总数的一半，不影响MCZKService正常提供服务。",
                    "MCZKService数据文件损坏的节点修复后能自动提供服务。",
                    "节点异常下电或者磁盘空间已满导致MCZKService数据文件损坏，从而mczkapp进程异常。",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录mczkapp进程异常的节点。",
                    "mczkapp进程的名称例如“mczkapp-0-0”。",
                    "执行以下命令，切换至ossadm用户。",
                    "> su - ossadm",
                    "Password:ossadm用户的密码",
                    "执行以下命令，停止mczkapp进程。",
                    "> source <安装目录>/manager/bin/engr_profile.sh",
                    "> ipmc_adm -cmd stopapp -tenant manager -app MCZKService",
                    "系统回显如下类似信息，表示mczkapp进程停止成功，否则请联系华为技术支持工程师。",
                    "Stopping process mczkapp-0-0 ... success",
                    "执行以下命令，删除mczkapp进程的配置文件。",
                    "> cd <共享目录>/manager/MCZKService",
                    "> rm -rf data_v2/*",
                    "> rm -rf datalog_v2/*",
                    "执行以下命令，启动mczkapp进程。",
                    "> ipmc_adm -cmd startapp -tenant manager -app MCZKService",
                    "系统回显如下类似信息，表示mczkapp进程启动成功，否则请联系华为技术支持工程师。",
                    "Starting process mczkapp-0-0 ... success",
                    "查看mczkapp进程的“状态”和“CPU使用率”。",
                    "登录管理面，具体操作请参见。",
                    "在管理面主菜单中选择“维护 > 运维管理 > 全景监控”。",
                    "在左侧导航树中选择“服务监控”。",
                    "在“服务监控”页面左上方选择“CloudSOP-UniEP”。",
                    "在“进程”页签下查看以“mczkapp”开头的服务进程的“状态”和“CPU使用率”。",
                    "如果“状态”为“正在运行”，且“CPU使用率”恢复正常，则故障恢复，处理结束。",
                    "如果“状态”为“启动中”或“停止中”，单服务的启停时长一般不超过1分钟，如果服务长时间处于该状态，请联系华为技术支持工程师处理。",
                    "如果“状态”为“故障”、“未知”或“未运行”，说明mczkapp进程运行异常，请联系华为技术支持工程师处理。",
                    "----结束"
                ]
            },
            {
                "title": "## ZookeeperService数据文件损坏导致服务和进程异常",
                "org_context": [
                    "<notice>故障处理中的ZookeeperService数据文件损坏导致服务和进程异常</notice>",
                    "现象描述",
                    "zookeeperapp进程的CPU使用率长期处于100%以上或ZookeeperService服务无法启动，MessagingBrokeService服务、DmqKafkaService服务和MQAgent服务异常，查看ZookeeperService数据文件损坏。",
                    "可能原因",
                    "节点异常下电或磁盘空间已满导致ZookeeperService数据文件损坏，从而导致zookeeperapp进程异常、MessagingBrokeService服务、DmqKafkaService服务和MQAgent服务异常。",
                    "处理步骤",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录异常的zookeeperapp进程实例所在节点。",
                    "获取进程所在节点的IP地址请参见。",
                    "执行以下命令，切换到ossadm用户。",
                    "su - ossadm",
                    "Password:ossadm用户的密码",
                    "执行以下命令导入环境变量。",
                    "source <安装目录>/manager/bin/engr_profile.sh",
                    "执行以下命令，查看ZookeeperService服务状态。",
                    "ipmc_adm -cmd statusapp -app ZookeeperService -tenant <产品名称>",
                    "输出结果为如下类似信息，服务状态是STOPPED，表示服务异常，则执行。",
                    "Display Name      Process Type  App Name          Tenant Name   Process Mode     IP         PID       Status",
                    "zookeeperapp-1-0  zookeeperapp  ZookeeperService  <产品名称>          multi      x.x.x.x    66794     STOPPED",
                    "输出结果为如下类似信息，服务状态是RUNNING，表示服务当前正在运行，则执行。",
                    "Display Name      Process Type  App Name          Tenant Name   Process Mode      IP        PID      Status",
                    "zookeeperapp-1-0  zookeeperapp  ZookeeperService  <产品名称>    multi             x.x.x.x   66794    RUNNING",
                    "执行以下命令，停止zookeeperapp进程。",
                    "ipmc_adm -cmd stopapp -tenant <产品名称> -app ZookeeperService",
                    "系统回显如下类似信息，表示zookeeperapp进程停止成功，否则请联系华为技术支持工程师。",
                    "Stopping process zookeeperapp-1-0 ... success",
                    "执行以下命令，切换至ossuser用户。",
                    "su - ossuser",
                    "Password:ossuser用户的密码",
                    "执行以下命令查看ZookeeperService服务日志。",
                    "less <日志目录>/<产品名称>/ZookeeperService/oss.zookeeper.log",
                    "输出结果为如下类似信息，表示ZookeeperService服务文件损坏；",
                    "输出结果如果不包含如下类似信息，请联系华为技术支持工程师。",
                    "java.io.IOException: Transaction log: <共享目录>/SOP/ZookeeperService/datalog_v2/version-2/log.c034b2 has invalid magic number -42140",
                    "执行以下命令，删除服务中损坏的文件。",
                    "执行以下命令，查看datalog_v2下文件的属主权限。",
                    "cd <共享目录>/SOP/ZookeeperService/datalog_v2",
                    "ll",
                    "查看是否存在文件的属主权限变为“？",
                    "？",
                    "？",
                    "？",
                    "”。",
                    "是，执行。",
                    "否，执行。",
                    "",
                    "",
                    "执行以下命令，移动属主权限为“？",
                    "？",
                    "？",
                    "？",
                    "”的文件目录到其他位置。",
                    "以datalog_v2下version-2目录为例。",
                    "mv <共享目录>/SOP/ZookeeperService/datalog_v2/version-2 <临时目录>/version-2",
                    "",
                    "",
                    "执行以下命令，删除datalog_v2下的文件。",
                    "cd <共享目录>/SOP/ZookeeperService",
                    "rm -rf datalog_v2/*",
                    "执行以下命令，查看data_v2下文件的属主权限。",
                    "cd <共享目录>/SOP/ZookeeperService/data_v2",
                    "ll",
                    "查看是否存在文件的属主权限变为“？",
                    "？",
                    "？",
                    "？",
                    "”。",
                    "是，执行。",
                    "否，执行。",
                    "",
                    "",
                    "执行以下命令，移动属主权限为“？",
                    "？",
                    "？",
                    "？",
                    "”的文件目录到其他位置。",
                    "以data_v2下version-2目录为例。",
                    "mv <共享目录>/SOP/ZookeeperService/data_v2/version-2 <临时目录>/version-2",
                    "",
                    "",
                    "执行以下命令，删除data_v2下的文件。",
                    "cd <共享目录>/SOP/ZookeeperService",
                    "rm -rf data_v2/*",
                    "执行以下命令，切换至ossadm用户。",
                    "exit",
                    "执行以下命令导入环境变量。",
                    "source <安装目录>/manager/bin/engr_profile.sh",
                    "执行以下命令，启动zookeeperapp进程。",
                    "ipmc_adm -cmd startapp -tenant <产品名称> -app ZookeeperService",
                    "系统回显如下类似信息，表示zookeeperapp进程启动成功，否则请联系华为技术支持工程师。",
                    "Starting process zookeeperapp-1-0 ... success",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录msgbrksrv进程实例所在的节点。",
                    "获取进程所在节点的IP地址请参见。",
                    "如果MessagingBrokeService服务部署在多个节点上，则需要在每个节点上执行～操作。",
                    "如果MessagingBrokeService服务不存在，则执行。",
                    "执行以下命令，切换至ossuser用户。",
                    "su - ossuser",
                    "Password:ossuser用户的密码",
                    "执行以下命令，删除MessagingBrokeService服务共享目录下的meta.properties文件。",
                    "cd <共享目录>/SOP/MessagingBrokeService",
                    "rm meta.properties",
                    "执行以下命令，退出至sopuser用户。",
                    "exit",
                    "执行以下命令，切换到ossadm用户。",
                    "su - ossadm",
                    "Password:ossadm用户的密码",
                    "执行以下命令导入环境变量。",
                    "source <安装目录>/manager/bin/engr_profile.sh",
                    "执行以下命令，重启MessagingBrokeService服务。",
                    "ipmc_adm -cmd restartapp -tenant <产品名称> -app MessagingBrokeService",
                    "系统回显如下类似信息，表示MessagingBrokeService重启成功，否则请联系华为技术支持工程师。",
                    "Stopping process msgbrksrv-0-0 ... success",
                    "Starting process msgbrksrv-0-0 ... success",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录dmqkafkasvr进程实例所在的节点。",
                    "获取进程所在节点的IP地址请参见。",
                    "如果DmqKafkaService服务部署在多个节点上，则需要在每个节点上执行～操作。",
                    "如果DmqKafkaService服务不存在，则执行。",
                    "执行以下命令，切换至ossuser用户。",
                    "su - ossuser",
                    "Password:ossuser用户的密码",
                    "执行以下命令，删除DmqKafkaService服务共享目录下的meta.properties文件。",
                    "cd <共享目录>/SOP/DmqKafkaService/kafka-logs",
                    "rm meta.properties",
                    "执行以下命令，退出至sopuser用户。",
                    "exit",
                    "执行以下命令，切换到ossadm用户。",
                    "su - ossadm",
                    "Password:ossadm用户的密码",
                    "执行以下命令导入环境变量。",
                    "source <安装目录>/manager/bin/engr_profile.sh",
                    "执行以下命令，重启DmqKafkaService服务。",
                    "ipmc_adm -cmd restartapp -tenant <产品名称> -app DmqKafkaService",
                    "系统回显如下类似信息，表示DmqKafkaService重启成功，否则请联系华为技术支持工程师。",
                    "Stopping process dmqkafkasvr-1-0 ... success",
                    "Starting process dmqkafkasvr-1-0 ... success",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录mqagent进程实例所在的节点。",
                    "获取进程所在节点的IP地址请参见。",
                    "如果MQAgent服务部署在多个节点上，则需要在每个节点上执行～操作。",
                    "执行以下命令，切换至ossuser用户。",
                    "su - ossuser",
                    "Password:ossuser用户的密码",
                    "执行以下命令，删除MQAgent服务共享目录下的meta.properties文件。",
                    "rm -rf <共享目录>/SOP/MQAgent/*/data/kafka-logs/meta.properties",
                    "执行以下命令，退出至sopuser用户。",
                    "exit",
                    "执行以下命令，切换至ossadm用户。",
                    "su - ossadm",
                    "Password:ossadm用户的密码",
                    "执行以下命令导入环境变量。",
                    "source <安装目录>/manager/bin/engr_profile.sh",
                    "执行以下命令，重启MQAgent服务。",
                    "ipmc_adm -cmd restartapp -tenant <产品名称> -app MQAgent",
                    "系统回显如下类似信息，表示MQAgent重启成功，否则请联系华为技术支持工程师。",
                    "Stopping process mqagent-1-0 ... success",
                    "Starting process mqagent-1-0 ... success",
                    "----结束",
                    "",
                    ""
                ],
                "subsections": [],
                "embed_context": [
                    "故障处理中的ZookeeperService数据文件损坏导致服务和进程异常",
                    "ZookeeperService数据文件损坏导致服务和进程异常",
                    "zookeeperapp进程的CPU使用率长期处于100%以上或ZookeeperService服务无法启动，MessagingBrokeService服务、DmqKafkaService服务和MQAgent服务异常，查看ZookeeperService数据文件损坏。",
                    "节点异常下电或磁盘空间已满导致ZookeeperService数据文件损坏，从而导致zookeeperapp进程异常、MessagingBrokeService服务、DmqKafkaService服务和MQAgent服务异常。",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录异常的zookeeperapp进程实例所在节点。",
                    "获取进程所在节点的IP地址请参见。",
                    "执行以下命令，切换到ossadm用户。",
                    "su - ossadm",
                    "Password:ossadm用户的密码",
                    "执行以下命令导入环境变量。",
                    "source <安装目录>/manager/bin/engr_profile.sh",
                    "执行以下命令，查看ZookeeperService服务状态。",
                    "ipmc_adm -cmd statusapp -app ZookeeperService -tenant <产品名称>",
                    "输出结果为如下类似信息，服务状态是STOPPED，表示服务异常，则执行。",
                    "Display Name      Process Type  App Name          Tenant Name   Process Mode     IP         PID       Status",
                    "zookeeperapp-1-0  zookeeperapp  ZookeeperService  <产品名称>          multi      x.x.x.x    66794     STOPPED",
                    "输出结果为如下类似信息，服务状态是RUNNING，表示服务当前正在运行，则执行。",
                    "Display Name      Process Type  App Name          Tenant Name   Process Mode      IP        PID      Status",
                    "zookeeperapp-1-0  zookeeperapp  ZookeeperService  <产品名称>    multi             x.x.x.x   66794    RUNNING",
                    "执行以下命令，停止zookeeperapp进程。",
                    "ipmc_adm -cmd stopapp -tenant <产品名称> -app ZookeeperService",
                    "系统回显如下类似信息，表示zookeeperapp进程停止成功，否则请联系华为技术支持工程师。",
                    "Stopping process zookeeperapp-1-0 ... success",
                    "执行以下命令，切换至ossuser用户。",
                    "su - ossuser",
                    "Password:ossuser用户的密码",
                    "执行以下命令查看ZookeeperService服务日志。",
                    "less <日志目录>/<产品名称>/ZookeeperService/oss.zookeeper.log",
                    "输出结果为如下类似信息，表示ZookeeperService服务文件损坏；",
                    "输出结果如果不包含如下类似信息，请联系华为技术支持工程师。",
                    "java.io.IOException: Transaction log: <共享目录>/SOP/ZookeeperService/datalog_v2/version-2/log.c034b2 has invalid magic number -42140",
                    "执行以下命令，删除服务中损坏的文件。",
                    "执行以下命令，查看datalog_v2下文件的属主权限。",
                    "cd <共享目录>/SOP/ZookeeperService/datalog_v2",
                    "查看是否存在文件的属主权限变为“？",
                    "执行以下命令，移动属主权限为“？",
                    "”的文件目录到其他位置。",
                    "以datalog_v2下version-2目录为例。",
                    "mv <共享目录>/SOP/ZookeeperService/datalog_v2/version-2 <临时目录>/version-2",
                    "执行以下命令，删除datalog_v2下的文件。",
                    "cd <共享目录>/SOP/ZookeeperService",
                    "rm -rf datalog_v2/*",
                    "执行以下命令，查看data_v2下文件的属主权限。",
                    "cd <共享目录>/SOP/ZookeeperService/data_v2",
                    "查看是否存在文件的属主权限变为“？",
                    "执行以下命令，移动属主权限为“？",
                    "”的文件目录到其他位置。",
                    "以data_v2下version-2目录为例。",
                    "mv <共享目录>/SOP/ZookeeperService/data_v2/version-2 <临时目录>/version-2",
                    "执行以下命令，删除data_v2下的文件。",
                    "cd <共享目录>/SOP/ZookeeperService",
                    "rm -rf data_v2/*",
                    "执行以下命令，切换至ossadm用户。",
                    "执行以下命令导入环境变量。",
                    "source <安装目录>/manager/bin/engr_profile.sh",
                    "执行以下命令，启动zookeeperapp进程。",
                    "ipmc_adm -cmd startapp -tenant <产品名称> -app ZookeeperService",
                    "系统回显如下类似信息，表示zookeeperapp进程启动成功，否则请联系华为技术支持工程师。",
                    "Starting process zookeeperapp-1-0 ... success",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录msgbrksrv进程实例所在的节点。",
                    "获取进程所在节点的IP地址请参见。",
                    "如果MessagingBrokeService服务部署在多个节点上，则需要在每个节点上执行～操作。",
                    "如果MessagingBrokeService服务不存在，则执行。",
                    "执行以下命令，切换至ossuser用户。",
                    "su - ossuser",
                    "Password:ossuser用户的密码",
                    "执行以下命令，删除MessagingBrokeService服务共享目录下的meta.properties文件。",
                    "cd <共享目录>/SOP/MessagingBrokeService",
                    "rm meta.properties",
                    "执行以下命令，退出至sopuser用户。",
                    "执行以下命令，切换到ossadm用户。",
                    "su - ossadm",
                    "Password:ossadm用户的密码",
                    "执行以下命令导入环境变量。",
                    "source <安装目录>/manager/bin/engr_profile.sh",
                    "执行以下命令，重启MessagingBrokeService服务。",
                    "ipmc_adm -cmd restartapp -tenant <产品名称> -app MessagingBrokeService",
                    "系统回显如下类似信息，表示MessagingBrokeService重启成功，否则请联系华为技术支持工程师。",
                    "Stopping process msgbrksrv-0-0 ... success",
                    "Starting process msgbrksrv-0-0 ... success",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录dmqkafkasvr进程实例所在的节点。",
                    "获取进程所在节点的IP地址请参见。",
                    "如果DmqKafkaService服务部署在多个节点上，则需要在每个节点上执行～操作。",
                    "如果DmqKafkaService服务不存在，则执行。",
                    "执行以下命令，切换至ossuser用户。",
                    "su - ossuser",
                    "Password:ossuser用户的密码",
                    "执行以下命令，删除DmqKafkaService服务共享目录下的meta.properties文件。",
                    "cd <共享目录>/SOP/DmqKafkaService/kafka-logs",
                    "rm meta.properties",
                    "执行以下命令，退出至sopuser用户。",
                    "执行以下命令，切换到ossadm用户。",
                    "su - ossadm",
                    "Password:ossadm用户的密码",
                    "执行以下命令导入环境变量。",
                    "source <安装目录>/manager/bin/engr_profile.sh",
                    "执行以下命令，重启DmqKafkaService服务。",
                    "ipmc_adm -cmd restartapp -tenant <产品名称> -app DmqKafkaService",
                    "系统回显如下类似信息，表示DmqKafkaService重启成功，否则请联系华为技术支持工程师。",
                    "Stopping process dmqkafkasvr-1-0 ... success",
                    "Starting process dmqkafkasvr-1-0 ... success",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录mqagent进程实例所在的节点。",
                    "获取进程所在节点的IP地址请参见。",
                    "如果MQAgent服务部署在多个节点上，则需要在每个节点上执行～操作。",
                    "执行以下命令，切换至ossuser用户。",
                    "su - ossuser",
                    "Password:ossuser用户的密码",
                    "执行以下命令，删除MQAgent服务共享目录下的meta.properties文件。",
                    "rm -rf <共享目录>/SOP/MQAgent/*/data/kafka-logs/meta.properties",
                    "执行以下命令，退出至sopuser用户。",
                    "执行以下命令，切换至ossadm用户。",
                    "su - ossadm",
                    "Password:ossadm用户的密码",
                    "执行以下命令导入环境变量。",
                    "source <安装目录>/manager/bin/engr_profile.sh",
                    "执行以下命令，重启MQAgent服务。",
                    "ipmc_adm -cmd restartapp -tenant <产品名称> -app MQAgent",
                    "系统回显如下类似信息，表示MQAgent重启成功，否则请联系华为技术支持工程师。",
                    "Stopping process mqagent-1-0 ... success",
                    "Starting process mqagent-1-0 ... success",
                    "----结束"
                ]
            }
        ],
        "embed_context": [
            "故障处理中的ZookeeperService故障",
            "ZookeeperService故障"
        ]
    },
    {
        "title": "# 异地容灾系统故障",
        "org_context": [
            "<notice>故障处理中的异地容灾系统故障</notice>",
            "",
            ""
        ],
        "subsections": [
            {
                "title": "## 异地容灾系统心跳异常",
                "org_context": [
                    "<notice>故障处理中的异地容灾系统心跳异常</notice>",
                    "现象描述",
                    "在管理面的“管理异地容灾系统”页面中，主用站点和备用站点之间的心跳状态显示为（异常）。",
                    "可能原因",
                    "主用站点和备用站点之间心跳网络异常。",
                    "主用站点或者备用站点的异地容灾服务异常。",
                    "主用站点和备用站点管理节点上的异地容灾系统证书不匹配或者已过期。",
                    "处理步骤",
                    "该故障排查方法比较复杂，此处只介绍初步的排查方法，如果仍不能解决，请联系华为技术支持工程师处理。",
                    "检查主用站点和备用站点之间的心跳网络是否连通。",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录备用站点的管理节点。",
                    "",
                    "",
                    "执行以下命令，测试主用站点和备用站点管理节点的连通性。",
                    "如果IP地址为IPv4：",
                    "> ping 主用站点管理节点的心跳IP地址",
                    "如果IP地址为IPv6：",
                    "> ping6 主用站点管理节点的心跳IP地址",
                    "如果管理面是集群模式，分别在Management0节点和Management1节点ping对端的Management0节点和Management1节点。",
                    "获取节点IP地址的方法请参见。",
                    "在备用站点Management0节点执行以下命令：",
                    "> ping 主用站点Management0节点的心跳IP地址",
                    "> ping 主用站点Management1节点的心跳IP地址",
                    "在备用站点Management1节点执行以下命令：",
                    "> ping 主用站点Management0节点的心跳IP地址",
                    "> ping 主用站点Management1节点的心跳IP地址",
                    "查看系统回显信息：",
                    "如果回显如下类似信息，表示可以ping通，说明网络连接正常。",
                    "64 bytes from 主用站点管理节点的心跳IP地址: icmp_seq=1 ttl=251 time=42.1 ms",
                    "如果等待1分钟无回显信息，说明网络连接异常，请执行以下命令重启备用站点网络。",
                    "重启网络成功后，参考再次检测主用站点和备用站点管理节点的连通性。",
                    "如果网络仍然无法连通，请联系管理员检查并恢复网络。",
                    "如果管理面是集群模式，只需在ping操作异常的备用站点对应节点执行重启网络操作。",
                    "> su - root",
                    "Password:root用户的密码",
                    "# systemctl restart network",
                    "# exit",
                    "按“Ctrl+C”终止ping命令。",
                    "分别检查主用站点和备用站点管理节点的异地容灾进程是否正常。",
                    "登录主用站点管理面，具体操作请参见。",
                    "在管理面主菜单中选择“维护 > 运维管理 > 全景监控”。",
                    "在左侧导航树中选择“服务监控”。",
                    "在“服务监控”页面左上方选择CloudSOP-UniEP。",
                    "在“进程”页签下查看是否有“drmgrservice-x-x”进程，且该进程的“状态”是否为“正在运行”。",
                    "x为实例编号，具体以实际为准。",
                    "是，表示该进程存在，且运行正常。",
                    "否，请联系华为技术支持工程师处理。",
                    "登录备用站点管理面，参考以上操作，检查备用站点异地容灾进程是否正常，如果异常请联系华为技术支持工程师修复异地容灾进程。",
                    "检查主用站点和备用站点管理节点的异地容灾系统证书是否过期。",
                    "登录主用站点运维面，具体操作请参见15.2 登录运维面。",
                    "在主菜单中选择“业务监控 > 告警监控 > 当前告警”，检查告警界面显示正常。",
                    "查看主用站点和备用站点是否存在“ALM-51025 容灾证书已过期”告警。",
                    "是，请更新异地容灾证书，具体操作请参见《管理员指南》中的“更新异地容灾系统通信的证书”章节。",
                    "否，则表示不是异地容灾证书过期导致该故障。",
                    "检查主用站点和备用站点管理节点异地容灾系统证书是否一致。",
                    "比较主用站点和备用站点管理节点异地容灾系统证书的sha256值。",
                    "",
                    "",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录主用站点的管理节点。",
                    "如果管理面的部署模式是集群模式，即存在多个管理节点，需在Management0或Management1的其中任一节点执行以下操作。",
                    "获取节点IP地址的方法请参见。",
                    "执行以下命令，切换至ossadm用户。",
                    "> su - ossadm",
                    "Password:ossadm用户的密码",
                    "",
                    "",
                    "执行以下命令，查看主用站点证书的sha256值。",
                    "> cd <安装目录>/manager/etc/ssl/dr",
                    "> sha256sum server.cer trust.cer",
                    "回显以下类似信息：",
                    "6bd440f7d4bfe363c99d729eb816b2d6a019d42cb3a659c6be514252b8904dee  server.cer",
                    "94be0a32258d4e14ee5c9fb9fb84ed354a00ce9c16fda11eb1d2948c705d6b77  trust.cer",
                    "在备用站点的管理节点上，参考-查看备用站点证书的sha256值。",
                    "如果主用站点和备用站点的异地容灾系统证书文件值相同，说明二者的异地容灾系统证书一致，不是异地容灾证书不一致导致该故障，请联系华为技术支持工程师处理。",
                    "如果主用站点和备用站点的异地容灾系统证书文件值不相同，说明二者的异地容灾统证书不一致，执行-。",
                    "",
                    "",
                    "获取主用站点管理节点的证书文件。",
                    "执行以下命令，创建临时目录“<临时目录>/cer1”用于存放证书文件，并将证书文件复制到该目录下。",
                    "> mkdir <临时目录>/cer1",
                    "> cp <安装目录>/manager/etc/ssl/dr/* <临时目录>/cer1",
                    "> chgrp -R sopgroup /tmp/cer1",
                    "> chmod 640 /tmp/cer1/*",
                    "",
                    "",
                    "使用FileZilla工具以sopuser用户登录主用站点的管理节点，将“<临时目录>/cer1”目录下的证书文件下载至本地PC，具体操作请参见15.4 使用FileZilla传输文件。",
                    "证书名称：",
                    "manifest.json",
                    "server.cer",
                    "server.jks",
                    "server_key.pem",
                    "trust.cer",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录备用站点的管理节点。",
                    "如果管理面的部署模式是集群模式，即存在多个管理节点，请先登录Management0节点执行以下操作，然后登录Management1节点执行以下操作。",
                    "获取节点IP地址的方法请参见。",
                    "上传获取的证书文件至备用站点管理节点的“<安装目录>/manager/etc/ssl/dr”目录下。",
                    "执行以下命令，创建临时目录“<临时目录>/cer2”用于存放证书文件。",
                    "> mkdir <临时目录>/cer2",
                    "使用FileZilla工具以sopuser用户登录备用站点管理节点，并将获取到的证书文件上传至“<临时目录>/cer2”目录下。",
                    "执行以下命令，切换至ossadm用户。",
                    "> su - ossadm",
                    "Password:ossadm用户的密码",
                    "执行以下命令，将“<临时目录>/cer2”目录下的证书文件复制到“<安装目录>/manager/etc/ssl/dr”目录下。",
                    "> cp <临时目录>/cer2/* <安装目录>/manager/etc/ssl/dr",
                    "执行以下命令，设置证书的权限。",
                    "> find <安装目录>/manager/etc/ssl/dr -type f | xargs chmod 600",
                    "执行以下命令，重启DRMgrService服务。",
                    "> source <安装目录>/manager/bin/engr_profile.sh",
                    "> ipmc_adm -cmd restartapp -tenant manager -app DRMgrService",
                    "当系统提示以下信息时，说明DRMgrService服务已重新启动，否则请联系华为技术支持工程师处理。",
                    "Stopping process drmgrservice-0-0 ... success",
                    "Starting process drmgrservice-0-0 ... success",
                    "",
                    "",
                    "删除临时文件。",
                    "执行以下命令，删除主用站点管理节点的临时文件并退出至sopuser用户。",
                    "> cd <临时目录>",
                    "> rm -rf cer1",
                    "> exit",
                    "执行以下命令，删除备用站点管理节点的临时文件并退出至sopuser用户。",
                    "> exit",
                    "> cd <临时目录>",
                    "> rm -rf cer2",
                    "----结束",
                    "",
                    ""
                ],
                "subsections": [],
                "embed_context": [
                    "故障处理中的异地容灾系统心跳异常",
                    "异地容灾系统心跳异常",
                    "在管理面的“管理异地容灾系统”页面中，主用站点和备用站点之间的心跳状态显示为（异常）。",
                    "主用站点和备用站点之间心跳网络异常。",
                    "主用站点或者备用站点的异地容灾服务异常。",
                    "主用站点和备用站点管理节点上的异地容灾系统证书不匹配或者已过期。",
                    "该故障排查方法比较复杂，此处只介绍初步的排查方法，如果仍不能解决，请联系华为技术支持工程师处理。",
                    "检查主用站点和备用站点之间的心跳网络是否连通。",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录备用站点的管理节点。",
                    "执行以下命令，测试主用站点和备用站点管理节点的连通性。",
                    "如果IP地址为IPv4：",
                    "> ping 主用站点管理节点的心跳IP地址",
                    "如果IP地址为IPv6：",
                    "> ping6 主用站点管理节点的心跳IP地址",
                    "如果管理面是集群模式，分别在Management0节点和Management1节点ping对端的Management0节点和Management1节点。",
                    "获取节点IP地址的方法请参见。",
                    "在备用站点Management0节点执行以下命令：",
                    "> ping 主用站点Management0节点的心跳IP地址",
                    "> ping 主用站点Management1节点的心跳IP地址",
                    "在备用站点Management1节点执行以下命令：",
                    "> ping 主用站点Management0节点的心跳IP地址",
                    "> ping 主用站点Management1节点的心跳IP地址",
                    "查看系统回显信息：",
                    "如果回显如下类似信息，表示可以ping通，说明网络连接正常。",
                    "64 bytes from 主用站点管理节点的心跳IP地址: icmp_seq=1 ttl=251 time=42.1 ms",
                    "如果等待1分钟无回显信息，说明网络连接异常，请执行以下命令重启备用站点网络。",
                    "重启网络成功后，参考再次检测主用站点和备用站点管理节点的连通性。",
                    "如果网络仍然无法连通，请联系管理员检查并恢复网络。",
                    "如果管理面是集群模式，只需在ping操作异常的备用站点对应节点执行重启网络操作。",
                    "> su - root",
                    "Password:root用户的密码",
                    "# systemctl restart network",
                    "# exit",
                    "按“Ctrl+C”终止ping命令。",
                    "分别检查主用站点和备用站点管理节点的异地容灾进程是否正常。",
                    "登录主用站点管理面，具体操作请参见。",
                    "在管理面主菜单中选择“维护 > 运维管理 > 全景监控”。",
                    "在左侧导航树中选择“服务监控”。",
                    "在“服务监控”页面左上方选择CloudSOP-UniEP。",
                    "在“进程”页签下查看是否有“drmgrservice-x-x”进程，且该进程的“状态”是否为“正在运行”。",
                    "x为实例编号，具体以实际为准。",
                    "是，表示该进程存在，且运行正常。",
                    "否，请联系华为技术支持工程师处理。",
                    "登录备用站点管理面，参考以上操作，检查备用站点异地容灾进程是否正常，如果异常请联系华为技术支持工程师修复异地容灾进程。",
                    "检查主用站点和备用站点管理节点的异地容灾系统证书是否过期。",
                    "登录主用站点运维面，具体操作请参见15.2 登录运维面。",
                    "在主菜单中选择“业务监控 > 告警监控 > 当前告警”，检查告警界面显示正常。",
                    "查看主用站点和备用站点是否存在“ALM-51025 容灾证书已过期”告警。",
                    "是，请更新异地容灾证书，具体操作请参见《管理员指南》中的“更新异地容灾系统通信的证书”章节。",
                    "否，则表示不是异地容灾证书过期导致该故障。",
                    "检查主用站点和备用站点管理节点异地容灾系统证书是否一致。",
                    "比较主用站点和备用站点管理节点异地容灾系统证书的sha256值。",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录主用站点的管理节点。",
                    "如果管理面的部署模式是集群模式，即存在多个管理节点，需在Management0或Management1的其中任一节点执行以下操作。",
                    "获取节点IP地址的方法请参见。",
                    "执行以下命令，切换至ossadm用户。",
                    "> su - ossadm",
                    "Password:ossadm用户的密码",
                    "执行以下命令，查看主用站点证书的sha256值。",
                    "> cd <安装目录>/manager/etc/ssl/dr",
                    "> sha256sum server.cer trust.cer",
                    "回显以下类似信息：",
                    "6bd440f7d4bfe363c99d729eb816b2d6a019d42cb3a659c6be514252b8904dee  server.cer",
                    "94be0a32258d4e14ee5c9fb9fb84ed354a00ce9c16fda11eb1d2948c705d6b77  trust.cer",
                    "在备用站点的管理节点上，参考-查看备用站点证书的sha256值。",
                    "如果主用站点和备用站点的异地容灾系统证书文件值相同，说明二者的异地容灾系统证书一致，不是异地容灾证书不一致导致该故障，请联系华为技术支持工程师处理。",
                    "如果主用站点和备用站点的异地容灾系统证书文件值不相同，说明二者的异地容灾统证书不一致，执行-。",
                    "获取主用站点管理节点的证书文件。",
                    "执行以下命令，创建临时目录“<临时目录>/cer1”用于存放证书文件，并将证书文件复制到该目录下。",
                    "> mkdir <临时目录>/cer1",
                    "> cp <安装目录>/manager/etc/ssl/dr/* <临时目录>/cer1",
                    "> chgrp -R sopgroup /tmp/cer1",
                    "> chmod 640 /tmp/cer1/*",
                    "使用FileZilla工具以sopuser用户登录主用站点的管理节点，将“<临时目录>/cer1”目录下的证书文件下载至本地PC，具体操作请参见15.4 使用FileZilla传输文件。",
                    "manifest.json",
                    "server.cer",
                    "server.jks",
                    "server_key.pem",
                    "trust.cer",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录备用站点的管理节点。",
                    "如果管理面的部署模式是集群模式，即存在多个管理节点，请先登录Management0节点执行以下操作，然后登录Management1节点执行以下操作。",
                    "获取节点IP地址的方法请参见。",
                    "上传获取的证书文件至备用站点管理节点的“<安装目录>/manager/etc/ssl/dr”目录下。",
                    "执行以下命令，创建临时目录“<临时目录>/cer2”用于存放证书文件。",
                    "> mkdir <临时目录>/cer2",
                    "使用FileZilla工具以sopuser用户登录备用站点管理节点，并将获取到的证书文件上传至“<临时目录>/cer2”目录下。",
                    "执行以下命令，切换至ossadm用户。",
                    "> su - ossadm",
                    "Password:ossadm用户的密码",
                    "执行以下命令，将“<临时目录>/cer2”目录下的证书文件复制到“<安装目录>/manager/etc/ssl/dr”目录下。",
                    "> cp <临时目录>/cer2/* <安装目录>/manager/etc/ssl/dr",
                    "执行以下命令，设置证书的权限。",
                    "> find <安装目录>/manager/etc/ssl/dr -type f | xargs chmod 600",
                    "执行以下命令，重启DRMgrService服务。",
                    "> source <安装目录>/manager/bin/engr_profile.sh",
                    "> ipmc_adm -cmd restartapp -tenant manager -app DRMgrService",
                    "当系统提示以下信息时，说明DRMgrService服务已重新启动，否则请联系华为技术支持工程师处理。",
                    "Stopping process drmgrservice-0-0 ... success",
                    "Starting process drmgrservice-0-0 ... success",
                    "删除临时文件。",
                    "执行以下命令，删除主用站点管理节点的临时文件并退出至sopuser用户。",
                    "> cd <临时目录>",
                    "> rm -rf cer1",
                    "> exit",
                    "执行以下命令，删除备用站点管理节点的临时文件并退出至sopuser用户。",
                    "> exit",
                    "> cd <临时目录>",
                    "> rm -rf cer2",
                    "----结束"
                ]
            },
            {
                "title": "## 异地容灾复制异常",
                "org_context": [
                    "<notice>故障处理中的异地容灾复制异常</notice>"
                ],
                "subsections": [
                    {
                        "title": "### 主用站点和备用站点数据库数据同步异常",
                        "org_context": [
                            "<notice>故障处理中的主用站点和备用站点数据库数据同步异常</notice>",
                            "现象描述",
                            "在管理面的“管理异地容灾系统”页面中，主用站点和备用站点之间的“数据同步状态”显示为“异常”，并且单击展开产品信息后，查看“数据类型”为“数据库”的状态也显示为“异常”。",
                            "可能原因",
                            "异地容灾系统的数据复制异常定位思路如图9-1所示，本地数据库采用主备模式部署，数据写入主数据库，然后主数据库再同步给备数据库，如A站点（即主用站点）DB01上的数据同步给DB02，B站点（即备用站点）DB03上的数据同步给DB04。",
                            "数据进行异地复制时，主用站点数据会从主数据库同步给备用站点的主数据库，如A站点DB01上的数据同步给B站点DB03。",
                            "",
                            "",
                            "异地容灾系统复制异常定位思路",
                            "主用站点和备用站点产品之间的数据复制链路（数据异地复制）通信异常。",
                            "影响数据异地复制的主要因素有以下几点：",
                            "主用站点和备用站点的数据复制链路（如A站点DB01上的数据同步给B站点DB03）。",
                            "本地节点间的数据复制链路（如A站点DB01上的数据同步给DB02，B站点DB03上的数据同步给DB04）。",
                            "数据库运行状态。",
                            "处理步骤",
                            "检查主用站点和备用站点间的数据复制链路是否正常。",
                            "使用PuTTY工具以sopuser用户通过SSH方式登录主用站点的管理节点。",
                            "如果管理面的部署模式是集群模式，即存在多个管理节点，需在Management0或Management1的其中任一节点执行以下操作。",
                            "获取节点IP地址的方法请参见15.6 查找节点对应的管理IP地址。",
                            "执行以下命令，切换至主用站点产品的主数据库实例所在节点。",
                            "> ssh 主用站点产品的主数据库实例所在节点IP地址",
                            "主用站点产品的主数据库实例所在节点IP地址：获取节点IP地址的方法请参见15.8 查找数据库实例所在节点的管理IP地址。",
                            "执行以下命令，测试主用站点和备用站点数据库节点的连通性。",
                            "以下命令中的节点IP地址为备用站点上与主用站点产品的主数据库实例名称相同所在节点的IP地址。",
                            "如果IP地址为IPv4：",
                            "> ping 备用站点某节点的IP地址",
                            "如果IP地址为IPv6：",
                            "> ping6 备用站点某节点的IP地址",
                            "查看系统回显信息：",
                            "如果回显如下类似信息，表示可以ping通，说明网络连接正常，按“Ctrl+C”终止ping命令并执行。",
                            "64 bytes from 备用站点某节点的IP地址: icmp_seq=1 ttl=251 time=42.1 ms",
                            "如果等待1分钟无回显信息，说明网络连接异常，按“Ctrl+C”终止ping命令，并联系管理员检查和恢复网络后执行。",
                            "在主用站点上检查本地主备数据库实例状态。",
                            "登录主用站点的管理面，具体操作请参见15.1 登录管理面。",
                            "在管理面主菜单中选择“维护 > 运维管理 > 全景监控”。",
                            "在左侧导航树中选择“中间件监控”。",
                            "在“中间件监控”页面左上方选择对应的产品。",
                            "选择“关系数据库”页签，查看主备数据库实例状态。",
                            "如果主备数据库实例的“状态”为“正在运行”，“复制状态”为“正常”，则数据库实例状态正常，执行。",
                            "如果主备数据库实例的“状态”为“未运行”或“未知”，“复制状态”为“异常”，则数据库实例状态异常，请根据实际故障现象参见《故障处理》中的“数据库故障”章节进行修复。",
                            "强制同步主用站点和备用站点间数据。",
                            "在主用站点管理面主菜单中选择“高可用 > 异地高可用系统 > 管理异地容灾系统”。",
                            "在待同步数据的产品所在行“操作”列中，单击，选择产品的数据同步方向。",
                            "若主站点和备站点的状态非主用和备用，则需要选择产品的数据同步方向，异地容灾系统会根据用户选择方向进行全量数据同步，例如选择从A站点产品向B站点产品同步数据，则B站点的产品数据会被覆盖，并且B站点管理面的用户管理数据将在第二天的00:00:00被A站点管理面的用户管理数据覆盖。",
                            "建议以含有最新数据的产品为主用站点产品，向对端站点产品同步。",
                            "若主站点和备站点的状态为主用和备用，无需选择产品的数据同步方向，系统会自动从主用站点向备用站点同步数据。",
                            "备用站点管理面的用户管理数据，将在第二天的00:00:00被主用站点管理面的用户管理数据覆盖。",
                            "按照界面上的指引完成相关操作。",
                            "检查操作结果。",
                            "在管理面主菜单中选择“高可用 > 异地高可用系统 > 管理异地容灾系统”。",
                            "在页面中查看主用站点和备用站点间的心跳状态为。",
                            "在页面中查看所有产品的“数据同步状态”为“已同步”或者“同步中”。",
                            "如果“数据同步状态”显示为“延迟”，表示主用站点和备用站点有较多的数据正在同步，请等待数据同步完成后再检查状态。",
                            "主用站点运维面能正常登录，具体操作请参见15.2 登录运维面。",
                            "在运维面主菜单中选择“业务监控 > 告警监控 > 当前告警”。",
                            "检查告警界面显示正常。",
                            "如果操作结果与预期不符，请联系华为技术支持工程师。",
                            "----结束"
                        ],
                        "subsections": [],
                        "embed_context": [
                            "故障处理中的主用站点和备用站点数据库数据同步异常",
                            "主用站点和备用站点数据库数据同步异常",
                            "在管理面的“管理异地容灾系统”页面中，主用站点和备用站点之间的“数据同步状态”显示为“异常”，并且单击展开产品信息后，查看“数据类型”为“数据库”的状态也显示为“异常”。",
                            "异地容灾系统的数据复制异常定位思路如图9-1所示，本地数据库采用主备模式部署，数据写入主数据库，然后主数据库再同步给备数据库，如A站点（即主用站点）DB01上的数据同步给DB02，B站点（即备用站点）DB03上的数据同步给DB04。",
                            "数据进行异地复制时，主用站点数据会从主数据库同步给备用站点的主数据库，如A站点DB01上的数据同步给B站点DB03。",
                            "异地容灾系统复制异常定位思路",
                            "主用站点和备用站点产品之间的数据复制链路（数据异地复制）通信异常。",
                            "影响数据异地复制的主要因素有以下几点：",
                            "主用站点和备用站点的数据复制链路（如A站点DB01上的数据同步给B站点DB03）。",
                            "本地节点间的数据复制链路（如A站点DB01上的数据同步给DB02，B站点DB03上的数据同步给DB04）。",
                            "数据库运行状态。",
                            "检查主用站点和备用站点间的数据复制链路是否正常。",
                            "使用PuTTY工具以sopuser用户通过SSH方式登录主用站点的管理节点。",
                            "如果管理面的部署模式是集群模式，即存在多个管理节点，需在Management0或Management1的其中任一节点执行以下操作。",
                            "获取节点IP地址的方法请参见15.6 查找节点对应的管理IP地址。",
                            "执行以下命令，切换至主用站点产品的主数据库实例所在节点。",
                            "> ssh 主用站点产品的主数据库实例所在节点IP地址",
                            "主用站点产品的主数据库实例所在节点IP地址：获取节点IP地址的方法请参见15.8 查找数据库实例所在节点的管理IP地址。",
                            "执行以下命令，测试主用站点和备用站点数据库节点的连通性。",
                            "以下命令中的节点IP地址为备用站点上与主用站点产品的主数据库实例名称相同所在节点的IP地址。",
                            "如果IP地址为IPv4：",
                            "> ping 备用站点某节点的IP地址",
                            "如果IP地址为IPv6：",
                            "> ping6 备用站点某节点的IP地址",
                            "查看系统回显信息：",
                            "如果回显如下类似信息，表示可以ping通，说明网络连接正常，按“Ctrl+C”终止ping命令并执行。",
                            "64 bytes from 备用站点某节点的IP地址: icmp_seq=1 ttl=251 time=42.1 ms",
                            "如果等待1分钟无回显信息，说明网络连接异常，按“Ctrl+C”终止ping命令，并联系管理员检查和恢复网络后执行。",
                            "在主用站点上检查本地主备数据库实例状态。",
                            "登录主用站点的管理面，具体操作请参见15.1 登录管理面。",
                            "在管理面主菜单中选择“维护 > 运维管理 > 全景监控”。",
                            "在左侧导航树中选择“中间件监控”。",
                            "在“中间件监控”页面左上方选择对应的产品。",
                            "选择“关系数据库”页签，查看主备数据库实例状态。",
                            "如果主备数据库实例的“状态”为“正在运行”，“复制状态”为“正常”，则数据库实例状态正常，执行。",
                            "如果主备数据库实例的“状态”为“未运行”或“未知”，“复制状态”为“异常”，则数据库实例状态异常，请根据实际故障现象参见《故障处理》中的“数据库故障”章节进行修复。",
                            "强制同步主用站点和备用站点间数据。",
                            "在主用站点管理面主菜单中选择“高可用 > 异地高可用系统 > 管理异地容灾系统”。",
                            "在待同步数据的产品所在行“操作”列中，单击，选择产品的数据同步方向。",
                            "若主站点和备站点的状态非主用和备用，则需要选择产品的数据同步方向，异地容灾系统会根据用户选择方向进行全量数据同步，例如选择从A站点产品向B站点产品同步数据，则B站点的产品数据会被覆盖，并且B站点管理面的用户管理数据将在第二天的00:00:00被A站点管理面的用户管理数据覆盖。",
                            "建议以含有最新数据的产品为主用站点产品，向对端站点产品同步。",
                            "若主站点和备站点的状态为主用和备用，无需选择产品的数据同步方向，系统会自动从主用站点向备用站点同步数据。",
                            "备用站点管理面的用户管理数据，将在第二天的00:00:00被主用站点管理面的用户管理数据覆盖。",
                            "按照界面上的指引完成相关操作。",
                            "检查操作结果。",
                            "在管理面主菜单中选择“高可用 > 异地高可用系统 > 管理异地容灾系统”。",
                            "在页面中查看主用站点和备用站点间的心跳状态为。",
                            "在页面中查看所有产品的“数据同步状态”为“已同步”或者“同步中”。",
                            "如果“数据同步状态”显示为“延迟”，表示主用站点和备用站点有较多的数据正在同步，请等待数据同步完成后再检查状态。",
                            "主用站点运维面能正常登录，具体操作请参见15.2 登录运维面。",
                            "在运维面主菜单中选择“业务监控 > 告警监控 > 当前告警”。",
                            "检查告警界面显示正常。",
                            "如果操作结果与预期不符，请联系华为技术支持工程师。",
                            "----结束"
                        ]
                    },
                    {
                        "title": "### 高可靠消息数据复制异常",
                        "org_context": [
                            "<notice>故障处理中的高可靠消息数据复制异常</notice>",
                            "现象描述",
                            "主用站点和备用站点之间的高可靠消息数据复制状态显示异常。",
                            "可能原因",
                            "MqDRService微服务或MessagingBrokeService微服务出现异常。",
                            "处理步骤",
                            "查看任务列表详情信息，根据详情信息，重启对应站点的高可靠消息服务。",
                            "",
                            "",
                            "登录管理面，具体操作请参见15.1 登录管理面。",
                            "在管理面主菜单中选择“系统 > 任务列表”，查看异地容灾系统的任务列表的详细信息。",
                            "在管理面主菜单中选择“维护 > 运维管理 > 全景监控”。",
                            "在左侧导航树中选择“服务监控”。",
                            "",
                            "",
                            "在“服务监控”页面左上方选择对应的产品。",
                            "单击“服务”页签，在“服务”页签左上角的搜索框中输入“MQS”，并单击。",
                            "选择所有“服务名称”为“MQS”的实例，单击“停止”。",
                            "在“确认”对话框中，单击“确定”。",
                            "待“MQS”服务相关的实例停止完成后，再单击“启动”。",
                            "",
                            "",
                            "在“确认”对话框中，单击“确定”。",
                            "如果“MQS”服务相关的实例状态显示为“正在运行”，则表示MQS服务已正常，否则请联系华为技术支持工程师。",
                            "",
                            "",
                            "如果部署了其他产品，请重复执行步骤1.5～步骤1.10。",
                            "在另一站点上重复执行～。",
                            "强制同步主用站点和备用站点间数据。",
                            "在主用站点管理面主菜单中选择“高可用 > 异地高可用系统 > 管理异地容灾系统”。",
                            "在待同步数据的产品所在行“操作”列中，单击，选择产品的数据同步方向。",
                            "若主站点和备站点的状态非主用和备用，则需要选择产品的数据同步方向，异地容灾系统会根据用户选择方向进行全量数据同步，例如选择从A站点产品向B站点产品同步数据，则B站点的产品数据会被覆盖，并且B站点管理面的用户管理数据将在第二天的00:00:00被A站点管理面的用户管理数据覆盖。",
                            "建议以含有最新数据的产品为主用站点产品，向对端站点产品同步。",
                            "若主站点和备站点的状态为主用和备用，无需选择产品的数据同步方向，系统会自动从主用站点向备用站点同步数据。",
                            "备用站点管理面的用户管理数据，将在第二天的00:00:00被主用站点管理面的用户管理数据覆盖。",
                            "按照界面上的指引完成相关操作。",
                            "检查操作结果。",
                            "在管理面主菜单中选择“高可用 > 异地高可用系统 > 管理异地容灾系统”。",
                            "在页面中查看主用站点和备用站点间的心跳状态为。",
                            "在页面中查看所有产品的“数据同步状态”为“已同步”或者“同步中”。",
                            "如果“数据同步状态”显示为“延迟”，表示主用站点和备用站点有较多的数据正在同步，请等待数据同步完成后再检查状态。",
                            "主用站点运维面能正常登录，具体操作请参见15.2 登录运维面。",
                            "在运维面主菜单中选择“业务监控 > 告警监控 > 当前告警”。",
                            "检查告警界面显示正常。",
                            "如果操作结果与预期不符，请联系华为技术支持工程师。",
                            "----结束",
                            "",
                            ""
                        ],
                        "subsections": [],
                        "embed_context": [
                            "故障处理中的高可靠消息数据复制异常",
                            "高可靠消息数据复制异常",
                            "主用站点和备用站点之间的高可靠消息数据复制状态显示异常。",
                            "MqDRService微服务或MessagingBrokeService微服务出现异常。",
                            "查看任务列表详情信息，根据详情信息，重启对应站点的高可靠消息服务。",
                            "登录管理面，具体操作请参见15.1 登录管理面。",
                            "在管理面主菜单中选择“系统 > 任务列表”，查看异地容灾系统的任务列表的详细信息。",
                            "在管理面主菜单中选择“维护 > 运维管理 > 全景监控”。",
                            "在左侧导航树中选择“服务监控”。",
                            "在“服务监控”页面左上方选择对应的产品。",
                            "单击“服务”页签，在“服务”页签左上角的搜索框中输入“MQS”，并单击。",
                            "选择所有“服务名称”为“MQS”的实例，单击“停止”。",
                            "在“确认”对话框中，单击“确定”。",
                            "待“MQS”服务相关的实例停止完成后，再单击“启动”。",
                            "在“确认”对话框中，单击“确定”。",
                            "如果“MQS”服务相关的实例状态显示为“正在运行”，则表示MQS服务已正常，否则请联系华为技术支持工程师。",
                            "如果部署了其他产品，请重复执行步骤1.5～步骤1.10。",
                            "在另一站点上重复执行～。",
                            "强制同步主用站点和备用站点间数据。",
                            "在主用站点管理面主菜单中选择“高可用 > 异地高可用系统 > 管理异地容灾系统”。",
                            "在待同步数据的产品所在行“操作”列中，单击，选择产品的数据同步方向。",
                            "若主站点和备站点的状态非主用和备用，则需要选择产品的数据同步方向，异地容灾系统会根据用户选择方向进行全量数据同步，例如选择从A站点产品向B站点产品同步数据，则B站点的产品数据会被覆盖，并且B站点管理面的用户管理数据将在第二天的00:00:00被A站点管理面的用户管理数据覆盖。",
                            "建议以含有最新数据的产品为主用站点产品，向对端站点产品同步。",
                            "若主站点和备站点的状态为主用和备用，无需选择产品的数据同步方向，系统会自动从主用站点向备用站点同步数据。",
                            "备用站点管理面的用户管理数据，将在第二天的00:00:00被主用站点管理面的用户管理数据覆盖。",
                            "按照界面上的指引完成相关操作。",
                            "检查操作结果。",
                            "在管理面主菜单中选择“高可用 > 异地高可用系统 > 管理异地容灾系统”。",
                            "在页面中查看主用站点和备用站点间的心跳状态为。",
                            "在页面中查看所有产品的“数据同步状态”为“已同步”或者“同步中”。",
                            "如果“数据同步状态”显示为“延迟”，表示主用站点和备用站点有较多的数据正在同步，请等待数据同步完成后再检查状态。",
                            "主用站点运维面能正常登录，具体操作请参见15.2 登录运维面。",
                            "在运维面主菜单中选择“业务监控 > 告警监控 > 当前告警”。",
                            "检查告警界面显示正常。",
                            "如果操作结果与预期不符，请联系华为技术支持工程师。",
                            "----结束"
                        ]
                    }
                ],
                "embed_context": [
                    "故障处理中的异地容灾复制异常",
                    "异地容灾复制异常"
                ]
            },
            {
                "title": "## 异地容灾系统界面加载异常或者操作时发生异常",
                "org_context": [
                    "<notice>故障处理中的异地容灾系统界面加载异常或者操作时发生异常</notice>",
                    "现象描述",
                    "管理面中的“管理异地容灾系统”页面加载时发生异常，但其他功能页面都能正常显示；",
                    "或者执行异地容灾操作时发生异常，例如提示查询异地容灾系统信息失败，但其他功能页面都能正常操作。",
                    "可能原因",
                    "异地容灾相关服务DRMgrService异常。",
                    "处理步骤",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录异常的异地容灾系统界面对应站点的管理节点。",
                    "如果管理面的部署模式是集群模式，即存在多个管理节点，请先登录Management0节点执行以下操作，然后登录Management1节点执行以下操作。",
                    "获取节点IP地址的方法请参见。",
                    "执行以下命令，切换至ossadm用户。",
                    "> su - ossadm",
                    "Password:ossadm用户的密码",
                    "执行以下命令，查询异地容灾服务状态。",
                    "> source <安装目录>/manager/bin/engr_profile.sh",
                    "> ipmc_adm -cmd statusapp -tenant manager",
                    "系统回显如下类似信息，查看DRMgrService服务的“Status”。",
                    "Display Name         Process Type    App Name          Tenant Name   Process Mode     IP            PID      Status",
                    "...",
                    "drmgrservice-0-0     drmgrservice    DRMgrService     manager      cluster       10.10.67.76      53986    RUNNING",
                    "...",
                    "根据查询结果，选择对应操作。",
                    "|异地容灾服务状态|操作|\n|----|----|\n|“Status”显示为“STOPPED”|执行以下命令，启动异地容灾服务。<br>> ipmc_adm -cmd startapp -app DRMgrService -tenant manager<br>当系统回显如下信息时，说明服务启动成功，否则请联系华为技术支持工程师。<br>Starting process drmgrservice-0-0 ... success|\n|“Status”显示为“RUNNING”|执行以下命令，重启异地容灾服务。<br>> ipmc_adm -cmd restartapp -app DRMgrService -tenant manager<br>当系统回显如下信息时，说明服务重启成功，否则请联系华为技术支持工程师。<br>Stopping process drmgrservice-0-0 ... success <br>Starting process drmgrservice-0-0 ... success|\n|“Status”显示为“ABNORMAL”|执行以下命令，重启异地容灾服务。<br>> ipmc_adm -cmd restartapp -app DRMgrService -tenant manager<br>当系统回显如下信息时，说明服务重启成功，否则请联系华为技术支持工程师。<br>Stopping process drmgrservice-0-0 ... success <br>Starting process drmgrservice-0-0 ... success|",
                    "异地容灾服务启动后等待5分钟，检查异地容灾状态。",
                    "如果各状态与预期不符，请联系华为技术支持工程师。",
                    "在管理面主菜单中选择“高可用 > 异地高可用系统 > 管理异地容灾系统”。",
                    "查看主用站点和备用站点间的心跳状态为。",
                    "查看主用站点和备用站点所有产品的异地容灾状态为“主用”或者“备用”。",
                    "如果产品状态显示为“初始化中”，强制同步主用站点和备用站点上该产品的数据，具体操作请参见《管理员指南》中的“同步主用站点和备用站点产品数据”章节。",
                    "查看所有产品的“数据同步状态”为“已同步”或者“同步中”。",
                    "如果“数据同步状态”显示为“延迟”，表示主用站点和备用站点有较多的数据正在同步，请等待数据同步完成后再检查状态。",
                    "如果等待10分钟后，仍存在“数据同步状态”为“已同步”或者“同步中”之外状态的产品，强制同步主用站点和备用站点上该产品的数据，具体操作请参见《管理员指南》中的“同步主用站点和备用站点产品数据”章节。",
                    "主用站点的运维面能正常登录。",
                    "在运维面主菜单中选择“业务监控 > 告警监控 > 当前告警”。",
                    "检查告警界面显示正常。",
                    "----结束",
                    "",
                    ""
                ],
                "subsections": [],
                "embed_context": [
                    "故障处理中的异地容灾系统界面加载异常或者操作时发生异常",
                    "异地容灾系统界面加载异常或者操作时发生异常",
                    "管理面中的“管理异地容灾系统”页面加载时发生异常，但其他功能页面都能正常显示；",
                    "或者执行异地容灾操作时发生异常，例如提示查询异地容灾系统信息失败，但其他功能页面都能正常操作。",
                    "异地容灾相关服务DRMgrService异常。",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录异常的异地容灾系统界面对应站点的管理节点。",
                    "如果管理面的部署模式是集群模式，即存在多个管理节点，请先登录Management0节点执行以下操作，然后登录Management1节点执行以下操作。",
                    "获取节点IP地址的方法请参见。",
                    "执行以下命令，切换至ossadm用户。",
                    "> su - ossadm",
                    "Password:ossadm用户的密码",
                    "执行以下命令，查询异地容灾服务状态。",
                    "> source <安装目录>/manager/bin/engr_profile.sh",
                    "> ipmc_adm -cmd statusapp -tenant manager",
                    "系统回显如下类似信息，查看DRMgrService服务的“Status”。",
                    "Display Name         Process Type    App Name          Tenant Name   Process Mode     IP            PID      Status",
                    "drmgrservice-0-0     drmgrservice    DRMgrService     manager      cluster       10.10.67.76      53986    RUNNING",
                    "根据查询结果，选择对应操作。",
                    "异地容灾服务启动后等待5分钟，检查异地容灾状态。",
                    "如果各状态与预期不符，请联系华为技术支持工程师。",
                    "在管理面主菜单中选择“高可用 > 异地高可用系统 > 管理异地容灾系统”。",
                    "查看主用站点和备用站点间的心跳状态为。",
                    "查看主用站点和备用站点所有产品的异地容灾状态为“主用”或者“备用”。",
                    "如果产品状态显示为“初始化中”，强制同步主用站点和备用站点上该产品的数据，具体操作请参见《管理员指南》中的“同步主用站点和备用站点产品数据”章节。",
                    "查看所有产品的“数据同步状态”为“已同步”或者“同步中”。",
                    "如果“数据同步状态”显示为“延迟”，表示主用站点和备用站点有较多的数据正在同步，请等待数据同步完成后再检查状态。",
                    "如果等待10分钟后，仍存在“数据同步状态”为“已同步”或者“同步中”之外状态的产品，强制同步主用站点和备用站点上该产品的数据，具体操作请参见《管理员指南》中的“同步主用站点和备用站点产品数据”章节。",
                    "主用站点的运维面能正常登录。",
                    "在运维面主菜单中选择“业务监控 > 告警监控 > 当前告警”。",
                    "检查告警界面显示正常。",
                    "----结束"
                ]
            },
            {
                "title": "## 重启主用站点和备用站点异地容灾服务后产品状态异常",
                "org_context": [
                    "<notice>故障处理中的重启主用站点和备用站点异地容灾服务后产品状态异常</notice>",
                    "现象描述",
                    "主用站点和备用站点重启异地容灾服务后，主用站点和备用站点产品在“管理异地容灾系统”界面的状态显示为“初始化中”。",
                    "处理步骤",
                    "登录主用站点或者备用站点的管理面，具体操作请参见。",
                    "在管理面主菜单中选择“高可用 > 异地高可用系统 > 管理异地容灾系统”。",
                    "查看主用站点和备用站点之间的心跳状态。",
                    "如果心跳状态为（正常）或者（部分异常），执行。",
                    "如果心跳状态为（异常），参见进行修复，再执行。",
                    "在待同步数据的产品所在行“操作”列中，单击，选择产品的数据同步方向。",
                    "若主站点和备站点的状态非主用和备用，则需要选择产品的数据同步方向，异地容灾系统会根据用户选择方向进行全量数据同步，例如选择从A站点产品向B站点产品同步数据，则B站点的产品数据会被覆盖，并且B站点管理面的用户管理数据将在第二天的00:00:00被A站点管理面的用户管理数据覆盖。",
                    "建议以含有最新数据的产品为主用站点产品，向对端站点产品同步。",
                    "若主站点和备站点的状态为主用和备用，无需选择产品的数据同步方向，系统会自动从主用站点向备用站点同步数据。",
                    "备用站点管理面的用户管理数据，将在第二天的00:00:00被主用站点管理面的用户管理数据覆盖。",
                    "按照界面上的指引完成相关操作。",
                    "检查操作结果。",
                    "如果操作结果与预期不符，请联系华为技术支持工程师。",
                    "在管理面主菜单中选择“高可用 > 异地高可用系统 > 管理异地容灾系统”。",
                    "查看主用站点和备用站点间的心跳状态为。",
                    "查看所有产品的“数据同步状态”为“已同步”或者“同步中”。",
                    "如果“数据同步状态”显示为“延迟”，表示主用站点和备用站点有较多的数据正在同步，请等待数据同步完成后再检查状态。",
                    "主用站点运维面能正常登录，具体操作请参见15.2 登录运维面。",
                    "在运维面主菜单中选择“业务监控 > 告警监控 > 当前告警”。",
                    "检查告警界面显示正常。",
                    "----结束",
                    "",
                    ""
                ],
                "subsections": [],
                "embed_context": [
                    "故障处理中的重启主用站点和备用站点异地容灾服务后产品状态异常",
                    "重启主用站点和备用站点异地容灾服务后产品状态异常",
                    "主用站点和备用站点重启异地容灾服务后，主用站点和备用站点产品在“管理异地容灾系统”界面的状态显示为“初始化中”。",
                    "登录主用站点或者备用站点的管理面，具体操作请参见。",
                    "在管理面主菜单中选择“高可用 > 异地高可用系统 > 管理异地容灾系统”。",
                    "查看主用站点和备用站点之间的心跳状态。",
                    "如果心跳状态为（正常）或者（部分异常），执行。",
                    "如果心跳状态为（异常），参见进行修复，再执行。",
                    "在待同步数据的产品所在行“操作”列中，单击，选择产品的数据同步方向。",
                    "若主站点和备站点的状态非主用和备用，则需要选择产品的数据同步方向，异地容灾系统会根据用户选择方向进行全量数据同步，例如选择从A站点产品向B站点产品同步数据，则B站点的产品数据会被覆盖，并且B站点管理面的用户管理数据将在第二天的00:00:00被A站点管理面的用户管理数据覆盖。",
                    "建议以含有最新数据的产品为主用站点产品，向对端站点产品同步。",
                    "若主站点和备站点的状态为主用和备用，无需选择产品的数据同步方向，系统会自动从主用站点向备用站点同步数据。",
                    "备用站点管理面的用户管理数据，将在第二天的00:00:00被主用站点管理面的用户管理数据覆盖。",
                    "按照界面上的指引完成相关操作。",
                    "检查操作结果。",
                    "如果操作结果与预期不符，请联系华为技术支持工程师。",
                    "在管理面主菜单中选择“高可用 > 异地高可用系统 > 管理异地容灾系统”。",
                    "查看主用站点和备用站点间的心跳状态为。",
                    "查看所有产品的“数据同步状态”为“已同步”或者“同步中”。",
                    "如果“数据同步状态”显示为“延迟”，表示主用站点和备用站点有较多的数据正在同步，请等待数据同步完成后再检查状态。",
                    "主用站点运维面能正常登录，具体操作请参见15.2 登录运维面。",
                    "在运维面主菜单中选择“业务监控 > 告警监控 > 当前告警”。",
                    "检查告警界面显示正常。",
                    "----结束"
                ]
            },
            {
                "title": "## 重启主用站点异地容灾服务后异地容灾系统异常",
                "org_context": [
                    "<notice>故障处理中的重启主用站点异地容灾服务后异地容灾系统异常</notice>",
                    "现象描述",
                    "主用站点和备用站点之间的心跳状态异常（心跳状态为），重启主用站点的异地容灾服务后异地容灾系统异常。",
                    "可能原因",
                    "主用站点和备用站点的心跳状态异常。",
                    "处理步骤",
                    "具体处理方法请参见。",
                    "",
                    ""
                ],
                "subsections": [],
                "embed_context": [
                    "故障处理中的重启主用站点异地容灾服务后异地容灾系统异常",
                    "重启主用站点异地容灾服务后异地容灾系统异常",
                    "主用站点和备用站点之间的心跳状态异常（心跳状态为），重启主用站点的异地容灾服务后异地容灾系统异常。",
                    "主用站点和备用站点的心跳状态异常。",
                    "具体处理方法请参见。"
                ]
            },
            {
                "title": "## 异地容灾接管后主用站点的主备数据库实例异常",
                "org_context": [
                    "<notice>故障处理中的异地容灾接管后主用站点的主备数据库实例异常</notice>",
                    "现象描述",
                    "如果管理面的部署模式是集群模式，异地容灾接管后，在主用站点的 “全景监控”页面，“关系数据库”中被接管产品的数据库实例 “复制状态”为“异常”。",
                    "可能原因",
                    "接管前主用站点产品的主数据库实例异常。",
                    "处理步骤",
                    "尝试强制同步主用站点和备用站点间的数据。",
                    "登录主用站点的管理面，具体操作请参见。",
                    "在管理面主菜单中选择“高可用 > 异地高可用系统 > 管理异地容灾系统”。",
                    "在“管理异地容灾系统”页面待同步数据的产品所在行“操作”列中，单击，选择产品的数据同步方向，按照界面上的指引完成相关操作。",
                    "若主站点和备站点的状态非主用和备用，则需要选择产品的数据同步方向，异地容灾系统会根据用户选择方向进行全量数据同步，例如选择从A站点产品向B站点产品同步数据，则B站点的产品数据会被覆盖，并且B站点管理面的用户管理数据将在第二天的00:00:00被A站点管理面的用户管理数据覆盖。",
                    "建议以含有最新数据的产品为主用站点产品，向对端站点产品同步。",
                    "若主站点和备站点的状态为主用和备用，无需选择产品的数据同步方向，系统会自动从主用站点向备用站点同步数据。",
                    "备用站点管理面的用户管理数据，将在第二天的00:00:00被主用站点管理面的用户管理数据覆盖。",
                    "查看主备数据库实例的状态。",
                    "",
                    "",
                    "在管理面主菜单中选择“维护 > 运维管理 > 全景监控”。",
                    "在左侧导航树中选择“中间件监控”。",
                    "在“中间件监控”页面左上方选择对应的产品。",
                    "",
                    "",
                    "选择“关系数据库”页签，查看主备数据库实例的状态是否恢复正常。",
                    "如果主备数据库实例的“状态”均为“正在运行”，“复制状态”均为“正常”，则故障已恢复。",
                    "如果主备数据库实例的“状态”均为“正在运行”，“复制状态”均为“异常”，请联系华为技术支持工程师。",
                    "重复执行 ~ ，在备用站点查看主备数据库实例的状态。",
                    "----结束",
                    "",
                    ""
                ],
                "subsections": [],
                "embed_context": [
                    "故障处理中的异地容灾接管后主用站点的主备数据库实例异常",
                    "异地容灾接管后主用站点的主备数据库实例异常",
                    "如果管理面的部署模式是集群模式，异地容灾接管后，在主用站点的 “全景监控”页面，“关系数据库”中被接管产品的数据库实例 “复制状态”为“异常”。",
                    "接管前主用站点产品的主数据库实例异常。",
                    "尝试强制同步主用站点和备用站点间的数据。",
                    "登录主用站点的管理面，具体操作请参见。",
                    "在管理面主菜单中选择“高可用 > 异地高可用系统 > 管理异地容灾系统”。",
                    "在“管理异地容灾系统”页面待同步数据的产品所在行“操作”列中，单击，选择产品的数据同步方向，按照界面上的指引完成相关操作。",
                    "若主站点和备站点的状态非主用和备用，则需要选择产品的数据同步方向，异地容灾系统会根据用户选择方向进行全量数据同步，例如选择从A站点产品向B站点产品同步数据，则B站点的产品数据会被覆盖，并且B站点管理面的用户管理数据将在第二天的00:00:00被A站点管理面的用户管理数据覆盖。",
                    "建议以含有最新数据的产品为主用站点产品，向对端站点产品同步。",
                    "若主站点和备站点的状态为主用和备用，无需选择产品的数据同步方向，系统会自动从主用站点向备用站点同步数据。",
                    "备用站点管理面的用户管理数据，将在第二天的00:00:00被主用站点管理面的用户管理数据覆盖。",
                    "查看主备数据库实例的状态。",
                    "在管理面主菜单中选择“维护 > 运维管理 > 全景监控”。",
                    "在左侧导航树中选择“中间件监控”。",
                    "在“中间件监控”页面左上方选择对应的产品。",
                    "选择“关系数据库”页签，查看主备数据库实例的状态是否恢复正常。",
                    "如果主备数据库实例的“状态”均为“正在运行”，“复制状态”均为“正常”，则故障已恢复。",
                    "如果主备数据库实例的“状态”均为“正在运行”，“复制状态”均为“异常”，请联系华为技术支持工程师。",
                    "重复执行 ~ ，在备用站点查看主备数据库实例的状态。",
                    "----结束"
                ]
            },
            {
                "title": "## 站点故障导致降备失败",
                "org_context": [
                    "<notice>故障处理中的站点故障导致降备失败</notice>",
                    "现象描述",
                    "可能出现以下现象之一：",
                    "心跳正常，在进行降备操作时，降备任务执行失败，本端站点产品的异地容灾状态为“降备中”，对端站点产品的异地容灾状态为“升主中”、“初始化中”或者“接管后主用”。",
                    "心跳异常，在进行降备操作时，降备任务执行失败，本端站点产品的异地容灾状态为“降备中”。",
                    "可能原因",
                    "当前站点故障，导致降备在停止当前站点服务时失败。",
                    "处理步骤",
                    "根据任务信息提示，修复当前站点故障。",
                    "如果主用站点和备用站点心跳状态为，则执行。",
                    "如果主用站点和备用站点心跳状态为，则执行。",
                    "继续降备当前站点。",
                    "在管理面主菜单中选择“高可用 > 异地高可用系统 > 管理异地容灾系统”。",
                    "在产品所在行“操作”列，单击，按照界面指引完成相关操作。",
                    "若管理面部署了多个产品并需对这些产品执行降备操作，请选择待降备产品，单击产品列表上方的“降备”，按照界面指引完成相关操作。",
                    "检查操作结果。",
                    "如果操作结果与预期不符，请联系华为技术支持工程师。",
                    "在管理面主菜单中选择“高可用 > 异地高可用系统 > 管理异地容灾系统”。",
                    "查看被降备的产品为“备用”状态。",
                    "降备产品所在站点的运维面无法登录。",
                    "修复心跳状态，具体操作请参见。",
                    "以对端站点为主进行同步。",
                    "在管理面主菜单中选择“高可用 > 异地高可用系统 > 管理异地容灾系统”。",
                    "在待同步数据的产品所在行“操作”列中，单击，选择对端站点产品的数据向本端站点产品进行同步。",
                    "按照界面上的指引完成相关操作。",
                    "在主菜单中选择“系统 > 任务列表”，在“任务列表”界面中查看数据同步任务的执行结果。",
                    "如果任务执行成功，执行。",
                    "如果任务执行失败，并且任务详细信息中显示停止服务失败时，在对端站点的“管理异地容灾系统”页面，在产品所在行的“操作”列单击，按照界面指引完成接管操作，从而使对端站点产品接管本端站点产品的业务。",
                    "然后联系华为技术支持工程师定位并处理问题。",
                    "如果为其他原因导致的数据同步失败，请联系华为技术支持工程师。",
                    "",
                    "",
                    "检查心跳状态和数据同步状态。",
                    "如果状态与预期不符，请联系华为技术支持工程师。",
                    "在管理面主菜单中选择“高可用 > 异地高可用系统 > 管理异地容灾系统”。",
                    "查看主用站点和备用站点间的心跳状态为。",
                    "查看所有产品的“数据同步状态”为“已同步”或者“同步中”。",
                    "如果“数据同步状态”显示为“延迟”，表示主用站点和备用站点有较多的数据正在同步，请等待数据同步完成后再检查状态。",
                    "主用站点运维面能正常登录，具体操作请参见15.2 登录运维面。",
                    "在运维面主菜单中选择“业务监控 > 告警监控 > 当前告警”。",
                    "检查告警界面显示正常。",
                    "----结束",
                    "",
                    ""
                ],
                "subsections": [],
                "embed_context": [
                    "故障处理中的站点故障导致降备失败",
                    "站点故障导致降备失败",
                    "可能出现以下现象之一：",
                    "心跳正常，在进行降备操作时，降备任务执行失败，本端站点产品的异地容灾状态为“降备中”，对端站点产品的异地容灾状态为“升主中”、“初始化中”或者“接管后主用”。",
                    "心跳异常，在进行降备操作时，降备任务执行失败，本端站点产品的异地容灾状态为“降备中”。",
                    "当前站点故障，导致降备在停止当前站点服务时失败。",
                    "根据任务信息提示，修复当前站点故障。",
                    "如果主用站点和备用站点心跳状态为，则执行。",
                    "如果主用站点和备用站点心跳状态为，则执行。",
                    "继续降备当前站点。",
                    "在管理面主菜单中选择“高可用 > 异地高可用系统 > 管理异地容灾系统”。",
                    "在产品所在行“操作”列，单击，按照界面指引完成相关操作。",
                    "若管理面部署了多个产品并需对这些产品执行降备操作，请选择待降备产品，单击产品列表上方的“降备”，按照界面指引完成相关操作。",
                    "检查操作结果。",
                    "如果操作结果与预期不符，请联系华为技术支持工程师。",
                    "在管理面主菜单中选择“高可用 > 异地高可用系统 > 管理异地容灾系统”。",
                    "查看被降备的产品为“备用”状态。",
                    "降备产品所在站点的运维面无法登录。",
                    "修复心跳状态，具体操作请参见。",
                    "以对端站点为主进行同步。",
                    "在管理面主菜单中选择“高可用 > 异地高可用系统 > 管理异地容灾系统”。",
                    "在待同步数据的产品所在行“操作”列中，单击，选择对端站点产品的数据向本端站点产品进行同步。",
                    "按照界面上的指引完成相关操作。",
                    "在主菜单中选择“系统 > 任务列表”，在“任务列表”界面中查看数据同步任务的执行结果。",
                    "如果任务执行成功，执行。",
                    "如果任务执行失败，并且任务详细信息中显示停止服务失败时，在对端站点的“管理异地容灾系统”页面，在产品所在行的“操作”列单击，按照界面指引完成接管操作，从而使对端站点产品接管本端站点产品的业务。",
                    "然后联系华为技术支持工程师定位并处理问题。",
                    "如果为其他原因导致的数据同步失败，请联系华为技术支持工程师。",
                    "检查心跳状态和数据同步状态。",
                    "如果状态与预期不符，请联系华为技术支持工程师。",
                    "在管理面主菜单中选择“高可用 > 异地高可用系统 > 管理异地容灾系统”。",
                    "查看主用站点和备用站点间的心跳状态为。",
                    "查看所有产品的“数据同步状态”为“已同步”或者“同步中”。",
                    "如果“数据同步状态”显示为“延迟”，表示主用站点和备用站点有较多的数据正在同步，请等待数据同步完成后再检查状态。",
                    "主用站点运维面能正常登录，具体操作请参见15.2 登录运维面。",
                    "在运维面主菜单中选择“业务监控 > 告警监控 > 当前告警”。",
                    "检查告警界面显示正常。",
                    "----结束"
                ]
            },
            {
                "title": "## 站点故障导致删除异地容灾系统失败",
                "org_context": [
                    "<notice>故障处理中的站点故障导致删除异地容灾系统失败</notice>",
                    "现象描述",
                    "异地容灾系统删除失败。",
                    "可能原因",
                    "站点发生故障，例如节点被下电。",
                    "处理步骤",
                    "使用PuTTY工具以sopuser用户通过SSH方式尝试登录故障站点的管理节点，获取节点IP地址的方法请参见。",
                    "如果管理面的部署模式是集群模式，即存在多个管理节点，请先登录Management0节点执行以下操作，然后登录Management1节点执行以下操作。",
                    "获取节点IP地址的方法请参见。",
                    "若管理节点正常登录，则执行。",
                    "若管理节点无法登录，则执行。",
                    "在故障站点上停止异地容灾服务。",
                    "执行以下命令，切换到ossadm用户。",
                    "> su - ossadm",
                    "Password:ossadm用户的密码",
                    "执行以下命令，停止异地容灾服务。",
                    "> source <安装目录>/manager/bin/engr_profile.sh",
                    "> ipmc_adm -cmd stopapp -tenant manager -app DRMgrService",
                    "当系统提示如下类似回显信息时，表示停止成功，否则请联系华为技术支持工程师。",
                    "Stopping process drmgrservice-x-x ... success",
                    "在故障站点的对端站点上删除异地容灾关系",
                    "登录故障站点的对端站点的管理面。",
                    "在管理面主菜单中选择“高可用 > 异地高可用系统 > 管理异地容灾系统”。",
                    "在界面右上角单击“删除”。",
                    "按照界面上的指引完成相关操作。",
                    "检查操作结果。",
                    "如果操作结果与预期不符，请联系华为技术支持工程师。",
                    "在管理面主菜单中选择“高可用 > 异地高可用系统 > 管理异地容灾系统”。",
                    "被删除的异地容灾系统已不存在。",
                    "主用站点运维面能正常登录，具体操作请参见15.2 登录运维面。",
                    "在“系统 > 任务列表”页面中显示删除异地容灾系统部分成功和删除产品部分成功，可能是产品节点下电或者异常时删除异地容灾系统导致，节点恢复正常后需清除产品节点上的异地容灾信息，否则在非异地容灾场景时会导致该节点上的业务异常，具体操作请参见。",
                    "参见将故障站点修复后，启动异地容灾服务。",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录修复后的管理节点。",
                    "如果管理面的部署模式是集群模式，即存在多个管理节点，请先登录Management0节点执行以下操作，然后登录Management1节点执行以下操作。",
                    "执行以下命令，切换到ossadm用户。",
                    "> su - ossadm",
                    "Password:ossadm用户的密码",
                    "执行以下命令，启动异地容灾服务。",
                    "> source <安装目录>/manager/bin/engr_profile.sh",
                    "> ipmc_adm -cmd startapp -tenant manager -app DRMgrService",
                    "当系统提示如下类似回显信息时，表示启动成功，否则请联系华为技术支持工程师。",
                    "Starting process drmgrservice-x-x ... success",
                    "在已修复的站点上删除异地容灾关系。",
                    "----结束",
                    "",
                    ""
                ],
                "subsections": [],
                "embed_context": [
                    "故障处理中的站点故障导致删除异地容灾系统失败",
                    "站点故障导致删除异地容灾系统失败",
                    "异地容灾系统删除失败。",
                    "站点发生故障，例如节点被下电。",
                    "使用PuTTY工具以sopuser用户通过SSH方式尝试登录故障站点的管理节点，获取节点IP地址的方法请参见。",
                    "如果管理面的部署模式是集群模式，即存在多个管理节点，请先登录Management0节点执行以下操作，然后登录Management1节点执行以下操作。",
                    "获取节点IP地址的方法请参见。",
                    "若管理节点正常登录，则执行。",
                    "若管理节点无法登录，则执行。",
                    "在故障站点上停止异地容灾服务。",
                    "执行以下命令，切换到ossadm用户。",
                    "> su - ossadm",
                    "Password:ossadm用户的密码",
                    "执行以下命令，停止异地容灾服务。",
                    "> source <安装目录>/manager/bin/engr_profile.sh",
                    "> ipmc_adm -cmd stopapp -tenant manager -app DRMgrService",
                    "当系统提示如下类似回显信息时，表示停止成功，否则请联系华为技术支持工程师。",
                    "Stopping process drmgrservice-x-x ... success",
                    "在故障站点的对端站点上删除异地容灾关系",
                    "登录故障站点的对端站点的管理面。",
                    "在管理面主菜单中选择“高可用 > 异地高可用系统 > 管理异地容灾系统”。",
                    "在界面右上角单击“删除”。",
                    "按照界面上的指引完成相关操作。",
                    "检查操作结果。",
                    "如果操作结果与预期不符，请联系华为技术支持工程师。",
                    "在管理面主菜单中选择“高可用 > 异地高可用系统 > 管理异地容灾系统”。",
                    "被删除的异地容灾系统已不存在。",
                    "主用站点运维面能正常登录，具体操作请参见15.2 登录运维面。",
                    "在“系统 > 任务列表”页面中显示删除异地容灾系统部分成功和删除产品部分成功，可能是产品节点下电或者异常时删除异地容灾系统导致，节点恢复正常后需清除产品节点上的异地容灾信息，否则在非异地容灾场景时会导致该节点上的业务异常，具体操作请参见。",
                    "参见将故障站点修复后，启动异地容灾服务。",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录修复后的管理节点。",
                    "如果管理面的部署模式是集群模式，即存在多个管理节点，请先登录Management0节点执行以下操作，然后登录Management1节点执行以下操作。",
                    "执行以下命令，切换到ossadm用户。",
                    "> su - ossadm",
                    "Password:ossadm用户的密码",
                    "执行以下命令，启动异地容灾服务。",
                    "> source <安装目录>/manager/bin/engr_profile.sh",
                    "> ipmc_adm -cmd startapp -tenant manager -app DRMgrService",
                    "当系统提示如下类似回显信息时，表示启动成功，否则请联系华为技术支持工程师。",
                    "Starting process drmgrservice-x-x ... success",
                    "在已修复的站点上删除异地容灾关系。",
                    "----结束"
                ]
            },
            {
                "title": "## 删除异地容灾系统后清除产品节点的异地容灾信息",
                "org_context": [
                    "<notice>故障处理中的删除异地容灾系统后清除产品节点的异地容灾信息</notice>",
                    "现象描述",
                    "产品节点下电或者异常时删除异地容灾系统，在“任务列表”页面中显示删除异地容灾系统部分成功和删除产品部分成功，在删除产品部分成功的任务详细信息中显示删除失败的节点IP地址。",
                    "节点恢复正常后需清除产品节点上的异地容灾信息，否则在非异地容灾场景时该节点上的业务异常。",
                    "可能原因",
                    "产品节点下电或者异常。",
                    "处理步骤",
                    "若删除异地容灾系统后还需重新创建，则无需执行本节操作，可直接创建。",
                    "若删除异地容灾系统后无需再重建，请根据删除产品的任务详细信息中删除失败的节点的IP地址，在对应的站点上执行本节操作。",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录待执行操作站点的管理节点。",
                    "如果管理面的部署模式是集群模式，即存在多个管理节点，需在Management0或Management1的其中任一节点执行以下操作。",
                    "获取节点IP地址的方法请参见。",
                    "执行以下命令，切换至ossadm用户。",
                    "> su - ossadm",
                    "Password:ossadm用户的密码",
                    "执行以下命令，清除产品节点上的异地容灾信息。",
                    "> cd <安装目录>/manager/apps/DRMgrService/bin",
                    "> bash dr_repair.sh",
                    "系统回显如下信息时，请根据站点实际情况输入“y”或“n”并按“Enter”。",
                    "输入“y”启动产品所有服务。",
                    "若待清除异地容灾信息的站点是为删除异地容灾系统前的主用站点，则输入“y”。",
                    "输入“n”不会启动产品所有服务。",
                    "若待清除异地容灾信息的站点是为删除异地容灾系统前的备用站点，则输入“n”。",
                    "Automatically start the product services of <产品名称> after the repair? (y/n):",
                    "以清除产品节点信息后需启动产品所有服务为例，系统回显如下类似信息时，说明操作执行成功，否则请联系华为技术支持工程师。",
                    "...",
                    "Starting the product services of <产品名称>...",
                    "Product services of <产品名称> started successfully.",
                    "Product <产品名称> repaired successfully.",
                    "Complete.",
                    "登录执行操作站点的管理面，具体操作请参见。",
                    "在管理面主菜单中选择“维护 > 运维管理 > 全景监控”。",
                    "在左侧导航树中选择“节点监控”。",
                    "在“节点监控”页面左上方选择对应的产品查看恢复正常的产品节点的状态。",
                    "若产品节点的“服务状态”为“运行正常”，则产品节点状态修复成功。",
                    "若产品节点的“服务状态”为“部分运行”、“未知”或“故障”，请联系华为技术支持工程师。",
                    "若产品节点的“服务状态”为“未运行”，在“节点监控”页面左上方单击“启动”，在下拉框中选择“启动服务”，按照界面指引完成相关操作。",
                    "----结束",
                    "",
                    ""
                ],
                "subsections": [],
                "embed_context": [
                    "故障处理中的删除异地容灾系统后清除产品节点的异地容灾信息",
                    "删除异地容灾系统后清除产品节点的异地容灾信息",
                    "产品节点下电或者异常时删除异地容灾系统，在“任务列表”页面中显示删除异地容灾系统部分成功和删除产品部分成功，在删除产品部分成功的任务详细信息中显示删除失败的节点IP地址。",
                    "节点恢复正常后需清除产品节点上的异地容灾信息，否则在非异地容灾场景时该节点上的业务异常。",
                    "产品节点下电或者异常。",
                    "若删除异地容灾系统后还需重新创建，则无需执行本节操作，可直接创建。",
                    "若删除异地容灾系统后无需再重建，请根据删除产品的任务详细信息中删除失败的节点的IP地址，在对应的站点上执行本节操作。",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录待执行操作站点的管理节点。",
                    "如果管理面的部署模式是集群模式，即存在多个管理节点，需在Management0或Management1的其中任一节点执行以下操作。",
                    "获取节点IP地址的方法请参见。",
                    "执行以下命令，切换至ossadm用户。",
                    "> su - ossadm",
                    "Password:ossadm用户的密码",
                    "执行以下命令，清除产品节点上的异地容灾信息。",
                    "> cd <安装目录>/manager/apps/DRMgrService/bin",
                    "> bash dr_repair.sh",
                    "系统回显如下信息时，请根据站点实际情况输入“y”或“n”并按“Enter”。",
                    "输入“y”启动产品所有服务。",
                    "若待清除异地容灾信息的站点是为删除异地容灾系统前的主用站点，则输入“y”。",
                    "输入“n”不会启动产品所有服务。",
                    "若待清除异地容灾信息的站点是为删除异地容灾系统前的备用站点，则输入“n”。",
                    "Automatically start the product services of <产品名称> after the repair? (y/n):",
                    "以清除产品节点信息后需启动产品所有服务为例，系统回显如下类似信息时，说明操作执行成功，否则请联系华为技术支持工程师。",
                    "Starting the product services of <产品名称>...",
                    "Product services of <产品名称> started successfully.",
                    "Product <产品名称> repaired successfully.",
                    "Complete.",
                    "登录执行操作站点的管理面，具体操作请参见。",
                    "在管理面主菜单中选择“维护 > 运维管理 > 全景监控”。",
                    "在左侧导航树中选择“节点监控”。",
                    "在“节点监控”页面左上方选择对应的产品查看恢复正常的产品节点的状态。",
                    "若产品节点的“服务状态”为“运行正常”，则产品节点状态修复成功。",
                    "若产品节点的“服务状态”为“部分运行”、“未知”或“故障”，请联系华为技术支持工程师。",
                    "若产品节点的“服务状态”为“未运行”，在“节点监控”页面左上方单击“启动”，在下拉框中选择“启动服务”，按照界面指引完成相关操作。",
                    "----结束"
                ]
            },
            {
                "title": "## MQS异地容灾场景下ZookeeperService卸载重装引起异地容灾异常",
                "org_context": [
                    "<notice>故障处理中的MQS异地容灾场景下ZookeeperService卸载重装引起异地容灾异常</notice>",
                    "现象描述",
                    "在MQS异地容灾关系建立后，卸载重装主用站点或者备用站点某一侧的ZookeeperService，然后再次建立异地容灾关系时出现异地容灾异常。",
                    "可能原因",
                    "在MQS异地容灾关系建立后，卸载重装某站点上的ZookeeperService后，ZookeeperService记录的zxid被重置，此时与对端站点ZookeeperService记录的zxid不匹配，导致主用站点和备用站点的连接断开。",
                    "处理步骤",
                    "主用站点或备用站点卸载重装完成后，需重启对端站点的MQS服务。",
                    "例如卸载重装主用站点，则应重启备用站点上的MQS服务。",
                    "以下以卸载重装了主用站点管理面为例。",
                    "登录备用站点的管理面，具体操作请参见15.1 登录管理面。",
                    "在管理面主菜单中选择“维护 > 运维管理 > 全景监控”。",
                    "在左侧导航树中选择“服务监控”。",
                    "在“服务监控”页面左上方，光标移至并选择对应的产品。",
                    "选择“服务”页签，在“服务”页签左上角的搜索框中输入“MQS”，并单击。",
                    "选择“MQS”服务，单击界面右侧的“停止”。",
                    "在弹出窗口，单击“确定”。",
                    "在当前页面查看MQS服务的状态，若状态为“未运行”，则表示停止成功。",
                    "选择“MQS”服务，单击界面右侧的“启动”。",
                    "在弹出窗口，单击“确定”。",
                    "在当前页面查看MQS服务的状态，若状态为“运行中”，则表示重启成功。",
                    "重新建立异地容灾关系，具体操作请参见《管理员指南》中的“配置异地容灾系统”章节。",
                    "异地容灾关系建立成功后，查看主用站点和备用站点之间的心跳状态。",
                    "在管理面主菜单中选择“高可用 > 异地高可用系统 > 管理异地容灾系统”。",
                    "查看主用站点和备用站点之间的心跳状态。",
                    "如果心跳状态为（正常），任务结束。",
                    "如果心跳状态为（异常）或者（部分异常），请联系华为技术支持工程师。",
                    "----结束",
                    "",
                    ""
                ],
                "subsections": [],
                "embed_context": [
                    "故障处理中的MQS异地容灾场景下ZookeeperService卸载重装引起异地容灾异常",
                    "MQS异地容灾场景下ZookeeperService卸载重装引起异地容灾异常",
                    "在MQS异地容灾关系建立后，卸载重装主用站点或者备用站点某一侧的ZookeeperService，然后再次建立异地容灾关系时出现异地容灾异常。",
                    "在MQS异地容灾关系建立后，卸载重装某站点上的ZookeeperService后，ZookeeperService记录的zxid被重置，此时与对端站点ZookeeperService记录的zxid不匹配，导致主用站点和备用站点的连接断开。",
                    "主用站点或备用站点卸载重装完成后，需重启对端站点的MQS服务。",
                    "例如卸载重装主用站点，则应重启备用站点上的MQS服务。",
                    "以下以卸载重装了主用站点管理面为例。",
                    "登录备用站点的管理面，具体操作请参见15.1 登录管理面。",
                    "在管理面主菜单中选择“维护 > 运维管理 > 全景监控”。",
                    "在左侧导航树中选择“服务监控”。",
                    "在“服务监控”页面左上方，光标移至并选择对应的产品。",
                    "选择“服务”页签，在“服务”页签左上角的搜索框中输入“MQS”，并单击。",
                    "选择“MQS”服务，单击界面右侧的“停止”。",
                    "在弹出窗口，单击“确定”。",
                    "在当前页面查看MQS服务的状态，若状态为“未运行”，则表示停止成功。",
                    "选择“MQS”服务，单击界面右侧的“启动”。",
                    "在弹出窗口，单击“确定”。",
                    "在当前页面查看MQS服务的状态，若状态为“运行中”，则表示重启成功。",
                    "重新建立异地容灾关系，具体操作请参见《管理员指南》中的“配置异地容灾系统”章节。",
                    "异地容灾关系建立成功后，查看主用站点和备用站点之间的心跳状态。",
                    "在管理面主菜单中选择“高可用 > 异地高可用系统 > 管理异地容灾系统”。",
                    "查看主用站点和备用站点之间的心跳状态。",
                    "如果心跳状态为（正常），任务结束。",
                    "如果心跳状态为（异常）或者（部分异常），请联系华为技术支持工程师。",
                    "----结束"
                ]
            },
            {
                "title": "## 操作异地容灾系统后的任务列表详细信息提示消息队列出现异常",
                "org_context": [
                    "<notice>故障处理中的操作异地容灾系统后的任务列表详细信息提示消息队列出现异常</notice>",
                    "现象描述",
                    "执行如创建异地容灾、倒换异地容灾、强制同步异地容灾和删除异地容灾等异地容灾操作时，任务列表中显示“执行失败”。",
                    "查看任务列表的详细信息，提示如Kafka连接失败、Zookeeper连接失败、接口调用失败等信息。",
                    "可能原因",
                    "主用站点和备用站点中的MqDRService、MessagingBrokeService或ZookeeperService出现异常。",
                    "处理步骤",
                    "登录主用站点的管理面，具体操作请参见。",
                    "在管理面主菜单中选择“系统 > 任务列表”，查看异地容灾系统的任务列表的详细信息。",
                    "根据提示的异常信息执行如下操作。",
                    "在管理面主菜单中选择“维护 > 运维管理 > 全景监控”。",
                    "在左侧导航树中选择“服务监控”。",
                    "在“服务监控”页面左上方选择对应的产品。",
                    "若管理面部署了多个产品，则需要在每个产品下执行～操作。",
                    "",
                    "",
                    "单击“进程”页签。",
                    "根据提示的详细信息，选择所有对应进程名称的实例，单击“停止”，按照界面指引完成相关操作。",
                    "Kafka连接失败：选择msgbrksrv。",
                    "Zookeeper连接失败：选择zookeeperapp。",
                    "接口调用失败：选择mqdrsrv。",
                    "",
                    "",
                    "待对应进程的实例停止完成后，再单击“启动”。",
                    "按照界面指引完成相关操作。",
                    "如果对应进程的实例状态显示为“正在运行”，则表示消息队列服务已正常，否则请联系华为技术支持工程师。",
                    "在备用站点上重启消息队列服务，具体操作请参见～。",
                    "强制同步主用站点和备用站点间的数据。",
                    "在主用站点的管理面主菜单中选择“高可用 > 异地高可用系统 > 管理异地容灾系统”。",
                    "在待同步数据的产品所在行“操作”列中，单击，选择产品的数据同步方向。",
                    "若主站点和备站点的状态非主用和备用，则需要选择产品的数据同步方向，异地容灾系统会根据用户选择方向进行全量数据同步，例如选择从A站点产品向B站点产品同步数据，则B站点的产品数据会被覆盖，并且B站点管理面的用户管理数据将在第二天的00:00:00被A站点管理面的用户管理数据覆盖。",
                    "建议以含有最新数据的产品为主用站点产品，向对端站点产品同步。",
                    "若主站点和备站点的状态为主用和备用，无需选择产品的数据同步方向，系统会自动从主用站点向备用站点同步数据。",
                    "备用站点管理面的用户管理数据，将在第二天的00:00:00被主用站点管理面的用户管理数据覆盖。",
                    "按照界面上的指引完成相关操作。",
                    "检查操作结果。",
                    "在管理面主菜单中选择“高可用 > 异地高可用系统 > 管理异地容灾系统”。",
                    "在页面中查看主用站点和备用站点间的心跳状态为。",
                    "在页面中查看所有产品的“数据同步状态”为“已同步”或者“同步中”。",
                    "如果“数据同步状态”显示为“延迟”，表示主用站点和备用站点有较多的数据正在同步，请等待数据同步完成后再检查状态。",
                    "主用站点的运维面能正常登录，具体操作请参见15.2 登录运维面。",
                    "如果操作结果与预期不符，请联系华为技术支持工程师。",
                    "----结束",
                    "",
                    ""
                ],
                "subsections": [],
                "embed_context": [
                    "故障处理中的操作异地容灾系统后的任务列表详细信息提示消息队列出现异常",
                    "操作异地容灾系统后的任务列表详细信息提示消息队列出现异常",
                    "执行如创建异地容灾、倒换异地容灾、强制同步异地容灾和删除异地容灾等异地容灾操作时，任务列表中显示“执行失败”。",
                    "查看任务列表的详细信息，提示如Kafka连接失败、Zookeeper连接失败、接口调用失败等信息。",
                    "主用站点和备用站点中的MqDRService、MessagingBrokeService或ZookeeperService出现异常。",
                    "登录主用站点的管理面，具体操作请参见。",
                    "在管理面主菜单中选择“系统 > 任务列表”，查看异地容灾系统的任务列表的详细信息。",
                    "根据提示的异常信息执行如下操作。",
                    "在管理面主菜单中选择“维护 > 运维管理 > 全景监控”。",
                    "在左侧导航树中选择“服务监控”。",
                    "在“服务监控”页面左上方选择对应的产品。",
                    "若管理面部署了多个产品，则需要在每个产品下执行～操作。",
                    "单击“进程”页签。",
                    "根据提示的详细信息，选择所有对应进程名称的实例，单击“停止”，按照界面指引完成相关操作。",
                    "Kafka连接失败：选择msgbrksrv。",
                    "Zookeeper连接失败：选择zookeeperapp。",
                    "接口调用失败：选择mqdrsrv。",
                    "待对应进程的实例停止完成后，再单击“启动”。",
                    "按照界面指引完成相关操作。",
                    "如果对应进程的实例状态显示为“正在运行”，则表示消息队列服务已正常，否则请联系华为技术支持工程师。",
                    "在备用站点上重启消息队列服务，具体操作请参见～。",
                    "强制同步主用站点和备用站点间的数据。",
                    "在主用站点的管理面主菜单中选择“高可用 > 异地高可用系统 > 管理异地容灾系统”。",
                    "在待同步数据的产品所在行“操作”列中，单击，选择产品的数据同步方向。",
                    "若主站点和备站点的状态非主用和备用，则需要选择产品的数据同步方向，异地容灾系统会根据用户选择方向进行全量数据同步，例如选择从A站点产品向B站点产品同步数据，则B站点的产品数据会被覆盖，并且B站点管理面的用户管理数据将在第二天的00:00:00被A站点管理面的用户管理数据覆盖。",
                    "建议以含有最新数据的产品为主用站点产品，向对端站点产品同步。",
                    "若主站点和备站点的状态为主用和备用，无需选择产品的数据同步方向，系统会自动从主用站点向备用站点同步数据。",
                    "备用站点管理面的用户管理数据，将在第二天的00:00:00被主用站点管理面的用户管理数据覆盖。",
                    "按照界面上的指引完成相关操作。",
                    "检查操作结果。",
                    "在管理面主菜单中选择“高可用 > 异地高可用系统 > 管理异地容灾系统”。",
                    "在页面中查看主用站点和备用站点间的心跳状态为。",
                    "在页面中查看所有产品的“数据同步状态”为“已同步”或者“同步中”。",
                    "如果“数据同步状态”显示为“延迟”，表示主用站点和备用站点有较多的数据正在同步，请等待数据同步完成后再检查状态。",
                    "主用站点的运维面能正常登录，具体操作请参见15.2 登录运维面。",
                    "如果操作结果与预期不符，请联系华为技术支持工程师。",
                    "----结束"
                ]
            },
            {
                "title": "## 主用站点和备用站点间数据同步状态异常导致异地容灾接管任务失败",
                "org_context": [
                    "<notice>故障处理中的主用站点和备用站点间数据同步状态异常导致异地容灾接管任务失败</notice>",
                    "现象描述",
                    "在“高可用 > 异地高可用系统 > 管理异地容灾系统”页面的“异地容灾产品列表”中数据同步状态显示异常，且在“任务列表”页面中显示异地容灾系统故障接管任务执行部分成功，失败原因为某个数据库实例升主操作超时。",
                    "可能原因",
                    "由于主用站点和备用站点之间的复制链路异常导致数据库数据差异过大。",
                    "主用站点的主用数据库无法降备。",
                    "处理步骤",
                    "此故障处理是通过强制接管操作来保障服务可用的方法，可能会有数据丢失的风险，请谨慎操作。",
                    "执行强制接管前，需查看和确保容灾操作实时预警处无故障，具体请参考《管理员指南》中的“容灾操作实时预警”章节。",
                    "登录接管后主用站点的管理面，在“异地容灾产品列表”对应产品的“操作”列，单击降备该站点。",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录中站点的管理节点。",
                    "如果管理面的部署模式是集群模式，即存在多个管理节点，需在Management0或Management1的其中任一节点执行以下操作。",
                    "获取节点IP地址的方法请参见。",
                    "执行以下命令，切换至ossadm用户。",
                    "> su - ossadm",
                    "Password:ossadm用户的密码",
                    "执行以下命令，执行强制接管操作。",
                    "> cd <安装目录>/manager/apps/DRMgrService/bin",
                    "> bash dr_operation.sh -cmd failover -pn <产品名称> -type force",
                    "当系统提示如下信息时，表示强制接管操作成功，否则请联系华为技术支持工程师。",
                    "start to execute failover,pn:<产品名称>,type:force",
                    "...",
                    "execute failover success",
                    "----结束",
                    "",
                    ""
                ],
                "subsections": [],
                "embed_context": [
                    "故障处理中的主用站点和备用站点间数据同步状态异常导致异地容灾接管任务失败",
                    "主用站点和备用站点间数据同步状态异常导致异地容灾接管任务失败",
                    "在“高可用 > 异地高可用系统 > 管理异地容灾系统”页面的“异地容灾产品列表”中数据同步状态显示异常，且在“任务列表”页面中显示异地容灾系统故障接管任务执行部分成功，失败原因为某个数据库实例升主操作超时。",
                    "由于主用站点和备用站点之间的复制链路异常导致数据库数据差异过大。",
                    "主用站点的主用数据库无法降备。",
                    "此故障处理是通过强制接管操作来保障服务可用的方法，可能会有数据丢失的风险，请谨慎操作。",
                    "执行强制接管前，需查看和确保容灾操作实时预警处无故障，具体请参考《管理员指南》中的“容灾操作实时预警”章节。",
                    "登录接管后主用站点的管理面，在“异地容灾产品列表”对应产品的“操作”列，单击降备该站点。",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录中站点的管理节点。",
                    "如果管理面的部署模式是集群模式，即存在多个管理节点，需在Management0或Management1的其中任一节点执行以下操作。",
                    "获取节点IP地址的方法请参见。",
                    "执行以下命令，切换至ossadm用户。",
                    "> su - ossadm",
                    "Password:ossadm用户的密码",
                    "执行以下命令，执行强制接管操作。",
                    "> cd <安装目录>/manager/apps/DRMgrService/bin",
                    "> bash dr_operation.sh -cmd failover -pn <产品名称> -type force",
                    "当系统提示如下信息时，表示强制接管操作成功，否则请联系华为技术支持工程师。",
                    "start to execute failover,pn:<产品名称>,type:force",
                    "execute failover success",
                    "----结束"
                ]
            }
        ],
        "embed_context": [
            "故障处理中的异地容灾系统故障",
            "异地容灾系统故障"
        ]
    },
    {
        "title": "# 备份与恢复故障",
        "org_context": [
            "<notice>故障处理中的备份与恢复故障</notice>",
            "",
            ""
        ],
        "subsections": [
            {
                "title": "## 备份服务器存储空间不足导致备份文件失败",
                "org_context": [
                    "<notice>故障处理中的备份服务器存储空间不足导致备份文件失败</notice>",
                    "现象描述",
                    "在管理面进行备份操作时，由于待备份节点上的文件无法传输到备份服务器，导致备份操作失败。",
                    "可能原因",
                    "备份服务器上的备份路径存储空间不足。",
                    "处理步骤",
                    "使用PuTTY工具以备份服务器用户通过SSH方式登录备份服务器。",
                    "若使用管理节点作为备份服务器，请使用sopuser用户通过SSH方式登录备份服务器。",
                    "执行以下命令，确认各分区使用情况。",
                    "> df -h",
                    "如以下回显所示，备份路径“/opt/backup”所在的分区“/opt”仅剩14G空闲空间，需要及时进行清理。",
                    "Filesystem                        Size  Used Avail Use% Mounted on",
                    "... ...",
                    "/dev/mapper/vg_root-lv_opt    498G  464G  14G  97% /opt",
                    "tmpfs                             5.9G     0  5.9G   0% /run/user/3001",
                    "tmpfs                             5.9G     0  5.9G   0% /run/user/0",
                    "执行以下命令，进入需要清理的目录，查看并记录目录下的文件的属主。",
                    "此处以清理“/opt”目录下的文件为例。",
                    "> cd /opt",
                    "> ll",
                    "系统回显如下类似信息，确认待清理的文件并记录文件的属主。",
                    "...",
                    "drwxr-x---  9 root    root             4096 May 11 18:51 osbackup",
                    "drwxr-x---  3 ossadm  ossgroup         4096 May  7 11:45 oss",
                    "drwxr-x---  4 ossadm  ossgroup         4096 May 11 18:49 patch",
                    "执行以下命令，切换至待清理的文件对应的属主用户并清理相应的文件或目录。",
                    "此处以清理ossadm用户的文件为例。",
                    "> su - ossadm",
                    "Password:ossadm用户的密码",
                    "> rm -r 无用文件或子目录",
                    "清理磁盘空间为危险操作，请确保待删除文件/子目录已不再使用后，谨慎进行清理。",
                    "若切换至root用户进行清理操作后，请执行“exit”命令以退出root用户。",
                    "----结束",
                    "",
                    ""
                ],
                "subsections": [],
                "embed_context": [
                    "故障处理中的备份服务器存储空间不足导致备份文件失败",
                    "备份服务器存储空间不足导致备份文件失败",
                    "在管理面进行备份操作时，由于待备份节点上的文件无法传输到备份服务器，导致备份操作失败。",
                    "备份服务器上的备份路径存储空间不足。",
                    "使用PuTTY工具以备份服务器用户通过SSH方式登录备份服务器。",
                    "若使用管理节点作为备份服务器，请使用sopuser用户通过SSH方式登录备份服务器。",
                    "执行以下命令，确认各分区使用情况。",
                    "> df -h",
                    "如以下回显所示，备份路径“/opt/backup”所在的分区“/opt”仅剩14G空闲空间，需要及时进行清理。",
                    "Filesystem                        Size  Used Avail Use% Mounted on",
                    "... ...",
                    "/dev/mapper/vg_root-lv_opt    498G  464G  14G  97% /opt",
                    "tmpfs                             5.9G     0  5.9G   0% /run/user/3001",
                    "tmpfs                             5.9G     0  5.9G   0% /run/user/0",
                    "执行以下命令，进入需要清理的目录，查看并记录目录下的文件的属主。",
                    "此处以清理“/opt”目录下的文件为例。",
                    "> cd /opt",
                    "系统回显如下类似信息，确认待清理的文件并记录文件的属主。",
                    "drwxr-x---  9 root    root             4096 May 11 18:51 osbackup",
                    "drwxr-x---  3 ossadm  ossgroup         4096 May  7 11:45 oss",
                    "drwxr-x---  4 ossadm  ossgroup         4096 May 11 18:49 patch",
                    "执行以下命令，切换至待清理的文件对应的属主用户并清理相应的文件或目录。",
                    "此处以清理ossadm用户的文件为例。",
                    "> su - ossadm",
                    "Password:ossadm用户的密码",
                    "> rm -r 无用文件或子目录",
                    "清理磁盘空间为危险操作，请确保待删除文件/子目录已不再使用后，谨慎进行清理。",
                    "若切换至root用户进行清理操作后，请执行“exit”命令以退出root用户。",
                    "----结束"
                ]
            },
            {
                "title": "## 备份文件版本不对应导致恢复产品节点操作系统失败",
                "org_context": [
                    "<notice>故障处理中的备份文件版本不对应导致恢复产品节点操作系统失败</notice>",
                    "现象描述",
                    "使用旧版本的备份文件恢复产品节点操作系统之后，在管理面主菜单中选择“系统 > 任务列表”，查看恢复产品节点操作系统任务的“任务状态”为“执行失败”，“详细信息”提示安装Agent失败。",
                    "可能原因",
                    "使用升级前的备份文件来恢复产品节点操作系统。",
                    "处理步骤",
                    "联系华为技术支持工程师在待恢复操作系统的产品节点上安装对应版本的osconfig。",
                    "须通过“OpenPGP签名验证指南”工具包对“osconfig-版本号.zip”进行软件包完整性校验，具体操作请参见《管理员指南》中的“如何通过OpenPGP签名验证指南工具包进行软件包完整性校验”章节。",
                    "在待恢复操作系统的产品节点上重新安装Agent。",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录管理节点。",
                    "如果管理面的部署模式是集群模式，即存在多个管理节点，需在Management0或Management1的其中任一节点执行以下操作。",
                    "获取节点IP地址的方法请参见。",
                    "执行以下命令切换到ossadm用户。",
                    "> su - ossadm",
                    "Password:ossadm用户的密码",
                    "在待恢复产品节点上重新安装Agent。",
                    "> cd <安装目录>/manager/apps/UniEPService/tools/resmgr",
                    "> bash installagent.sh -nodemgrip 10.10.10.11",
                    "当系统提示如下信息时，重新安装Agent成功，表示恢复产品节点操作系统成功。",
                    "Install agent successfully.",
                    "如果管理面的部署模式是单机模式，且管理节点和产品节点为同一个节点，“UniEPService”需替换为“UniEPLiteService”。",
                    "判断管理节点和产品节点是否为同一个节点，具体操作请参见。",
                    "“10.10.10.11”为待恢复产品节点的IP地址。",
                    "（可选）建议在故障修复后，重新备份该节点操作系统，具体操作请参见《管理员指南》中的“备份产品节点操作系统”章节。",
                    "----结束",
                    "",
                    ""
                ],
                "subsections": [],
                "embed_context": [
                    "故障处理中的备份文件版本不对应导致恢复产品节点操作系统失败",
                    "备份文件版本不对应导致恢复产品节点操作系统失败",
                    "使用旧版本的备份文件恢复产品节点操作系统之后，在管理面主菜单中选择“系统 > 任务列表”，查看恢复产品节点操作系统任务的“任务状态”为“执行失败”，“详细信息”提示安装Agent失败。",
                    "使用升级前的备份文件来恢复产品节点操作系统。",
                    "联系华为技术支持工程师在待恢复操作系统的产品节点上安装对应版本的osconfig。",
                    "须通过“OpenPGP签名验证指南”工具包对“osconfig-版本号.zip”进行软件包完整性校验，具体操作请参见《管理员指南》中的“如何通过OpenPGP签名验证指南工具包进行软件包完整性校验”章节。",
                    "在待恢复操作系统的产品节点上重新安装Agent。",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录管理节点。",
                    "如果管理面的部署模式是集群模式，即存在多个管理节点，需在Management0或Management1的其中任一节点执行以下操作。",
                    "获取节点IP地址的方法请参见。",
                    "执行以下命令切换到ossadm用户。",
                    "> su - ossadm",
                    "Password:ossadm用户的密码",
                    "在待恢复产品节点上重新安装Agent。",
                    "> cd <安装目录>/manager/apps/UniEPService/tools/resmgr",
                    "> bash installagent.sh -nodemgrip 10.10.10.11",
                    "当系统提示如下信息时，重新安装Agent成功，表示恢复产品节点操作系统成功。",
                    "Install agent successfully.",
                    "如果管理面的部署模式是单机模式，且管理节点和产品节点为同一个节点，“UniEPService”需替换为“UniEPLiteService”。",
                    "判断管理节点和产品节点是否为同一个节点，具体操作请参见。",
                    "“10.10.10.11”为待恢复产品节点的IP地址。",
                    "（可选）建议在故障修复后，重新备份该节点操作系统，具体操作请参见《管理员指南》中的“备份产品节点操作系统”章节。",
                    "----结束"
                ]
            }
        ],
        "embed_context": [
            "故障处理中的备份与恢复故障",
            "备份与恢复故障"
        ]
    },
    {
        "title": "# 日志管理故障",
        "org_context": [
            "<notice>故障处理中的日志管理故障</notice>",
            "",
            ""
        ],
        "subsections": [
            {
                "title": "## 日志的时间与客户端时间不一致",
                "org_context": [
                    "<notice>故障处理中的日志的时间与客户端时间不一致</notice>",
                    "现象描述",
                    "查看CloudSOP日志时，发现操作日志、安全日志、系统日志中记录的操作时间与CloudSOP客户端的时间不一致。",
                    "可能原因",
                    "服务器或客户端的时间不正确。",
                    "服务器或客户端的时区不正确。",
                    "处理步骤",
                    "执行如下命令，判断服务器节点当前的时区时间与节点所在地的实际情况是否相符。",
                    "登录管理面，具体操作请参见15.1 登录管理面。",
                    "在主菜单中选择“维护 > 时间管理 > 配置时区时间”，判断服务器节点当前的时区时间与节点所在地的实际情况是否相符。",
                    "是，执行。",
                    "否，则需修改服务器的时区时间。",
                    "请联系服务器管理员处理。",
                    "请判断客户端当前的时区和时间与节点所在地的实际情况是否相符。",
                    "是，请联系华为技术支持工程师。",
                    "否，执行。",
                    "客户端时区或时间与实际值不符，可参考如下操作进行修改。",
                    "不同操作系统界面存在差异，具体请以实际操作系统界面为准。",
                    "打开控制面板，单击“时钟、语言和区域”。",
                    "在“时钟、语言和区域”对话框中，单击“日期和时间”。",
                    "在“日期和时间”对话框中，单击“更改日期和时间”，根据当地时间进行设置。",
                    "单击“确定”。",
                    "在“日期和时间”对话框中，单击“更改时区”，根据当地时区进行设置。",
                    "单击“确定”。",
                    "----结束",
                    "",
                    ""
                ],
                "subsections": [],
                "embed_context": [
                    "故障处理中的日志的时间与客户端时间不一致",
                    "日志的时间与客户端时间不一致",
                    "查看CloudSOP日志时，发现操作日志、安全日志、系统日志中记录的操作时间与CloudSOP客户端的时间不一致。",
                    "服务器或客户端的时间不正确。",
                    "服务器或客户端的时区不正确。",
                    "执行如下命令，判断服务器节点当前的时区时间与节点所在地的实际情况是否相符。",
                    "登录管理面，具体操作请参见15.1 登录管理面。",
                    "在主菜单中选择“维护 > 时间管理 > 配置时区时间”，判断服务器节点当前的时区时间与节点所在地的实际情况是否相符。",
                    "否，则需修改服务器的时区时间。",
                    "请联系服务器管理员处理。",
                    "请判断客户端当前的时区和时间与节点所在地的实际情况是否相符。",
                    "是，请联系华为技术支持工程师。",
                    "客户端时区或时间与实际值不符，可参考如下操作进行修改。",
                    "不同操作系统界面存在差异，具体请以实际操作系统界面为准。",
                    "打开控制面板，单击“时钟、语言和区域”。",
                    "在“时钟、语言和区域”对话框中，单击“日期和时间”。",
                    "在“日期和时间”对话框中，单击“更改日期和时间”，根据当地时间进行设置。",
                    "单击“确定”。",
                    "在“日期和时间”对话框中，单击“更改时区”，根据当地时区进行设置。",
                    "单击“确定”。",
                    "----结束"
                ]
            }
        ],
        "embed_context": [
            "故障处理中的日志管理故障",
            "日志管理故障"
        ]
    },
    {
        "title": "# License管理故障",
        "org_context": [
            "<notice>故障处理中的License管理故障</notice>",
            "",
            ""
        ],
        "subsections": [
            {
                "title": "## 更新License时提示“license文件解析错误，请检查license文件或配置”",
                "org_context": [
                    "<notice>故障处理中的更新License时提示“license文件解析错误，请检查license文件或配置”</notice>",
                    "现象描述",
                    "更新License时，单击“上传”，提示“license文件解析错误，请检查license文件或配置”。",
                    "可能原因",
                    "当前License文件已损坏或被篡改。",
                    "解析当前License文件需要的license_properties.json和key_file.dat（或keyFile.dat）文件不存在或与当前License文件产品名称不匹配。",
                    "处理步骤",
                    "请确保使用的License文件没有被损坏或篡改。",
                    "若已损坏或被篡改请联系华为技术支持工程师申请新的License，并更新。",
                    "请检查license_properties.json和key_file.dat（或keyFile.dat）文件是否存在。",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录SMLogLic服务所在节点。",
                    "获取SMLogLic服务所在节点查询方法请参考《管理员指南》中“查找进程或服务所在节点的管理IP地址”章节。",
                    "su - ossadm",
                    "Password:ossadm用户的密码",
                    "执行如下命令，检查license_properties.json文件是否存在。",
                    "cd <共享目录>/DeployAgent/svcs-pub/{文件夹}/",
                    "文件夹名称是由产品名开头，SMLogLicService-smloglicservice结尾。",
                    "find ./ -name license_properties.json",
                    "./SimuNEDm_Adp-7.3.2.3/pub/imap/license_properties.json",
                    "如果出现以上回显信息，说明license_properties.json文件存在，请执行。",
                    "否则，请联系华为技术支持工程师处理。",
                    "",
                    "",
                    "执行如下命令，检查key_file.dat文件是否存在。",
                    "find ./ -name key_file.dat",
                    "./SimuNEDm_Adp-7.3.2.3/pub/imap/key_file.dat",
                    "如果出现以上回显信息，说明key_file.dat文件存在，请执行。",
                    "否则说明key_file.dat文件不存在，执行。",
                    "",
                    "",
                    "执行如下命令，检查keyFile.dat文件是否存在。",
                    "find ./ -name keyFile.dat",
                    "./SimuNEDm_Adp-7.3.2.3/pub/imap/keyFile.dat",
                    "如果出现以上回显信息，说明keyFile.dat文件存在，请执行。",
                    "否则，请联系华为技术支持工程师处理。",
                    "执行如下命令，切换到文件所在路径。",
                    "cd <文件所在路径>",
                    "“文件所在路径”为中回显信息中查询到的文件所在路径，例如：./SimuNEDm_Adp-7.3.2.3/pub/imap。",
                    "执行如下命令，查看license_properties.json和key_file.dat（或keyFile.dat）文件中的产品名称。",
                    "cat key_file.dat",
                    "当key_file.dat 文件不存在时，命令中的key_file.dat 替换为keyFile.dat。",
                    "出现如下类似回显信息：",
                    "iMAP:V300R001:1:F701B50B89A9970E9C00D5007800EA000A00F100A9003D007F0068006200D50022002100AF0082006900C900FD00DE009D0……",
                    "第一个冒号前的信息即为产品名称，请手动记录，如iMAP。",
                    "cat license_properties.json",
                    "出现如下类似回显信息：",
                    "{",
                    "\"productName\":\"iMAP\",",
                    "\"productVersion\":\"V300R001\"",
                    "}",
                    "文件中“productName”的值即为产品名称，请手动记录，如iMAP。",
                    "查看License文件中的产品名称与中记录的license_properties.json和key_file.dat（或keyFile.dat）文件中的产品名称是否一致。",
                    "是，请联系华为技术支持工程师定位处理。",
                    "否，请联系华为技术支持工程师重新申请与配置文件中产品名一致的License，并重新上传。",
                    "----结束",
                    "",
                    ""
                ],
                "subsections": [],
                "embed_context": [
                    "故障处理中的更新License时提示“license文件解析错误，请检查license文件或配置”",
                    "更新License时提示“license文件解析错误，请检查license文件或配置”",
                    "更新License时，单击“上传”，提示“license文件解析错误，请检查license文件或配置”。",
                    "当前License文件已损坏或被篡改。",
                    "解析当前License文件需要的license_properties.json和key_file.dat（或keyFile.dat）文件不存在或与当前License文件产品名称不匹配。",
                    "请确保使用的License文件没有被损坏或篡改。",
                    "若已损坏或被篡改请联系华为技术支持工程师申请新的License，并更新。",
                    "请检查license_properties.json和key_file.dat（或keyFile.dat）文件是否存在。",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录SMLogLic服务所在节点。",
                    "获取SMLogLic服务所在节点查询方法请参考《管理员指南》中“查找进程或服务所在节点的管理IP地址”章节。",
                    "su - ossadm",
                    "Password:ossadm用户的密码",
                    "执行如下命令，检查license_properties.json文件是否存在。",
                    "cd <共享目录>/DeployAgent/svcs-pub/{文件夹}/",
                    "文件夹名称是由产品名开头，SMLogLicService-smloglicservice结尾。",
                    "find ./ -name license_properties.json",
                    "./SimuNEDm_Adp-7.3.2.3/pub/imap/license_properties.json",
                    "如果出现以上回显信息，说明license_properties.json文件存在，请执行。",
                    "否则，请联系华为技术支持工程师处理。",
                    "执行如下命令，检查key_file.dat文件是否存在。",
                    "find ./ -name key_file.dat",
                    "./SimuNEDm_Adp-7.3.2.3/pub/imap/key_file.dat",
                    "如果出现以上回显信息，说明key_file.dat文件存在，请执行。",
                    "否则说明key_file.dat文件不存在，执行。",
                    "执行如下命令，检查keyFile.dat文件是否存在。",
                    "find ./ -name keyFile.dat",
                    "./SimuNEDm_Adp-7.3.2.3/pub/imap/keyFile.dat",
                    "如果出现以上回显信息，说明keyFile.dat文件存在，请执行。",
                    "否则，请联系华为技术支持工程师处理。",
                    "执行如下命令，切换到文件所在路径。",
                    "cd <文件所在路径>",
                    "“文件所在路径”为中回显信息中查询到的文件所在路径，例如：./SimuNEDm_Adp-7.3.2.3/pub/imap。",
                    "执行如下命令，查看license_properties.json和key_file.dat（或keyFile.dat）文件中的产品名称。",
                    "cat key_file.dat",
                    "当key_file.dat 文件不存在时，命令中的key_file.dat 替换为keyFile.dat。",
                    "出现如下类似回显信息：",
                    "iMAP:V300R001:1:F701B50B89A9970E9C00D5007800EA000A00F100A9003D007F0068006200D50022002100AF0082006900C900FD00DE009D0……",
                    "第一个冒号前的信息即为产品名称，请手动记录，如iMAP。",
                    "cat license_properties.json",
                    "出现如下类似回显信息：",
                    "\"productName\":\"iMAP\",",
                    "\"productVersion\":\"V300R001\"",
                    "文件中“productName”的值即为产品名称，请手动记录，如iMAP。",
                    "查看License文件中的产品名称与中记录的license_properties.json和key_file.dat（或keyFile.dat）文件中的产品名称是否一致。",
                    "是，请联系华为技术支持工程师定位处理。",
                    "否，请联系华为技术支持工程师重新申请与配置文件中产品名一致的License，并重新上传。",
                    "----结束"
                ]
            },
            {
                "title": "## 更新License时提示“license文件已过期”",
                "org_context": [
                    "<notice>故障处理中的更新License时提示“license文件已过期”</notice>",
                    "现象描述",
                    "更新License时，单击“应用”，提示“license文件已过期”。",
                    "可能原因",
                    "License文件已过期。",
                    "处理步骤",
                    "联系华为技术支持工程师申请新的License文件。",
                    "使用申请的License文件更新系统中的License文件。",
                    "在运维面主菜单中选择“系统 > 系统设置 > License管理”。",
                    "在左侧导航树中选择“更新License”。",
                    "在“上传”界面中，单击“License文件”文本框右侧的图标。",
                    "选择已申请的License文件，单击“打开”。",
                    "单击“上传”。",
                    "在“预校验”界面，根据实际情况选择更新模式，并查看License文件更新前后的结果对比。",
                    "单击“下一步”，更新License。",
                    "如果预校验结果中含有危险项，更新后可能会造成部分资源或功能不可用，用户需根据实际情况确认是否更新License。",
                    "----结束",
                    "",
                    ""
                ],
                "subsections": [],
                "embed_context": [
                    "故障处理中的更新License时提示“license文件已过期”",
                    "更新License时提示“license文件已过期”",
                    "更新License时，单击“应用”，提示“license文件已过期”。",
                    "License文件已过期。",
                    "联系华为技术支持工程师申请新的License文件。",
                    "使用申请的License文件更新系统中的License文件。",
                    "在运维面主菜单中选择“系统 > 系统设置 > License管理”。",
                    "在左侧导航树中选择“更新License”。",
                    "在“上传”界面中，单击“License文件”文本框右侧的图标。",
                    "选择已申请的License文件，单击“打开”。",
                    "单击“上传”。",
                    "在“预校验”界面，根据实际情况选择更新模式，并查看License文件更新前后的结果对比。",
                    "单击“下一步”，更新License。",
                    "如果预校验结果中含有危险项，更新后可能会造成部分资源或功能不可用，用户需根据实际情况确认是否更新License。",
                    "----结束"
                ]
            },
            {
                "title": "## 更新License时提示“产品版本号不匹配”",
                "org_context": [
                    "<notice>故障处理中的更新License时提示“产品版本号不匹配”</notice>",
                    "现象描述",
                    "更新License时，单击“应用”，提示“产品版本号不匹配”。",
                    "可能原因",
                    "license_properties.json中的产品版本号与上传的License文件中的产品版本号不匹配。",
                    "处理步骤",
                    "请执行如下步骤查看“license_properties.json”文件中的产品版本号。",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录SMLogLic服务所在节点。",
                    "获取SMLogLic服务所在节点查询方法请参考《管理员指南》中“查找进程或服务所在节点的管理IP地址”章节。",
                    "执行如下命令，切换到ossadm用户。",
                    "su - ossadm",
                    "Password:ossadm用户的密码",
                    "",
                    "",
                    "执行如下命令，切换到如下目录，查找license_properties.json文件。",
                    "cd <共享目录>/DeployAgent/svcs-pub/{文件夹}/",
                    "文件夹名称是由产品名开头，SMLogLicService-smloglicservice结尾。",
                    "find ./ -name license_properties.json",
                    "显示如下类似回显信息，说明“license_properties.json”文件存在，请执行。",
                    "./SimuNEDm_Adp-7.3.2.3/pub/imap/license_properties.json",
                    "否则，请联系华为技术支持工程师处理。",
                    "执行如下命令，切换到文件所在路径。",
                    "cd <文件所在路径>",
                    "“文件所在路径”为中回显信息中查询到的文件所在路径，例如：./SimuNEDm_Adp-7.3.2.3/pub/imap。",
                    "执行如下命令，查看“license_properties.json”文件中的产品版本号。",
                    "cat license_properties.json",
                    "显示如下类似回显信息：",
                    "{",
                    "\"productName\":\"iMAP\",",
                    "\"productVersion\":\"V300R001\"",
                    "}",
                    "回显信息中“productVersion”的值即为产品版本号，请手动记录，如V300R001。",
                    "查看License文件中的产品版本号与中记录的“license_properties.json”文件中的产品版本号是否一致",
                    "查看License文件中的产品版本号时，若license文件格式版本是2.00则查询“Version”的值，若License文件格式版本是3.00则查询“productVersion”的值。",
                    "是，请联系华为技术支持工程师定位处理。",
                    "否，请联系华为技术支持工程师重新申请与license_properties.json文件中产品版本号相同的License，并重新上传。",
                    "----结束",
                    "",
                    ""
                ],
                "subsections": [],
                "embed_context": [
                    "故障处理中的更新License时提示“产品版本号不匹配”",
                    "更新License时提示“产品版本号不匹配”",
                    "更新License时，单击“应用”，提示“产品版本号不匹配”。",
                    "license_properties.json中的产品版本号与上传的License文件中的产品版本号不匹配。",
                    "请执行如下步骤查看“license_properties.json”文件中的产品版本号。",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录SMLogLic服务所在节点。",
                    "获取SMLogLic服务所在节点查询方法请参考《管理员指南》中“查找进程或服务所在节点的管理IP地址”章节。",
                    "执行如下命令，切换到ossadm用户。",
                    "su - ossadm",
                    "Password:ossadm用户的密码",
                    "执行如下命令，切换到如下目录，查找license_properties.json文件。",
                    "cd <共享目录>/DeployAgent/svcs-pub/{文件夹}/",
                    "文件夹名称是由产品名开头，SMLogLicService-smloglicservice结尾。",
                    "find ./ -name license_properties.json",
                    "显示如下类似回显信息，说明“license_properties.json”文件存在，请执行。",
                    "./SimuNEDm_Adp-7.3.2.3/pub/imap/license_properties.json",
                    "否则，请联系华为技术支持工程师处理。",
                    "执行如下命令，切换到文件所在路径。",
                    "cd <文件所在路径>",
                    "“文件所在路径”为中回显信息中查询到的文件所在路径，例如：./SimuNEDm_Adp-7.3.2.3/pub/imap。",
                    "执行如下命令，查看“license_properties.json”文件中的产品版本号。",
                    "cat license_properties.json",
                    "显示如下类似回显信息：",
                    "\"productName\":\"iMAP\",",
                    "\"productVersion\":\"V300R001\"",
                    "回显信息中“productVersion”的值即为产品版本号，请手动记录，如V300R001。",
                    "查看License文件中的产品版本号与中记录的“license_properties.json”文件中的产品版本号是否一致",
                    "查看License文件中的产品版本号时，若license文件格式版本是2.00则查询“Version”的值，若License文件格式版本是3.00则查询“productVersion”的值。",
                    "是，请联系华为技术支持工程师定位处理。",
                    "否，请联系华为技术支持工程师重新申请与license_properties.json文件中产品版本号相同的License，并重新上传。",
                    "----结束"
                ]
            },
            {
                "title": "## 更新License时提示“不能导入其他格式版本的License文件”",
                "org_context": [
                    "<notice>故障处理中的更新License时提示“不能导入其他格式版本的License文件”</notice>",
                    "现象描述",
                    "更新License时，单击“上传”，提示“当前License文件格式版本号为3.00，不能导入其他格式版本的License文件”或“当前License文件格式版本号为2.00，不能导入其他格式版本的License文件”。",
                    "可能原因",
                    "上传的License文件格式版本号与系统中的License文件格式版本号不一致。",
                    "处理步骤",
                    "联系华为技术支持工程师申请ESN匹配的与环境中License文件格式相同的License文件。",
                    "使用申请的License文件更新系统中的License文件。",
                    "在运维面主菜单中选择“系统 > 系统设置 > License管理”。",
                    "在左侧导航树中选择“更新License”。",
                    "在“上传”界面中，单击“License文件”文本框右侧的图标。",
                    "选择已申请的License文件，单击“打开”。",
                    "单击“上传”。",
                    "在“预校验”界面，根据实际情况选择更新模式，并查看License文件更新前后的结果对比。",
                    "单击“下一步”，更新License。",
                    "如果预校验结果中含有危险项，更新后可能会造成部分资源或功能不可用，用户需根据实际情况确认是否更新License。",
                    "----结束",
                    "",
                    ""
                ],
                "subsections": [],
                "embed_context": [
                    "故障处理中的更新License时提示“不能导入其他格式版本的License文件”",
                    "更新License时提示“不能导入其他格式版本的License文件”",
                    "更新License时，单击“上传”，提示“当前License文件格式版本号为3.00，不能导入其他格式版本的License文件”或“当前License文件格式版本号为2.00，不能导入其他格式版本的License文件”。",
                    "上传的License文件格式版本号与系统中的License文件格式版本号不一致。",
                    "联系华为技术支持工程师申请ESN匹配的与环境中License文件格式相同的License文件。",
                    "使用申请的License文件更新系统中的License文件。",
                    "在运维面主菜单中选择“系统 > 系统设置 > License管理”。",
                    "在左侧导航树中选择“更新License”。",
                    "在“上传”界面中，单击“License文件”文本框右侧的图标。",
                    "选择已申请的License文件，单击“打开”。",
                    "单击“上传”。",
                    "在“预校验”界面，根据实际情况选择更新模式，并查看License文件更新前后的结果对比。",
                    "单击“下一步”，更新License。",
                    "如果预校验结果中含有危险项，更新后可能会造成部分资源或功能不可用，用户需根据实际情况确认是否更新License。",
                    "----结束"
                ]
            }
        ],
        "embed_context": [
            "故障处理中的License管理故障",
            "License管理故障"
        ]
    },
    {
        "title": "# 告警监控故障",
        "org_context": [
            "<notice>故障处理中的告警监控故障</notice>",
            "",
            ""
        ],
        "subsections": [
            {
                "title": "## 系统故障导致告警无法自动清除",
                "org_context": [
                    "<notice>故障处理中的系统故障导致告警无法自动清除</notice>",
                    "现象描述",
                    "在进行告警清理时，对于可以自动清除的告警系统无法自动清除。",
                    "可能原因",
                    "系统服务故障。",
                    "处理步骤",
                    "登录管理面，具体操作请参见。",
                    "在主菜单中选择“维护 > 告警配置 > 设置告警上报参数”。",
                    "在“设置告警上报参数”页面，单击“同步告警”。",
                    "弹出“提示”对话框，单击“确定”。",
                    "等待5分钟后，登录运维面，具体操作请参见15.2 登录运维面。",
                    "在运维面主菜单中选择业务监控 > 告警监控 > 当前告警，查看告警是否自动清除。",
                    "是，结束。",
                    "否，请联系华为技术支持工程师。",
                    "----结束",
                    "",
                    ""
                ],
                "subsections": [],
                "embed_context": [
                    "故障处理中的系统故障导致告警无法自动清除",
                    "系统故障导致告警无法自动清除",
                    "在进行告警清理时，对于可以自动清除的告警系统无法自动清除。",
                    "系统服务故障。",
                    "登录管理面，具体操作请参见。",
                    "在主菜单中选择“维护 > 告警配置 > 设置告警上报参数”。",
                    "在“设置告警上报参数”页面，单击“同步告警”。",
                    "弹出“提示”对话框，单击“确定”。",
                    "等待5分钟后，登录运维面，具体操作请参见15.2 登录运维面。",
                    "在运维面主菜单中选择业务监控 > 告警监控 > 当前告警，查看告警是否自动清除。",
                    "否，请联系华为技术支持工程师。",
                    "----结束"
                ]
            }
        ],
        "embed_context": [
            "故障处理中的告警监控故障",
            "告警监控故障"
        ]
    },
    {
        "title": "# 通用操作",
        "org_context": [
            "<notice>故障处理中的通用操作</notice>",
            "",
            ""
        ],
        "subsections": [
            {
                "title": "## 登录管理面",
                "org_context": [
                    "<notice>故障处理中的登录管理面</notice>",
                    "介绍如何通过浏览器登录管理面。",
                    "前提条件",
                    "当前PC和管理面的客户端登录IP地址之间的网络连接正常。",
                    "已获取当前登录用户的密码。",
                    "若开启了用户的双因素认证，还需获取短消息验证码或者邮箱验证码。",
                    "背景信息",
                    "PC操作系统及浏览器版本需要满足以下要求，具体请参见表15-1。",
                    "",
                    "",
                    "配置要求",
                    "|软件类型|要求|\n|----|----|\n|操作系统|支持Windows 10及以上版本|\n|浏览器|Chrome 79及以上版本<br>Firefox 76及以上版本<br>Firefox ESR 68及以上版本<br>Edge Chromium|\n|分辨率|笔记本、PC支持1366 x 768或更高，推荐使用最优分辨率为1920 x 1080|",
                    "系统提供以下缺省角色。",
                    "缺省角色不可删除，并且其权限由系统提供，不可修改。",
                    "各角色权限的关系如图15-1所示。",
                    "Administrators：拥有用户管理、查询安全日志、查询个人安全日志和查看在线用户之外的所有权限。",
                    "安全管理员组：拥有用户管理、查询安全日志和查看在线用户的权限。",
                    "操作员组：拥有执行备份恢复、部署、监控、维护、系统设置、告警、异地容灾系统等操作的权限。",
                    "监控员组：拥有观察备份恢复、部署、监控、维护、系统设置、告警、异地容灾系统等操作的权限，无操作权限。",
                    "",
                    "",
                    "各角色权限关系",
                    "管理面提供了系统管理员用户，拥有管理面界面的所有操作权限，同时属于“Administrators”和“安全管理员组”两个角色。",
                    "该用户的初始密码在安装管理面时由用户配置，为保障管理面的安全，请及时修改密码，定期更新并妥善保管密码。",
                    "您可以根据业务需要创建其他操作权限的用户。",
                    "系统管理员具有对整个系统和所有管理对象的最高权限，使用该用户操作务必谨慎，禁止做任何影响系统安全性的操作，例如共享或扩散系统管理员用户的用户名和密码。",
                    "系统管理员用户在10分钟内连续输入错误密码5次，登录IP地址会被锁定10分钟。",
                    "若10分钟内连续有3个帐号在某客户端IP地址登录时被锁定，则此客户端IP地址被锁定30分钟。",
                    "某用户客户端IP地址的登录情况达到“系统 > 安全管理 > 用户策略”中“帐号策略”页面针对IP地址锁定所设置的约束时，缺省情况下该用户客户端IP地址被锁定30分钟。",
                    "本地用户登录情况当达到“系统 > 安全管理 > 用户策略”中“帐号策略”页面针对帐号锁定所设置的约束时，缺省情况下帐号会被锁定30分钟。",
                    "本地用户和远端用户当达到“系统 > 安全管理 > 用户管理”中的“用户”页面设置的会话自动注销等待时间未做任何操作时，用户将被自动注销。",
                    "三方系统接入用户缺省值为30分钟且不可设置。",
                    "用户可在帐号自动解锁后再次登录系统。",
                    "本地用户还可以通过联系安全管理员解锁帐号后再登录。",
                    "建议您请勿同时打开超过10个管理面客户端，否则系统开销过大会导致性能下降。",
                    "操作步骤",
                    "启动浏览器，在地址栏中输入“https://管理面的客户端登录IP地址:31945”，按“Enter”。",
                    "如果浏览器提示连接不安全，请先设置浏览器参数，具体操作请参见。",
                    "如果管理面的客户端登录IP地址为IPv6类型，地址栏访问格式为“https://[fe80::c0a8:6400]:31945”。",
                    "如果管理面的部署模式是集群模式，即存在多个管理节点，请使用管理节点浮动IP地址进行登录。",
                    "在登录页面，输入用户名和密码，单击“登录”。",
                    "登录后如果需要修改密码，请妥善保存修改后的密码。",
                    "若是系统管理员用户的密码丢失，只能重装CloudSOP配置密码。",
                    "为了安全起见，建议不要设置浏览器记住密码。",
                    "如果当前系统开启了RADIUS远端认证，且支持的认证方式为“Two-factor”，远端用户的登录密码不是用户的个人帐户密码，而是由PIN和token code组成：",
                    "PIN为静态密码字符串，为4~8位数字或字母，初始值需要从RADIUS服务器提供方获取，用户在首次登录时重新设置PIN。",
                    "token code由RSA SecurID硬件设备定时生成，为6位数字，RSA SecurID硬件设备需要从RADIUS服务器提供方获取。",
                    "如果开启了用户的双因素认证，输入获取的验证码，单击“登录”。",
                    "开启用户的双因素认证之后，如果连续发送验证码5次未使用，获取验证码功能将被锁定，请根据界面提示重试登录或者关闭双因素认证，关闭双因素认证具体操作请参见；",
                    "如果验证码发送失败，请联系管理员在“系统 > 系统设置 > 远程通知”页面中检查短信网关设置或者邮箱设置是否配置正确。",
                    "----结束",
                    "",
                    ""
                ],
                "subsections": [],
                "embed_context": [
                    "故障处理中的登录管理面",
                    "登录管理面",
                    "介绍如何通过浏览器登录管理面。",
                    "当前PC和管理面的客户端登录IP地址之间的网络连接正常。",
                    "已获取当前登录用户的密码。",
                    "若开启了用户的双因素认证，还需获取短消息验证码或者邮箱验证码。",
                    "PC操作系统及浏览器版本需要满足以下要求，具体请参见表15-1。",
                    "系统提供以下缺省角色。",
                    "缺省角色不可删除，并且其权限由系统提供，不可修改。",
                    "各角色权限的关系如图15-1所示。",
                    "Administrators：拥有用户管理、查询安全日志、查询个人安全日志和查看在线用户之外的所有权限。",
                    "安全管理员组：拥有用户管理、查询安全日志和查看在线用户的权限。",
                    "操作员组：拥有执行备份恢复、部署、监控、维护、系统设置、告警、异地容灾系统等操作的权限。",
                    "监控员组：拥有观察备份恢复、部署、监控、维护、系统设置、告警、异地容灾系统等操作的权限，无操作权限。",
                    "各角色权限关系",
                    "管理面提供了系统管理员用户，拥有管理面界面的所有操作权限，同时属于“Administrators”和“安全管理员组”两个角色。",
                    "该用户的初始密码在安装管理面时由用户配置，为保障管理面的安全，请及时修改密码，定期更新并妥善保管密码。",
                    "您可以根据业务需要创建其他操作权限的用户。",
                    "系统管理员具有对整个系统和所有管理对象的最高权限，使用该用户操作务必谨慎，禁止做任何影响系统安全性的操作，例如共享或扩散系统管理员用户的用户名和密码。",
                    "系统管理员用户在10分钟内连续输入错误密码5次，登录IP地址会被锁定10分钟。",
                    "若10分钟内连续有3个帐号在某客户端IP地址登录时被锁定，则此客户端IP地址被锁定30分钟。",
                    "某用户客户端IP地址的登录情况达到“系统 > 安全管理 > 用户策略”中“帐号策略”页面针对IP地址锁定所设置的约束时，缺省情况下该用户客户端IP地址被锁定30分钟。",
                    "本地用户登录情况当达到“系统 > 安全管理 > 用户策略”中“帐号策略”页面针对帐号锁定所设置的约束时，缺省情况下帐号会被锁定30分钟。",
                    "本地用户和远端用户当达到“系统 > 安全管理 > 用户管理”中的“用户”页面设置的会话自动注销等待时间未做任何操作时，用户将被自动注销。",
                    "三方系统接入用户缺省值为30分钟且不可设置。",
                    "用户可在帐号自动解锁后再次登录系统。",
                    "本地用户还可以通过联系安全管理员解锁帐号后再登录。",
                    "建议您请勿同时打开超过10个管理面客户端，否则系统开销过大会导致性能下降。",
                    "启动浏览器，在地址栏中输入“https://管理面的客户端登录IP地址:31945”，按“Enter”。",
                    "如果浏览器提示连接不安全，请先设置浏览器参数，具体操作请参见。",
                    "如果管理面的客户端登录IP地址为IPv6类型，地址栏访问格式为“https://[fe80::c0a8:6400]:31945”。",
                    "如果管理面的部署模式是集群模式，即存在多个管理节点，请使用管理节点浮动IP地址进行登录。",
                    "在登录页面，输入用户名和密码，单击“登录”。",
                    "登录后如果需要修改密码，请妥善保存修改后的密码。",
                    "若是系统管理员用户的密码丢失，只能重装CloudSOP配置密码。",
                    "为了安全起见，建议不要设置浏览器记住密码。",
                    "如果当前系统开启了RADIUS远端认证，且支持的认证方式为“Two-factor”，远端用户的登录密码不是用户的个人帐户密码，而是由PIN和token code组成：",
                    "PIN为静态密码字符串，为4~8位数字或字母，初始值需要从RADIUS服务器提供方获取，用户在首次登录时重新设置PIN。",
                    "token code由RSA SecurID硬件设备定时生成，为6位数字，RSA SecurID硬件设备需要从RADIUS服务器提供方获取。",
                    "如果开启了用户的双因素认证，输入获取的验证码，单击“登录”。",
                    "开启用户的双因素认证之后，如果连续发送验证码5次未使用，获取验证码功能将被锁定，请根据界面提示重试登录或者关闭双因素认证，关闭双因素认证具体操作请参见；",
                    "如果验证码发送失败，请联系管理员在“系统 > 系统设置 > 远程通知”页面中检查短信网关设置或者邮箱设置是否配置正确。",
                    "----结束"
                ]
            },
            {
                "title": "## 登录运维面",
                "org_context": [
                    "<notice>故障处理中的登录运维面</notice>",
                    "介绍如何通过浏览器登录运维面。",
                    "前提条件",
                    "当前PC和运维面的客户端登录IP地址之间的网络连接正常，且运维面服务运行正常。",
                    "已获取待登录用户的用户名和密码。",
                    "背景信息",
                    "PC操作系统及浏览器版本需要满足以下要求。",
                    "配置要求",
                    "|软件类型|要求|\n|----|----|\n|操作系统|支持Windows 10及以上版本|\n|浏览器|Chrome 79及以上版本<br>Firefox 76及以上版本<br>Firefox ESR 68及以上版本<br>Edge Chromium|\n|分辨率|笔记本、PC支持1366 x 768或更高，推荐使用最优分辨率为1920 x 1080|",
                    "系统管理员可管理系统所有的资源并具有所有的操作权限。",
                    "系统管理员在10分钟内连续输入错误密码5次，登录IP地址会被锁定10分钟。",
                    "若10分钟内连续有3个帐号在某IP地址登录时被锁定，则此IP地址被锁定30分钟。",
                    "某IP地址的登录情况达到“帐号策略”中针对IP地址锁定所设置的约束时，该登录IP地址被锁定。",
                    "本地用户登录情况达到“帐号策略”中针对帐号锁定所设置的约束时，缺省情况下帐号会被锁定30分钟。",
                    "用户可在帐号自动解锁后再次登录系统。",
                    "本地用户还可以通过联系安全管理员解锁帐号后再登录。",
                    "操作步骤",
                    "启动浏览器，在地址栏中输入“https://运维面的客户端登录IP地址:31943”，按“Enter”。",
                    "如果浏览器提示连接不安全，请设置浏览器参数，具体操作请参见15.5 设置浏览器信任证书。",
                    "如果运维面的客户端登录IP地址为IPv6类型，地址栏访问格式为“https://[fe80::c0a8:6400]:31943”。",
                    "单节点，运维面的客户端登录IP地址是指HRS服务下hiroer进程所在节点的接入IP地址。",
                    "集群场景，运维面的客户端登录IP地址是指HRS服务下正在运行的hiroer进程所在节点的浮动IP地址。",
                    "获取服务所在节点的IP地址的方法请参考15.7 查找进程或服务所在节点的管理IP地址。",
                    "在登录页面，输入用户名和密码，单击“登录”。",
                    "登录后如果需要修改密码，请妥善保存修改后的密码，系统管理员的密码一旦丢失只能通过重装系统恢复初始密码。",
                    "为了安全起见，建议不要设置浏览器记住密码。",
                    "如果当前系统开启了远端认证，且支持的认证方式为“Two-factor”，远端用户的登录“密码”不是用户的个人帐户密码，而是由PIN和token code组成：",
                    "PIN为静态密码字符串，为4~8位数字或字母，初始值需要从RADIUS服务器提供方获取，用户在首次登录时重新设置PIN。",
                    "token code由RSA SecurID硬件设备定时生成，为6位数字，RSA SecurID硬件设备需要从RADIUS服务器提供方获取。",
                    "可选: 如果用户开启了“双因素认证”，还需要获取验证码并输入获取的验证码，单击“登录”。",
                    "单击“切换其他帐号”，可以返回登录界面，使用其他帐号登录。",
                    "----结束",
                    "",
                    ""
                ],
                "subsections": [],
                "embed_context": [
                    "故障处理中的登录运维面",
                    "登录运维面",
                    "介绍如何通过浏览器登录运维面。",
                    "当前PC和运维面的客户端登录IP地址之间的网络连接正常，且运维面服务运行正常。",
                    "已获取待登录用户的用户名和密码。",
                    "PC操作系统及浏览器版本需要满足以下要求。",
                    "系统管理员可管理系统所有的资源并具有所有的操作权限。",
                    "系统管理员在10分钟内连续输入错误密码5次，登录IP地址会被锁定10分钟。",
                    "若10分钟内连续有3个帐号在某IP地址登录时被锁定，则此IP地址被锁定30分钟。",
                    "某IP地址的登录情况达到“帐号策略”中针对IP地址锁定所设置的约束时，该登录IP地址被锁定。",
                    "本地用户登录情况达到“帐号策略”中针对帐号锁定所设置的约束时，缺省情况下帐号会被锁定30分钟。",
                    "用户可在帐号自动解锁后再次登录系统。",
                    "本地用户还可以通过联系安全管理员解锁帐号后再登录。",
                    "启动浏览器，在地址栏中输入“https://运维面的客户端登录IP地址:31943”，按“Enter”。",
                    "如果浏览器提示连接不安全，请设置浏览器参数，具体操作请参见15.5 设置浏览器信任证书。",
                    "如果运维面的客户端登录IP地址为IPv6类型，地址栏访问格式为“https://[fe80::c0a8:6400]:31943”。",
                    "单节点，运维面的客户端登录IP地址是指HRS服务下hiroer进程所在节点的接入IP地址。",
                    "集群场景，运维面的客户端登录IP地址是指HRS服务下正在运行的hiroer进程所在节点的浮动IP地址。",
                    "获取服务所在节点的IP地址的方法请参考15.7 查找进程或服务所在节点的管理IP地址。",
                    "在登录页面，输入用户名和密码，单击“登录”。",
                    "登录后如果需要修改密码，请妥善保存修改后的密码，系统管理员的密码一旦丢失只能通过重装系统恢复初始密码。",
                    "为了安全起见，建议不要设置浏览器记住密码。",
                    "如果当前系统开启了远端认证，且支持的认证方式为“Two-factor”，远端用户的登录“密码”不是用户的个人帐户密码，而是由PIN和token code组成：",
                    "PIN为静态密码字符串，为4~8位数字或字母，初始值需要从RADIUS服务器提供方获取，用户在首次登录时重新设置PIN。",
                    "token code由RSA SecurID硬件设备定时生成，为6位数字，RSA SecurID硬件设备需要从RADIUS服务器提供方获取。",
                    "可选: 如果用户开启了“双因素认证”，还需要获取验证码并输入获取的验证码，单击“登录”。",
                    "单击“切换其他帐号”，可以返回登录界面，使用其他帐号登录。",
                    "----结束"
                ]
            },
            {
                "title": "## 使用PuTTY登录服务器",
                "org_context": [
                    "<notice>故障处理中的使用PuTTY登录服务器</notice>",
                    "操作系统安装完成后，可以使用PuTTY工具以SSH方式登录服务器。",
                    "请使用0.75及以上版本的PuTTY工具。",
                    "前提条件",
                    "已从网站获取最新版本的PuTTY工具至PC并安装。",
                    "操作步骤",
                    "以下以PuTTY 0.75版本为例。",
                    "运行PuTTY工具，单击“Session”。",
                    "在“Host Name (or IP address)”中，输入需要登录的节点IP地址。",
                    "请使用节点的固定IP地址登录，不要使用浮动IP地址登录，防止浮动IP地址异常时，SSH连接中断。",
                    "在“Connection type”区域框中选择“SSH”。",
                    "在“Close window on exit”区域框中选择“Only on clean exit”。",
                    "在左侧导航中选择“Window > Translation”。",
                    "在“Remote character set”区域框中选择编码格式为“UTF-8”。",
                    "单击“Open”。",
                    "首次打开时，在弹出的“PuTTY Security Alert”对话框中，单击“Accept”。",
                    "当提示以下信息时，输入用户名，按“Enter”。",
                    "login as:",
                    "操作系统安全加固后，只能以具有SSH权限的用户（例如sopuser）登录节点。",
                    "当提示以下信息时，输入用户密码，按“Enter”。",
                    "用户名@IP地址's password:",
                    "为保障系统的安全，请及时修改用户的密码，定期更新并妥善保管密码。",
                    "----结束",
                    "",
                    ""
                ],
                "subsections": [],
                "embed_context": [
                    "故障处理中的使用PuTTY登录服务器",
                    "使用PuTTY登录服务器",
                    "操作系统安装完成后，可以使用PuTTY工具以SSH方式登录服务器。",
                    "请使用0.75及以上版本的PuTTY工具。",
                    "已从网站获取最新版本的PuTTY工具至PC并安装。",
                    "以下以PuTTY 0.75版本为例。",
                    "运行PuTTY工具，单击“Session”。",
                    "在“Host Name (or IP address)”中，输入需要登录的节点IP地址。",
                    "请使用节点的固定IP地址登录，不要使用浮动IP地址登录，防止浮动IP地址异常时，SSH连接中断。",
                    "在“Connection type”区域框中选择“SSH”。",
                    "在“Close window on exit”区域框中选择“Only on clean exit”。",
                    "在左侧导航中选择“Window > Translation”。",
                    "在“Remote character set”区域框中选择编码格式为“UTF-8”。",
                    "单击“Open”。",
                    "首次打开时，在弹出的“PuTTY Security Alert”对话框中，单击“Accept”。",
                    "当提示以下信息时，输入用户名，按“Enter”。",
                    "login as:",
                    "操作系统安全加固后，只能以具有SSH权限的用户（例如sopuser）登录节点。",
                    "当提示以下信息时，输入用户密码，按“Enter”。",
                    "用户名@IP地址's password:",
                    "为保障系统的安全，请及时修改用户的密码，定期更新并妥善保管密码。",
                    "----结束"
                ]
            },
            {
                "title": "## 使用FileZilla传输文件",
                "org_context": [
                    "<notice>故障处理中的使用FileZilla传输文件</notice>",
                    "本节描述如何通过FileZilla工具传输文件。",
                    "以FileZilla ‌3.58.0版本为例介绍。",
                    "前提条件",
                    "已从网站获取最新版本的FileZilla工具至PC并安装。",
                    "请获取3.58.0及以上版本的FileZilla工具。",
                    "操作步骤",
                    "运行FileZilla工具。",
                    "在页面上方，参考表15-3输入相关参数值。",
                    "",
                    "",
                    "参数说明",
                    "|参数|说明|\n|----|----|\n|主机|输入服务器的IP地址|\n|用户名|输入服务器的用户名和密码，该用户需有目标路径的访问权限。<br>说明<br>操作系统安全加固后，无法以root用户通过SFTP方式连接服务器，只能以具有SFTP访问权限的用户（例如sopuser）连接服务器。|\n|密码|输入服务器的用户名和密码，该用户需有目标路径的访问权限。<br>说明<br>操作系统安全加固后，无法以root用户通过SFTP方式连接服务器，只能以具有SFTP访问权限的用户（例如sopuser）连接服务器。|\n|端口|22|",
                    "单击“快速连接”。",
                    "在“未定义的快捷键”的对话框中，选中“总是信任该主机，并将该密钥加入缓存”复选框，单击“确定”。",
                    "在“远程站点”区域，设置要上传或下载文件所在的目标路径。",
                    "路径设置完毕后，“远程站点”区域会显示该路径下的所有文件。",
                    "在“本地站点”区域，设置要上传或下载的文件在PC上的路径。",
                    "路径设置完毕后，“本地站点”区域会显示该路径下的所有文件。",
                    "根据实际需要选择相应操作。",
                    "|目的|操作|\n|----|----|\n|上传文件|在“本地站点”区域，右键选择在PC上需要上传的文件，单击“上传”。|\n|下载文件|在“远程站点”区域，右键选择需要下载到PC的文件，单击“下载”。|",
                    "您可以选择“成功的传输”或“传输失败”页签，查看文件上传情况。",
                    "如果上传或下载失败，可以在“FileZilla”窗口的左下方单击“传输失败”页签，右键选择传输失败的文件后，在弹出的快捷菜单中选择“重置并重新请求所选的文件”，恢复文件传输。",
                    "----结束",
                    "相关任务",
                    "登录节点的用户只能为sopuser。",
                    "由于“<临时目录>”目录可能存在空间有限或者系统定时清理临时文件的风险，建议一天内完成上传下载操作。",
                    "若未完成操作时发现文件丢失可能被系统自动定时清理，建议重新上传。",
                    "操作完成后，需删除上传至“<临时目录>”目录的文件，避免文件被盗取的安全风险。",
                    "使用FileZilla工具上传本地文件至节点的目标目录。",
                    "例如：从本地上传“aaa.txt”文件至A节点的“<临时目录>”目录。",
                    "使用FileZilla工具以sopuser用户通过SFTP方式将“aaa.txt”文件上传至A节点的“<临时目录>”目录。",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录A节点，具体操作请参见。",
                    "待完成上传文件的相关操作后，执行以下命令，删除“<临时目录>”目录的“aaa.txt”文件。",
                    "> cd <临时目录>",
                    "> rm -f aaa.txt",
                    "使用FileZilla工具从节点的源目录下载文件至本地。",
                    "例如：从A节点的“<临时目录>”目录下载“aaa.txt”文件至本地。",
                    "使用FileZilla工具以sopuser用户通过SFTP方式将“aaa.txt”文件从A节点的“<临时目录>”目录下载至本地。",
                    "待完成下载文件的相关操作后，执行以下命令，删除“<临时目录>”目录的“aaa.txt”文件。",
                    "> cd <临时目录>",
                    "> rm -f aaa.txt",
                    "",
                    ""
                ],
                "subsections": [],
                "embed_context": [
                    "故障处理中的使用FileZilla传输文件",
                    "使用FileZilla传输文件",
                    "本节描述如何通过FileZilla工具传输文件。",
                    "以FileZilla ‌3.58.0版本为例介绍。",
                    "已从网站获取最新版本的FileZilla工具至PC并安装。",
                    "请获取3.58.0及以上版本的FileZilla工具。",
                    "运行FileZilla工具。",
                    "在页面上方，参考表15-3输入相关参数值。",
                    "单击“快速连接”。",
                    "在“未定义的快捷键”的对话框中，选中“总是信任该主机，并将该密钥加入缓存”复选框，单击“确定”。",
                    "在“远程站点”区域，设置要上传或下载文件所在的目标路径。",
                    "路径设置完毕后，“远程站点”区域会显示该路径下的所有文件。",
                    "在“本地站点”区域，设置要上传或下载的文件在PC上的路径。",
                    "路径设置完毕后，“本地站点”区域会显示该路径下的所有文件。",
                    "根据实际需要选择相应操作。",
                    "您可以选择“成功的传输”或“传输失败”页签，查看文件上传情况。",
                    "如果上传或下载失败，可以在“FileZilla”窗口的左下方单击“传输失败”页签，右键选择传输失败的文件后，在弹出的快捷菜单中选择“重置并重新请求所选的文件”，恢复文件传输。",
                    "----结束",
                    "登录节点的用户只能为sopuser。",
                    "由于“<临时目录>”目录可能存在空间有限或者系统定时清理临时文件的风险，建议一天内完成上传下载操作。",
                    "若未完成操作时发现文件丢失可能被系统自动定时清理，建议重新上传。",
                    "操作完成后，需删除上传至“<临时目录>”目录的文件，避免文件被盗取的安全风险。",
                    "使用FileZilla工具上传本地文件至节点的目标目录。",
                    "例如：从本地上传“aaa.txt”文件至A节点的“<临时目录>”目录。",
                    "使用FileZilla工具以sopuser用户通过SFTP方式将“aaa.txt”文件上传至A节点的“<临时目录>”目录。",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录A节点，具体操作请参见。",
                    "待完成上传文件的相关操作后，执行以下命令，删除“<临时目录>”目录的“aaa.txt”文件。",
                    "> cd <临时目录>",
                    "> rm -f aaa.txt",
                    "使用FileZilla工具从节点的源目录下载文件至本地。",
                    "例如：从A节点的“<临时目录>”目录下载“aaa.txt”文件至本地。",
                    "使用FileZilla工具以sopuser用户通过SFTP方式将“aaa.txt”文件从A节点的“<临时目录>”目录下载至本地。",
                    "待完成下载文件的相关操作后，执行以下命令，删除“<临时目录>”目录的“aaa.txt”文件。",
                    "> cd <临时目录>",
                    "> rm -f aaa.txt"
                ]
            },
            {
                "title": "## 设置浏览器信任证书",
                "org_context": [
                    "<notice>故障处理中的设置浏览器信任证书</notice>",
                    "当浏览器提示存在安全风险时，请参照本章节操作将证书添加到浏览器信任列表中。",
                    "对于异地容灾场景，访问主用站点和备用站点的浏览器所添加的证书需相同。"
                ],
                "subsections": [
                    {
                        "title": "### 向Firefox浏览器信任列表添加信任证书",
                        "org_context": [
                            "<notice>故障处理中的向Firefox浏览器信任列表添加信任证书</notice>",
                            "当管理面或业务面的ER证书不在浏览器信任列表中，通过浏览器登录管理面或业务面时，浏览器会提示类似“您的连接并不安全”的消息，请按照本章节进行导入证书操作。",
                            "浏览器不同版本的界面词可能有差异，以实际浏览器版本的界面词为准。",
                            "前提条件",
                            "已获取信任证书（一般扩展名为“.cer”）至PC，包括根证书和中级证书，可参考如下步骤获取：",
                            "在管理面主菜单中选择“系统 > 证书&密钥 > 证书管理”。",
                            "在“证书管理”页面，单击管理面或对应产品的ER证书卡片。",
                            "单击“导出信任链”，可导出包含根证书和中级证书的服务器端证书信任链。",
                            "操作步骤",
                            "单击Firefox浏览器右上角的。",
                            "单击“选项”。",
                            "在左侧选择“隐私与安全”，在右侧的“证书”区域中单击“查看证书”。",
                            "在“证书管理器”对话框中，选择“证书颁发机构”页签。",
                            "单击“导入”，选择根证书。",
                            "在“下载证书”对话框中选择“信任由此证书颁发机构来标识网站。",
                            "”，单击“确定”。",
                            "参见～，导入中级证书。",
                            "在“证书管理器”对话框中，单击“确定”。",
                            "导入证书成功后，如果是使用域名方式登录管理面或业务面，需配置域名与IP地址的映射关系，具体操作请参见，否则跳过本步骤。",
                            "重启Firefox浏览器，再登录管理面或业务面。",
                            "当Firefox浏览器不出现类似“您的连接并不安全”提示，说明信任证书导入成功，否则请联系华为技术支持工程师。",
                            "----结束"
                        ],
                        "subsections": [],
                        "embed_context": [
                            "故障处理中的向Firefox浏览器信任列表添加信任证书",
                            "向Firefox浏览器信任列表添加信任证书",
                            "当管理面或业务面的ER证书不在浏览器信任列表中，通过浏览器登录管理面或业务面时，浏览器会提示类似“您的连接并不安全”的消息，请按照本章节进行导入证书操作。",
                            "浏览器不同版本的界面词可能有差异，以实际浏览器版本的界面词为准。",
                            "已获取信任证书（一般扩展名为“.cer”）至PC，包括根证书和中级证书，可参考如下步骤获取：",
                            "在管理面主菜单中选择“系统 > 证书&密钥 > 证书管理”。",
                            "在“证书管理”页面，单击管理面或对应产品的ER证书卡片。",
                            "单击“导出信任链”，可导出包含根证书和中级证书的服务器端证书信任链。",
                            "单击Firefox浏览器右上角的。",
                            "单击“选项”。",
                            "在左侧选择“隐私与安全”，在右侧的“证书”区域中单击“查看证书”。",
                            "在“证书管理器”对话框中，选择“证书颁发机构”页签。",
                            "单击“导入”，选择根证书。",
                            "在“下载证书”对话框中选择“信任由此证书颁发机构来标识网站。",
                            "”，单击“确定”。",
                            "参见～，导入中级证书。",
                            "在“证书管理器”对话框中，单击“确定”。",
                            "导入证书成功后，如果是使用域名方式登录管理面或业务面，需配置域名与IP地址的映射关系，具体操作请参见，否则跳过本步骤。",
                            "重启Firefox浏览器，再登录管理面或业务面。",
                            "当Firefox浏览器不出现类似“您的连接并不安全”提示，说明信任证书导入成功，否则请联系华为技术支持工程师。",
                            "----结束"
                        ]
                    },
                    {
                        "title": "### 向Chrome浏览器信任列表添加信任证书",
                        "org_context": [
                            "<notice>故障处理中的向Chrome浏览器信任列表添加信任证书</notice>",
                            "当管理面或业务面的ER证书不在浏览器信任列表中，通过浏览器登录管理面或业务面时，浏览器会提示类似安全证书有问题或者不受信任等信息，请按照本章节操作导入证书。",
                            "浏览器不同版本的界面词可能有差异，以实际浏览器版本的界面词为准。",
                            "前提条件",
                            "已获取信任证书（一般扩展名为“.cer”）至PC，包括根证书和中级证书，可参考如下步骤获取：",
                            "在管理面主菜单中选择“系统 > 证书&密钥 > 证书管理”。",
                            "在“证书管理”页面，单击管理面或对应产品的ER证书卡片。",
                            "单击“导出信任链”，可导出包含根证书和中级证书的服务器端证书信任链。",
                            "操作步骤",
                            "在PC上双击已获取的信任证书。",
                            "在“证书”对话框的“常规”页签中，单击“安装证书”。",
                            "在“证书导入向导”对话框中，单击“下一步”。",
                            "在“证书导入向导”对话框中，选择“将所有的证书放入下列存储”，单击“浏览”。",
                            "在“选择证书存储”对话框中，选择“受信任的根证书颁发机构”，单击“确定”。",
                            "在“证书导入向导”对话框中，单击“下一步”，然后单击“完成”。",
                            "对于根证书，在阅读“安全性警告”对话框中的信息了解风险后，单击“是”。",
                            "在“证书导入向导”对话框中提示导入成功，单击“确定”。",
                            "在“证书”对话框中，单击“确定”。",
                            "参考以上操作，导入所有信任证书。",
                            "导入证书成功后，如果是使用域名方式登录管理面或业务面，需配置域名与IP地址的映射关系，具体操作请参见，否则跳过本步骤。",
                            "重启浏览器，登录管理面或业务面。",
                            "若浏览器未提示类似安全证书有问题或者不受信任等信息，说明信任证书导入成功，否则请联系华为技术支持工程师。",
                            "----结束",
                            "",
                            ""
                        ],
                        "subsections": [],
                        "embed_context": [
                            "故障处理中的向Chrome浏览器信任列表添加信任证书",
                            "向Chrome浏览器信任列表添加信任证书",
                            "当管理面或业务面的ER证书不在浏览器信任列表中，通过浏览器登录管理面或业务面时，浏览器会提示类似安全证书有问题或者不受信任等信息，请按照本章节操作导入证书。",
                            "浏览器不同版本的界面词可能有差异，以实际浏览器版本的界面词为准。",
                            "已获取信任证书（一般扩展名为“.cer”）至PC，包括根证书和中级证书，可参考如下步骤获取：",
                            "在管理面主菜单中选择“系统 > 证书&密钥 > 证书管理”。",
                            "在“证书管理”页面，单击管理面或对应产品的ER证书卡片。",
                            "单击“导出信任链”，可导出包含根证书和中级证书的服务器端证书信任链。",
                            "在PC上双击已获取的信任证书。",
                            "在“证书”对话框的“常规”页签中，单击“安装证书”。",
                            "在“证书导入向导”对话框中，单击“下一步”。",
                            "在“证书导入向导”对话框中，选择“将所有的证书放入下列存储”，单击“浏览”。",
                            "在“选择证书存储”对话框中，选择“受信任的根证书颁发机构”，单击“确定”。",
                            "在“证书导入向导”对话框中，单击“下一步”，然后单击“完成”。",
                            "对于根证书，在阅读“安全性警告”对话框中的信息了解风险后，单击“是”。",
                            "在“证书导入向导”对话框中提示导入成功，单击“确定”。",
                            "在“证书”对话框中，单击“确定”。",
                            "参考以上操作，导入所有信任证书。",
                            "导入证书成功后，如果是使用域名方式登录管理面或业务面，需配置域名与IP地址的映射关系，具体操作请参见，否则跳过本步骤。",
                            "重启浏览器，登录管理面或业务面。",
                            "若浏览器未提示类似安全证书有问题或者不受信任等信息，说明信任证书导入成功，否则请联系华为技术支持工程师。",
                            "----结束"
                        ]
                    }
                ],
                "embed_context": [
                    "故障处理中的设置浏览器信任证书",
                    "设置浏览器信任证书",
                    "当浏览器提示存在安全风险时，请参照本章节操作将证书添加到浏览器信任列表中。",
                    "对于异地容灾场景，访问主用站点和备用站点的浏览器所添加的证书需相同。"
                ]
            },
            {
                "title": "## 查找节点对应的管理IP地址",
                "org_context": [
                    "<notice>故障处理中的查找节点对应的管理IP地址</notice>",
                    "在运维或维护过程中，需要提前获取节点的管理IP地址登录对应的节点。",
                    "前提条件",
                    "已获取服务所在节点的节点名称。",
                    "操作步骤",
                    "启动浏览器，在地址栏中输入“https://管理面的客户端登录IP地址:31945”，按“Enter”。",
                    "如果管理面的部署模式是集群模式，即存在多个管理节点，请使用管理节点浮动IP地址进行登录。",
                    "在登录页面，输入用户名和密码，单击“登录”。",
                    "在管理面主菜单中选择“维护 > 运维管理 > 全景监控”。",
                    "在左侧导航树中选择“节点监控”。",
                    "在“节点监控”页面左上方选择对应的产品或CloudSOP-UniEP。",
                    "在“节点列表”区域中，查看并记录节点名称所在行的“节点IP地址”，该IP地址为节点的管理IP地址。",
                    "登录节点，具体操作请参见。",
                    "----结束",
                    "",
                    ""
                ],
                "subsections": [],
                "embed_context": [
                    "故障处理中的查找节点对应的管理IP地址",
                    "查找节点对应的管理IP地址",
                    "在运维或维护过程中，需要提前获取节点的管理IP地址登录对应的节点。",
                    "已获取服务所在节点的节点名称。",
                    "启动浏览器，在地址栏中输入“https://管理面的客户端登录IP地址:31945”，按“Enter”。",
                    "如果管理面的部署模式是集群模式，即存在多个管理节点，请使用管理节点浮动IP地址进行登录。",
                    "在登录页面，输入用户名和密码，单击“登录”。",
                    "在管理面主菜单中选择“维护 > 运维管理 > 全景监控”。",
                    "在左侧导航树中选择“节点监控”。",
                    "在“节点监控”页面左上方选择对应的产品或CloudSOP-UniEP。",
                    "在“节点列表”区域中，查看并记录节点名称所在行的“节点IP地址”，该IP地址为节点的管理IP地址。",
                    "登录节点，具体操作请参见。",
                    "----结束"
                ]
            },
            {
                "title": "## 查找进程或服务所在节点的管理IP地址",
                "org_context": [
                    "<notice>故障处理中的查找进程或服务所在节点的管理IP地址</notice>",
                    "在运维或维护过程中，需要提前获取进程或服务所在节点的管理IP地址登录对应的节点。",
                    "背景信息",
                    "一个服务可能对应一个或多个服务实例，一个服务实例包含一个或多个进程，各个进程可能部署在相同或不同的节点上。",
                    "以下以febservice进程及FEBS服务为例，介绍查找进程或服务所在节点的管理IP地址的方法。",
                    "操作步骤",
                    "启动浏览器，在地址栏中输入“https://管理面的客户端登录IP地址:31945”，按“Enter”。",
                    "如果管理面的部署模式是集群模式，即存在多个管理节点，请使用管理节点浮动IP地址进行登录。",
                    "在登录页面，输入用户名和密码，单击“登录”。",
                    "在管理面主菜单中选择“维护 > 运维管理 > 全景监控”。",
                    "在左侧导航树中选择“服务监控”。",
                    "在“服务监控”页面左上方选择对应的产品或CloudSOP-UniEP。",
                    "查找进程或服务。",
                    "查找进程：选择“进程”页签，在搜索框中输入进程名称“febservice”，按“Enter”，表格中显示当前产品中所有的“febservice”进程实例，执行。",
                    "查找服务：选择“服务”页签，在搜索框中输入服务名称“FEBS”，按“Enter”，表格中显示当前产品中所有的“FEBS”服务实例，执行。",
                    "单击服务实例名称，进入服务详情页面。",
                    "如果有多个服务实例，请逐个单击查找。",
                    "在服务实例的下方详情区域，单击“进程”页签。",
                    "单击节点名称，在节点详情页面的上方即可看到该节点的管理IP地址。",
                    "登录节点，具体操作请参见。",
                    "----结束",
                    "",
                    ""
                ],
                "subsections": [],
                "embed_context": [
                    "故障处理中的查找进程或服务所在节点的管理IP地址",
                    "查找进程或服务所在节点的管理IP地址",
                    "在运维或维护过程中，需要提前获取进程或服务所在节点的管理IP地址登录对应的节点。",
                    "一个服务可能对应一个或多个服务实例，一个服务实例包含一个或多个进程，各个进程可能部署在相同或不同的节点上。",
                    "以下以febservice进程及FEBS服务为例，介绍查找进程或服务所在节点的管理IP地址的方法。",
                    "启动浏览器，在地址栏中输入“https://管理面的客户端登录IP地址:31945”，按“Enter”。",
                    "如果管理面的部署模式是集群模式，即存在多个管理节点，请使用管理节点浮动IP地址进行登录。",
                    "在登录页面，输入用户名和密码，单击“登录”。",
                    "在管理面主菜单中选择“维护 > 运维管理 > 全景监控”。",
                    "在左侧导航树中选择“服务监控”。",
                    "在“服务监控”页面左上方选择对应的产品或CloudSOP-UniEP。",
                    "查找进程或服务。",
                    "查找进程：选择“进程”页签，在搜索框中输入进程名称“febservice”，按“Enter”，表格中显示当前产品中所有的“febservice”进程实例，执行。",
                    "查找服务：选择“服务”页签，在搜索框中输入服务名称“FEBS”，按“Enter”，表格中显示当前产品中所有的“FEBS”服务实例，执行。",
                    "单击服务实例名称，进入服务详情页面。",
                    "如果有多个服务实例，请逐个单击查找。",
                    "在服务实例的下方详情区域，单击“进程”页签。",
                    "单击节点名称，在节点详情页面的上方即可看到该节点的管理IP地址。",
                    "登录节点，具体操作请参见。",
                    "----结束"
                ]
            },
            {
                "title": "## 查找数据库实例所在节点的管理IP地址",
                "org_context": [
                    "<notice>故障处理中的查找数据库实例所在节点的管理IP地址</notice>",
                    "在运维或维护过程中，需要提前获取数据库实例所在节点的管理IP地址登录对应的节点。",
                    "操作步骤",
                    "启动浏览器，在地址栏中输入“https://管理面的客户端登录IP地址:31945”，按“Enter”。",
                    "如果管理面的部署模式是集群模式，即存在多个管理节点，请使用管理节点浮动IP地址进行登录。",
                    "在登录页面，输入用户名和密码，单击“登录”。",
                    "在管理面主菜单中选择“维护 > 运维管理 > 全景监控”。",
                    "在左侧导航树中选择“中间件监控”。",
                    "在“中间件监控”页面左上方选择对应的产品或CloudSOP-UniEP。",
                    "选择“关系数据库”页签或“Redis数据库”页签，在相应页签的表格中，查看数据库实例对应的节点名称。",
                    "单击节点名称，在节点详情页面上方的IP地址即为该节点的管理IP地址。",
                    "登录节点，具体操作请参见。",
                    "----结束",
                    "",
                    ""
                ],
                "subsections": [],
                "embed_context": [
                    "故障处理中的查找数据库实例所在节点的管理IP地址",
                    "查找数据库实例所在节点的管理IP地址",
                    "在运维或维护过程中，需要提前获取数据库实例所在节点的管理IP地址登录对应的节点。",
                    "启动浏览器，在地址栏中输入“https://管理面的客户端登录IP地址:31945”，按“Enter”。",
                    "如果管理面的部署模式是集群模式，即存在多个管理节点，请使用管理节点浮动IP地址进行登录。",
                    "在登录页面，输入用户名和密码，单击“登录”。",
                    "在管理面主菜单中选择“维护 > 运维管理 > 全景监控”。",
                    "在左侧导航树中选择“中间件监控”。",
                    "在“中间件监控”页面左上方选择对应的产品或CloudSOP-UniEP。",
                    "选择“关系数据库”页签或“Redis数据库”页签，在相应页签的表格中，查看数据库实例对应的节点名称。",
                    "单击节点名称，在节点详情页面上方的IP地址即为该节点的管理IP地址。",
                    "登录节点，具体操作请参见。",
                    "----结束"
                ]
            },
            {
                "title": "## 查找管理节点IP地址对应的节点名称",
                "org_context": [
                    "<notice>故障处理中的查找管理节点IP地址对应的节点名称</notice>",
                    "当管理面无法访问时，备份服务器正常时，需要查看管理节点对应的节点名称。",
                    "前提条件",
                    "已获取备份服务器的IP地址、备份服务器用户名及其密码。",
                    "操作步骤",
                    "使用PuTTY工具以备份服务器用户通过SSH方式登录备份服务器，具体操作请参见。",
                    "若使用管理节点作为备份服务器，请使用sopuser用户通过SSH方式登录备份服务器。",
                    "执行以下命令，查看管理节点IP地址的节点名称。",
                    "> cd /备份服务器用户根目录/配置备份参数的路径/management/management/时间戳",
                    "> cat backupNodeNameToIp.txt",
                    "系统回显如下类似信息，可通过管理节点IP地址查看对应的节点名称。",
                    "{node0=10.18.16.148, node1=10.18.16.144, node2=10.18.16.146}",
                    "----结束",
                    "",
                    ""
                ],
                "subsections": [],
                "embed_context": [
                    "故障处理中的查找管理节点IP地址对应的节点名称",
                    "查找管理节点IP地址对应的节点名称",
                    "当管理面无法访问时，备份服务器正常时，需要查看管理节点对应的节点名称。",
                    "已获取备份服务器的IP地址、备份服务器用户名及其密码。",
                    "使用PuTTY工具以备份服务器用户通过SSH方式登录备份服务器，具体操作请参见。",
                    "若使用管理节点作为备份服务器，请使用sopuser用户通过SSH方式登录备份服务器。",
                    "执行以下命令，查看管理节点IP地址的节点名称。",
                    "> cd /备份服务器用户根目录/配置备份参数的路径/management/management/时间戳",
                    "> cat backupNodeNameToIp.txt",
                    "系统回显如下类似信息，可通过管理节点IP地址查看对应的节点名称。",
                    "{node0=10.18.16.148, node1=10.18.16.144, node2=10.18.16.146}",
                    "----结束"
                ]
            },
            {
                "title": "## 登录节点操作系统",
                "org_context": [
                    "<notice>故障处理中的登录节点操作系统</notice>",
                    "根据客户端和节点所处的网络配置情况，提供以下两种方式登录节点操作系统。",
                    "操作步骤",
                    "根据客户端和节点的网络配置差异，登录节点操作系统的操作分为如下两类。",
                    "客户端与目标节点的网络互通。",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录目标节点。",
                    "客户端与管理节点的网络互通，但与目标节点的网络隔离。",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录管理节点。",
                    "如果管理面的部署模式是集群模式，即存在多个管理节点，请使用管理节点浮动IP地址进行登录。",
                    "当启停HyperHAAgent服务、更新ER证书、CA证书、IR证书时不建议使用管理节点的浮动IP地址登录，否则节点的浮动IP地址异常时，SSH连接中断。",
                    "执行以下命令，切换至目标节点。",
                    "ssh 目标节点IP地址",
                    "系统回显如下类似信息时，输入sopuser用户的密码，按“Enter”。",
                    "sopuser@目标节点IP地址's password:",
                    "",
                    ""
                ],
                "subsections": [],
                "embed_context": [
                    "故障处理中的登录节点操作系统",
                    "登录节点操作系统",
                    "根据客户端和节点所处的网络配置情况，提供以下两种方式登录节点操作系统。",
                    "根据客户端和节点的网络配置差异，登录节点操作系统的操作分为如下两类。",
                    "客户端与目标节点的网络互通。",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录目标节点。",
                    "客户端与管理节点的网络互通，但与目标节点的网络隔离。",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录管理节点。",
                    "如果管理面的部署模式是集群模式，即存在多个管理节点，请使用管理节点浮动IP地址进行登录。",
                    "当启停HyperHAAgent服务、更新ER证书、CA证书、IR证书时不建议使用管理节点的浮动IP地址登录，否则节点的浮动IP地址异常时，SSH连接中断。",
                    "执行以下命令，切换至目标节点。",
                    "ssh 目标节点IP地址",
                    "系统回显如下类似信息时，输入sopuser用户的密码，按“Enter”。",
                    "sopuser@目标节点IP地址's password:"
                ]
            },
            {
                "title": "## 查看CloudSOP的部署模式",
                "org_context": [
                    "<notice>故障处理中的查看CloudSOP的部署模式</notice>",
                    "通过查看节点的个数和名称，确认管理面或者产品的部署模式是单机还是集群场景。",
                    "前提条件",
                    "已登录管理面，具体操作请参见。",
                    "操作步骤",
                    "在管理面主菜单中选择“维护 > 运维管理 > 全景监控”。",
                    "在左侧导航树中选择“节点监控”。",
                    "在“节点监控”页面左上方选择对应的产品或CloudSOP-UniEP。",
                    "查看“节点名称”列。",
                    "若只存在一个节点，则为单机场景。",
                    "若存在多个节点，则为集群场景。",
                    "----结束",
                    "",
                    ""
                ],
                "subsections": [],
                "embed_context": [
                    "故障处理中的查看CloudSOP的部署模式",
                    "查看CloudSOP的部署模式",
                    "通过查看节点的个数和名称，确认管理面或者产品的部署模式是单机还是集群场景。",
                    "已登录管理面，具体操作请参见。",
                    "在管理面主菜单中选择“维护 > 运维管理 > 全景监控”。",
                    "在左侧导航树中选择“节点监控”。",
                    "在“节点监控”页面左上方选择对应的产品或CloudSOP-UniEP。",
                    "查看“节点名称”列。",
                    "若只存在一个节点，则为单机场景。",
                    "若存在多个节点，则为集群场景。",
                    "----结束"
                ]
            },
            {
                "title": "## 查看节点的部署模式",
                "org_context": [
                    "<notice>故障处理中的查看节点的部署模式</notice>",
                    "通过查看管理节点和产品节点的IP地址，确认管理节点和产品节点是否为同一个节点。",
                    "前提条件",
                    "已登录管理面，具体操作请参见。",
                    "操作步骤",
                    "查询并记录管理节点的IP地址。",
                    "在管理面主菜单中选择“维护 > 运维管理 > 全景监控”。",
                    "在左侧导航树中选择“节点监控”。",
                    "在“节点监控”页面左上方选择“CloudSOP-UniEP”。",
                    "在“节点列表”区域中，查看并记录管理节点的IP地址。",
                    "如果管理面的部署模式是集群模式，请分别查看并记录所有管理节点的IP地址。",
                    "查询产品节点的IP地址，并确认产品节点和管理节点的IP地址是否一致。",
                    "在“节点监控”页面左上方选择对应的产品。",
                    "在“节点列表”区域中，查看产品节点IP地址是否与中记录的管理节点IP地址相同。",
                    "是，则管理节点和产品节点为同一个节点。",
                    "否，则管理节点和产品节点为不同的节点。",
                    "----结束",
                    "",
                    ""
                ],
                "subsections": [],
                "embed_context": [
                    "故障处理中的查看节点的部署模式",
                    "查看节点的部署模式",
                    "通过查看管理节点和产品节点的IP地址，确认管理节点和产品节点是否为同一个节点。",
                    "已登录管理面，具体操作请参见。",
                    "查询并记录管理节点的IP地址。",
                    "在管理面主菜单中选择“维护 > 运维管理 > 全景监控”。",
                    "在左侧导航树中选择“节点监控”。",
                    "在“节点监控”页面左上方选择“CloudSOP-UniEP”。",
                    "在“节点列表”区域中，查看并记录管理节点的IP地址。",
                    "如果管理面的部署模式是集群模式，请分别查看并记录所有管理节点的IP地址。",
                    "查询产品节点的IP地址，并确认产品节点和管理节点的IP地址是否一致。",
                    "在“节点监控”页面左上方选择对应的产品。",
                    "在“节点列表”区域中，查看产品节点IP地址是否与中记录的管理节点IP地址相同。",
                    "是，则管理节点和产品节点为同一个节点。",
                    "否，则管理节点和产品节点为不同的节点。",
                    "----结束"
                ]
            },
            {
                "title": "## 查看数据库实例的部署模式",
                "org_context": [
                    "<notice>故障处理中的查看数据库实例的部署模式</notice>",
                    "通过查看管理面或者产品的数据库信息，确认管理面或者产品使用的数据库实例是单实例还是主备实例。",
                    "前提条件",
                    "已登录管理面，具体操作请参见。",
                    "操作步骤",
                    "在管理面主菜单中选择“维护 > 运维管理 > 全景监控”。",
                    "在左侧导航树中选择“中间件监控”。",
                    "在“中间件监控”页面左上方选择对应的产品或CloudSOP-UniEP。",
                    "选择“关系数据库”页签，查看数据库实例的角色。",
                    "数据库实例所在行的“角色”为“Master”时，说明数据库的实例为主实例。",
                    "数据库实例所在行的“角色”为“Slave”时，说明数据库的实例为备实例。",
                    "数据库实例所在行的“角色”为“--”时，说明数据库的实例为单实例。",
                    "----结束",
                    "",
                    ""
                ],
                "subsections": [],
                "embed_context": [
                    "故障处理中的查看数据库实例的部署模式",
                    "查看数据库实例的部署模式",
                    "通过查看管理面或者产品的数据库信息，确认管理面或者产品使用的数据库实例是单实例还是主备实例。",
                    "已登录管理面，具体操作请参见。",
                    "在管理面主菜单中选择“维护 > 运维管理 > 全景监控”。",
                    "在左侧导航树中选择“中间件监控”。",
                    "在“中间件监控”页面左上方选择对应的产品或CloudSOP-UniEP。",
                    "选择“关系数据库”页签，查看数据库实例的角色。",
                    "数据库实例所在行的“角色”为“Master”时，说明数据库的实例为主实例。",
                    "数据库实例所在行的“角色”为“Slave”时，说明数据库的实例为备实例。",
                    "数据库实例所在行的“角色”为“--”时，说明数据库的实例为单实例。",
                    "----结束"
                ]
            },
            {
                "title": "## 下载操作系统或数据库日志",
                "org_context": [
                    "<notice>故障处理中的下载操作系统或数据库日志</notice>",
                    "当定位操作系统故障或者数据库故障时，通过命令的方式下载日志到本地。",
                    "采集操作系统日志",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录待查询节点，获取节点的IP地址请参见。",
                    "执行以下命令，切换至root用户。",
                    "> su - root",
                    "Password:root用户的密码",
                    "执行以下命令，创建日志临时存放目录。",
                    "以下操作以目录“log_info”为例，请根据实际情况替换。",
                    "# mkdir <临时目录>/log_info",
                    "执行以下命令，修改日志存放目录的权限。",
                    "# chmod 750 <临时目录>/log_info",
                    "执行以下命令，将操作系统日志复制到临时目录下并设置属组和权限，并退出至sopuser用户。",
                    "# cp /var/log/messages <临时目录>/log_info",
                    "# chmod 640 <临时目录>/log_info/messages",
                    "# chown -R sopuser:sopgroup <临时目录>/log_info",
                    "# exit",
                    "使用FileZilla工具以sopuser用户通过SFTP方式将“<临时目录>/log_info”目录下的操作系统日志文件下载至本地PC的任意路径，具体操作请参见。",
                    "日志下载成功后，需删除临时目录。",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录中的节点。",
                    "执行以下命令，删除临时目录。",
                    "# cd <临时目录>",
                    "# rm -rf log_info",
                    "----结束",
                    "采集Redis数据库日志",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录数据库所在节点，获取数据库所在节点的IP地址请参见。",
                    "执行以下命令，切换至root用户。",
                    "> su - root",
                    "Password:root用户的密码",
                    "执行以下命令，创建日志临时存放目录。",
                    "以下操作以目录“log_info”为例，请根据实际情况替换。",
                    "# mkdir <临时目录>/log_info",
                    "执行以下命令，修改日志临时存放目录的权限。",
                    "# chmod 750 <临时目录>/log_info",
                    "执行以下命令，将数据库日志复制到临时目录下并设置属组和权限。",
                    "# cp /opt/redis/data/数据库实例名称/数据库实例名-login.log <临时目录>/log_info",
                    "# chmod 640 <临时目录>/log_info/数据库实例名-login.log",
                    "# chown -R sopuser:sopgroup <临时目录>/log_info",
                    "# exit",
                    "使用FileZilla工具以sopuser用户通过SFTP方式将“<临时目录>/log_info”目录下的操作系统日志文件下载至本地PC的任意路径，具体操作请参见。",
                    "日志下载成功后，需删除临时目录。",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录数据库所在节点。",
                    "执行以下命令，删除临时目录。",
                    "# cd <临时目录>",
                    "# rm -rf log_info",
                    "----结束",
                    "采集GaussDB数据库日志",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录数据库所在节点，获取数据库所在节点的IP地址请参见。",
                    "执行以下命令，切换至root用户。",
                    "> su - root",
                    "Password:root用户的密码",
                    "执行以下命令，创建日志临时存放目录。",
                    "以下操作以目录“log_info”为例，请根据实际情况替换。",
                    "# mkdir <临时目录>/log_info",
                    "执行以下命令，修改日志临时存放目录的权限。",
                    "# chmod 750 <临时目录>/log_info",
                    "执行以下命令，将数据库日志复制到临时目录下并设置属组和权限。",
                    "# cp -a /opt/zenith/data/数据库实例名称/log/audit <临时目录>/log_info",
                    "# chmod 750 <临时目录>/log_info/audit",
                    "# chmod 640 <临时目录>/log_info/audit/*",
                    "# chown -R sopuser:sopgroup <临时目录>/log_info",
                    "# exit",
                    "使用FileZilla工具以sopuser用户通过SFTP方式将“<临时目录>/log_info”目录下的操作系统日志文件下载至本地PC的任意路径，具体操作请参见。",
                    "日志下载成功后，需删除临时目录。",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录数据库所在节点。",
                    "执行以下命令，需删除临时目录。",
                    "# cd <临时目录>",
                    "# rm -rf log_info",
                    "----结束",
                    "",
                    ""
                ],
                "subsections": [],
                "embed_context": [
                    "故障处理中的下载操作系统或数据库日志",
                    "下载操作系统或数据库日志",
                    "当定位操作系统故障或者数据库故障时，通过命令的方式下载日志到本地。",
                    "采集操作系统日志",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录待查询节点，获取节点的IP地址请参见。",
                    "执行以下命令，切换至root用户。",
                    "> su - root",
                    "Password:root用户的密码",
                    "执行以下命令，创建日志临时存放目录。",
                    "以下操作以目录“log_info”为例，请根据实际情况替换。",
                    "# mkdir <临时目录>/log_info",
                    "执行以下命令，修改日志存放目录的权限。",
                    "# chmod 750 <临时目录>/log_info",
                    "执行以下命令，将操作系统日志复制到临时目录下并设置属组和权限，并退出至sopuser用户。",
                    "# cp /var/log/messages <临时目录>/log_info",
                    "# chmod 640 <临时目录>/log_info/messages",
                    "# chown -R sopuser:sopgroup <临时目录>/log_info",
                    "# exit",
                    "使用FileZilla工具以sopuser用户通过SFTP方式将“<临时目录>/log_info”目录下的操作系统日志文件下载至本地PC的任意路径，具体操作请参见。",
                    "日志下载成功后，需删除临时目录。",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录中的节点。",
                    "执行以下命令，删除临时目录。",
                    "# cd <临时目录>",
                    "# rm -rf log_info",
                    "----结束",
                    "采集Redis数据库日志",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录数据库所在节点，获取数据库所在节点的IP地址请参见。",
                    "执行以下命令，切换至root用户。",
                    "> su - root",
                    "Password:root用户的密码",
                    "执行以下命令，创建日志临时存放目录。",
                    "以下操作以目录“log_info”为例，请根据实际情况替换。",
                    "# mkdir <临时目录>/log_info",
                    "执行以下命令，修改日志临时存放目录的权限。",
                    "# chmod 750 <临时目录>/log_info",
                    "执行以下命令，将数据库日志复制到临时目录下并设置属组和权限。",
                    "# cp /opt/redis/data/数据库实例名称/数据库实例名-login.log <临时目录>/log_info",
                    "# chmod 640 <临时目录>/log_info/数据库实例名-login.log",
                    "# chown -R sopuser:sopgroup <临时目录>/log_info",
                    "# exit",
                    "使用FileZilla工具以sopuser用户通过SFTP方式将“<临时目录>/log_info”目录下的操作系统日志文件下载至本地PC的任意路径，具体操作请参见。",
                    "日志下载成功后，需删除临时目录。",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录数据库所在节点。",
                    "执行以下命令，删除临时目录。",
                    "# cd <临时目录>",
                    "# rm -rf log_info",
                    "----结束",
                    "采集GaussDB数据库日志",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录数据库所在节点，获取数据库所在节点的IP地址请参见。",
                    "执行以下命令，切换至root用户。",
                    "> su - root",
                    "Password:root用户的密码",
                    "执行以下命令，创建日志临时存放目录。",
                    "以下操作以目录“log_info”为例，请根据实际情况替换。",
                    "# mkdir <临时目录>/log_info",
                    "执行以下命令，修改日志临时存放目录的权限。",
                    "# chmod 750 <临时目录>/log_info",
                    "执行以下命令，将数据库日志复制到临时目录下并设置属组和权限。",
                    "# cp -a /opt/zenith/data/数据库实例名称/log/audit <临时目录>/log_info",
                    "# chmod 750 <临时目录>/log_info/audit",
                    "# chmod 640 <临时目录>/log_info/audit/*",
                    "# chown -R sopuser:sopgroup <临时目录>/log_info",
                    "# exit",
                    "使用FileZilla工具以sopuser用户通过SFTP方式将“<临时目录>/log_info”目录下的操作系统日志文件下载至本地PC的任意路径，具体操作请参见。",
                    "日志下载成功后，需删除临时目录。",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录数据库所在节点。",
                    "执行以下命令，需删除临时目录。",
                    "# cd <临时目录>",
                    "# rm -rf log_info",
                    "----结束"
                ]
            },
            {
                "title": "## 启动管理面服务",
                "org_context": [
                    "<notice>故障处理中的启动管理面服务</notice>",
                    "介绍如何通过命令方式启动管理面服务。",
                    "前提条件",
                    "管理面数据库实例处于“正在运行”状态，具体操作请参见15.16 启动管理面数据库。",
                    "已获取管理节点的sopuser和ossadm用户密码。",
                    "通过规划数据获取所有管理节点的IP地址，若管理节点的IP地址已修改，请获取修改后的管理节点的IP地址。",
                    "操作步骤",
                    "管理面的部署模式是单机模式",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录管理节点，具体请参见。",
                    "执行以下命令，切换到ossadm用户。",
                    "> su - ossadm",
                    "Password:ossadm用户的密码",
                    "执行以下命令导入环境变量。",
                    "> source <安装目录>/manager/bin/engr_profile.sh",
                    "执行以下命令，启动HyperHAAgent服务。",
                    "> ipmc_adm -cmd startapp -tenant manager -app HyperHAAgent",
                    "系统提示如下类似回显信息，所有进程都提示“success”，则说明HyperHAAgent服务启动成功，否则请联系华为技术支持工程师。",
                    "Starting process hyperhaagent-7-0 ... success",
                    "执行以下命令，启动所有服务。",
                    "> ipmc_adm -cmd startapp -tenant manager",
                    "系统提示如下类似回显信息，所有进程都提示“success”，则说明该节点所有服务启动成功，否则请联系华为技术支持工程师。",
                    "...",
                    "Starting process user-0-0 ... success",
                    "Starting process cron-0-0 ... success",
                    "...",
                    "----结束",
                    "管理面的部署模式是集群模式",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录任意管理节点，具体请参见。",
                    "执行以下命令，切换到ossadm用户。",
                    "> su - ossadm",
                    "Password:ossadm用户的密码",
                    "执行以下命令，启动HyperHAAgent服务。",
                    "> source <安装目录>/manager/bin/engr_profile.sh",
                    "> ipmc_adm -cmd startapp -tenant manager -app HyperHAAgent",
                    "系统提示如下类似回显信息，所有进程都提示“success”，则说明HyperHAAgent服务启动成功，否则请联系华为技术支持工程师。",
                    "Starting process hyperhaagent-7-0 ... success",
                    "执行以下命令，启动该节点除HyperHAAgent服务外的所有服务。",
                    "> ipmc_adm -cmd startapp -tenant manager",
                    "系统提示如下类似回显信息，所有进程都提示“success”，则说明该节点所有服务启动成功，否则请联系华为技术支持工程师。",
                    "...",
                    "Starting process user-0-0 ... success",
                    "Starting process cron-0-0 ... success",
                    "...",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录其他管理节点，重复~。",
                    "----结束",
                    "",
                    ""
                ],
                "subsections": [],
                "embed_context": [
                    "故障处理中的启动管理面服务",
                    "启动管理面服务",
                    "介绍如何通过命令方式启动管理面服务。",
                    "管理面数据库实例处于“正在运行”状态，具体操作请参见15.16 启动管理面数据库。",
                    "已获取管理节点的sopuser和ossadm用户密码。",
                    "通过规划数据获取所有管理节点的IP地址，若管理节点的IP地址已修改，请获取修改后的管理节点的IP地址。",
                    "管理面的部署模式是单机模式",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录管理节点，具体请参见。",
                    "执行以下命令，切换到ossadm用户。",
                    "> su - ossadm",
                    "Password:ossadm用户的密码",
                    "执行以下命令导入环境变量。",
                    "> source <安装目录>/manager/bin/engr_profile.sh",
                    "执行以下命令，启动HyperHAAgent服务。",
                    "> ipmc_adm -cmd startapp -tenant manager -app HyperHAAgent",
                    "系统提示如下类似回显信息，所有进程都提示“success”，则说明HyperHAAgent服务启动成功，否则请联系华为技术支持工程师。",
                    "Starting process hyperhaagent-7-0 ... success",
                    "执行以下命令，启动所有服务。",
                    "> ipmc_adm -cmd startapp -tenant manager",
                    "系统提示如下类似回显信息，所有进程都提示“success”，则说明该节点所有服务启动成功，否则请联系华为技术支持工程师。",
                    "Starting process user-0-0 ... success",
                    "Starting process cron-0-0 ... success",
                    "----结束",
                    "管理面的部署模式是集群模式",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录任意管理节点，具体请参见。",
                    "执行以下命令，切换到ossadm用户。",
                    "> su - ossadm",
                    "Password:ossadm用户的密码",
                    "执行以下命令，启动HyperHAAgent服务。",
                    "> source <安装目录>/manager/bin/engr_profile.sh",
                    "> ipmc_adm -cmd startapp -tenant manager -app HyperHAAgent",
                    "系统提示如下类似回显信息，所有进程都提示“success”，则说明HyperHAAgent服务启动成功，否则请联系华为技术支持工程师。",
                    "Starting process hyperhaagent-7-0 ... success",
                    "执行以下命令，启动该节点除HyperHAAgent服务外的所有服务。",
                    "> ipmc_adm -cmd startapp -tenant manager",
                    "系统提示如下类似回显信息，所有进程都提示“success”，则说明该节点所有服务启动成功，否则请联系华为技术支持工程师。",
                    "Starting process user-0-0 ... success",
                    "Starting process cron-0-0 ... success",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录其他管理节点，重复~。",
                    "----结束"
                ]
            },
            {
                "title": "## 启动管理面数据库",
                "org_context": [
                    "<notice>故障处理中的启动管理面数据库</notice>",
                    "介绍如何通过命令方式启动管理面数据库。",
                    "前提条件",
                    "已获取管理节点的sopuser和ossadm用户密码。",
                    "通过规划数据获取所有管理节点的IP地址，若管理节点的IP地址已修改，请获取修改后的管理节点的IP地址。",
                    "操作步骤",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录管理节点，具体请参见。",
                    "如果管理面的部署模式是集群场景，请在Management0节点执行启动命令的3分钟内，打开新的PuTTY工具窗口启动Management1节点数据库。",
                    "所有节点启动完成后，再查看各个节点的启动结果，如果启动失败，请联系华为技术支持工程师处理。",
                    "执行以下命令，切换到ossadm用户。",
                    "> su - ossadm",
                    "Password:ossadm用户的密码",
                    "执行以下命令，启动管理面数据库。",
                    "> source <安装目录>/manager/bin/engr_profile.sh",
                    "> ipmc_adm -cmd startdc -tenant manager",
                    "系统提示如下类似回显信息，所有进程都提示“success”，则说明管理面数据库启动成功，否则请联系华为技术支持工程师。",
                    "============================ Starting data container processes...",
                    "Starting redis process woadapterrdb-1-14 ... success",
                    "...",
                    "Starting redis process serviceinspectionrdb-1-3 ... success",
                    "Starting redis process privilegerdb-1-28 ... success",
                    "============================ Starting data container processes is complete.",
                    "----结束",
                    "",
                    ""
                ],
                "subsections": [],
                "embed_context": [
                    "故障处理中的启动管理面数据库",
                    "启动管理面数据库",
                    "介绍如何通过命令方式启动管理面数据库。",
                    "已获取管理节点的sopuser和ossadm用户密码。",
                    "通过规划数据获取所有管理节点的IP地址，若管理节点的IP地址已修改，请获取修改后的管理节点的IP地址。",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录管理节点，具体请参见。",
                    "如果管理面的部署模式是集群场景，请在Management0节点执行启动命令的3分钟内，打开新的PuTTY工具窗口启动Management1节点数据库。",
                    "所有节点启动完成后，再查看各个节点的启动结果，如果启动失败，请联系华为技术支持工程师处理。",
                    "执行以下命令，切换到ossadm用户。",
                    "> su - ossadm",
                    "Password:ossadm用户的密码",
                    "执行以下命令，启动管理面数据库。",
                    "> source <安装目录>/manager/bin/engr_profile.sh",
                    "> ipmc_adm -cmd startdc -tenant manager",
                    "系统提示如下类似回显信息，所有进程都提示“success”，则说明管理面数据库启动成功，否则请联系华为技术支持工程师。",
                    "============================ Starting data container processes...",
                    "Starting redis process woadapterrdb-1-14 ... success",
                    "Starting redis process serviceinspectionrdb-1-3 ... success",
                    "Starting redis process privilegerdb-1-28 ... success",
                    "============================ Starting data container processes is complete.",
                    "----结束"
                ]
            },
            {
                "title": "## 启动产品数据库",
                "org_context": [
                    "<notice>故障处理中的启动产品数据库</notice>",
                    "介绍如何启动产品数据库。",
                    "前提条件",
                    "已登录管理面，具体操作请参见。",
                    "背景信息",
                    "对于异地容灾场景，在任意一个站点上执行启动操作时，对端站点不会自动同步启动。",
                    "请根据业务实际情况在对应站点上执行启动操作。",
                    "操作步骤",
                    "在管理面主菜单中选择“维护 > 运维管理 > 全景监控”。",
                    "在左侧导航树中选择“节点监控”。",
                    "在“节点监控”页面左上方选择对应的产品。",
                    "参见表15-4完成相关操作。",
                    "",
                    "",
                    "启动数据库",
                    "|任务|操作指导|\n|----|----|\n|启动产品的所有数据库|在“节点监控”页面左上方，单击“启动”，在下拉框中选择“启动数据库”，按照界面指引完成相关操作。|\n|启动单个节点的数据库|在“节点列表”中，单击该节点所在行“操作”列的，按照界面指引完成相关操作。|",
                    "任务执行成功后，在“节点列表”中查看节点的“数据库状态”为“正在运行”。",
                    "对于异地容灾场景，设置该产品开启服务自启动，具体操作请参见。",
                    "----结束",
                    "",
                    ""
                ],
                "subsections": [],
                "embed_context": [
                    "故障处理中的启动产品数据库",
                    "启动产品数据库",
                    "介绍如何启动产品数据库。",
                    "已登录管理面，具体操作请参见。",
                    "对于异地容灾场景，在任意一个站点上执行启动操作时，对端站点不会自动同步启动。",
                    "请根据业务实际情况在对应站点上执行启动操作。",
                    "在管理面主菜单中选择“维护 > 运维管理 > 全景监控”。",
                    "在左侧导航树中选择“节点监控”。",
                    "在“节点监控”页面左上方选择对应的产品。",
                    "参见表15-4完成相关操作。",
                    "任务执行成功后，在“节点列表”中查看节点的“数据库状态”为“正在运行”。",
                    "对于异地容灾场景，设置该产品开启服务自启动，具体操作请参见。",
                    "----结束"
                ]
            },
            {
                "title": "## 启动产品服务和数据库",
                "org_context": [
                    "<notice>故障处理中的启动产品服务和数据库</notice>",
                    "介绍如何启动产品服务和数据库。",
                    "前提条件",
                    "已登录管理面，具体操作请参见。",
                    "背景信息",
                    "对于异地容灾场景，在任意一个站点上执行启动操作时，对端站点不会自动同步启动。",
                    "请根据业务实际情况在对应站点上执行启动操作。",
                    "操作步骤",
                    "在管理面主菜单中选择“维护 > 运维管理 > 全景监控”。",
                    "在左侧导航树中选择“节点监控”。",
                    "在“节点监控”页面左上方选择对应的产品。",
                    "参见表15-5完成相关操作。",
                    "",
                    "",
                    "启动产品的服务和数据库",
                    "|任务|操作指导|\n|----|----|\n|启动产品的所有服务和数据库|在“节点监控”页面左上方，单击“启动”，在下拉框中选择“全部启动”，按照界面指引完成相关操作。|\n|启动节点的服务和数据库|在“节点列表”中，选择待启动的节点，单击界面右侧的“启动”，按照界面指引完成相关操作。|",
                    "任务执行成功后，在“节点列表”中查看节点的“服务状态”和“数据库状态”为“正在运行”。",
                    "对于异地容灾场景，设置该产品开启服务自启动，具体操作请参见。",
                    "----结束",
                    "",
                    ""
                ],
                "subsections": [],
                "embed_context": [
                    "故障处理中的启动产品服务和数据库",
                    "启动产品服务和数据库",
                    "介绍如何启动产品服务和数据库。",
                    "已登录管理面，具体操作请参见。",
                    "对于异地容灾场景，在任意一个站点上执行启动操作时，对端站点不会自动同步启动。",
                    "请根据业务实际情况在对应站点上执行启动操作。",
                    "在管理面主菜单中选择“维护 > 运维管理 > 全景监控”。",
                    "在左侧导航树中选择“节点监控”。",
                    "在“节点监控”页面左上方选择对应的产品。",
                    "参见表15-5完成相关操作。",
                    "任务执行成功后，在“节点列表”中查看节点的“服务状态”和“数据库状态”为“正在运行”。",
                    "对于异地容灾场景，设置该产品开启服务自启动，具体操作请参见。",
                    "----结束"
                ]
            },
            {
                "title": "## 启动产品服务",
                "org_context": [
                    "<notice>故障处理中的启动产品服务</notice>",
                    "介绍如何启动产品服务。",
                    "前提条件",
                    "已登录管理面，具体操作请参见。",
                    "启动服务之前，请确保该产品的数据库已启动，具体操作请参见。",
                    "背景信息",
                    "对于异地容灾场景，在任意一个站点上执行启动操作时，对端站点不会自动同步启动。",
                    "请根据业务实际情况在对应站点上执行启动操作。",
                    "操作步骤",
                    "在管理面主菜单中选择“维护 > 运维管理 > 全景监控”。",
                    "在左侧导航树中选择“节点监控”。",
                    "在“节点监控”页面左上方选择对应的产品。",
                    "参见表15-6完成相关操作。",
                    "",
                    "",
                    "启动服务",
                    "|任务|操作指导|\n|----|----|\n|启动产品的所有服务|在“节点监控”页面左上方，单击“启动”，在下拉框中选择“启动服务”，按照界面指引完成相关操作。|\n|启动单个节点的服务|在“节点列表”中，单击该节点所在行“操作”列的，按照界面指引完成相关操作。|\n|启动单个服务或多个服务|在左侧导航树中选择“服务监控”。<br>选择“服务”页签，再选择待启动的服务，单击界面右侧的“启动”，按照界面指引完成相关操作。|",
                    "任务执行成功后，查看节点或者服务状态。",
                    "若启动了产品所有节点服务或者是单个节点服务，在“节点列表”中查看节点的“服务状态”为“正在运行”。",
                    "若启动了单个服务或多个服务，在“节点列表”中查看节点的“服务状态”为“部分运行”，在左侧导航树中选择“服务监控”，查看“服务”页签中服务的“状态”为“正在运行”。",
                    "如果在“服务”页签中启动了所有服务，则“节点列表”中节点的“服务状态”为“正在运行”。",
                    "对于异地容灾场景，设置该产品开启服务自启动，具体操作请参见。",
                    "----结束",
                    "",
                    ""
                ],
                "subsections": [],
                "embed_context": [
                    "故障处理中的启动产品服务",
                    "启动产品服务",
                    "介绍如何启动产品服务。",
                    "已登录管理面，具体操作请参见。",
                    "启动服务之前，请确保该产品的数据库已启动，具体操作请参见。",
                    "对于异地容灾场景，在任意一个站点上执行启动操作时，对端站点不会自动同步启动。",
                    "请根据业务实际情况在对应站点上执行启动操作。",
                    "在管理面主菜单中选择“维护 > 运维管理 > 全景监控”。",
                    "在左侧导航树中选择“节点监控”。",
                    "在“节点监控”页面左上方选择对应的产品。",
                    "参见表15-6完成相关操作。",
                    "任务执行成功后，查看节点或者服务状态。",
                    "若启动了产品所有节点服务或者是单个节点服务，在“节点列表”中查看节点的“服务状态”为“正在运行”。",
                    "若启动了单个服务或多个服务，在“节点列表”中查看节点的“服务状态”为“部分运行”，在左侧导航树中选择“服务监控”，查看“服务”页签中服务的“状态”为“正在运行”。",
                    "如果在“服务”页签中启动了所有服务，则“节点列表”中节点的“服务状态”为“正在运行”。",
                    "对于异地容灾场景，设置该产品开启服务自启动，具体操作请参见。",
                    "----结束"
                ]
            },
            {
                "title": "## 关闭用户的双因素认证",
                "org_context": [
                    "<notice>故障处理中的关闭用户的双因素认证</notice>",
                    "当短消息服务器或者邮箱服务器异常导致无法获取验证码，或者管理面无法正常登录时，可通过命令行方式关闭用户的双因素认证功能，使得用户能登录管理面。",
                    "关闭用户的双因素认证后，该用户登录管理面界面时不需要进行手机号码或电子邮箱的验证，安全性降低，请谨慎选择操作。",
                    "前提条件",
                    "已获取管理节点的sopuser和ossadm用户的密码。",
                    "已获取管理节点的IP地址。",
                    "操作须知",
                    "对于异地容灾场景，系统每天会将主用站点管理面用户信息定时同步至备用站点，从而只需要在主用站点执行本节操作。",
                    "如果需要备用站点上设置立即生效，需手工在备用站点上执行与主用站点相同的设置。",
                    "操作步骤",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录管理节点。",
                    "如果管理面的部署模式是集群模式，即存在多个管理节点，需在Management0或Management1的其中任一节点执行以下操作。",
                    "获取节点IP地址的方法请参见。",
                    "执行以下命令，切换到ossadm用户。",
                    "> su - ossadm",
                    "Password:ossadm用户的密码",
                    "执行以下命令，切换目录。",
                    "> cd <安装目录>/manager/apps/MCCommonService/bin",
                    "如果管理面的部署模式是单机模式，且管理节点和产品节点为同一个节点，“MCCommonService”需替换为“UniEPLiteService”。",
                    "执行以下命令，关闭用户的双因素认证。",
                    "> bash userTools.sh -cmd disableUser2FA -userName '用户名'",
                    "系统回显如下信息：",
                    "Are you sure you want to disable two-factor authentication for user 用户名? yes/no",
                    "输入“yes”，按“Enter”。",
                    "系统回显如下类似信息时，表示命令执行成功。",
                    "The script is executed successfully. Two-factor authentication of user 用户名 has been disabled.",
                    "----结束",
                    "",
                    ""
                ],
                "subsections": [],
                "embed_context": [
                    "故障处理中的关闭用户的双因素认证",
                    "关闭用户的双因素认证",
                    "当短消息服务器或者邮箱服务器异常导致无法获取验证码，或者管理面无法正常登录时，可通过命令行方式关闭用户的双因素认证功能，使得用户能登录管理面。",
                    "关闭用户的双因素认证后，该用户登录管理面界面时不需要进行手机号码或电子邮箱的验证，安全性降低，请谨慎选择操作。",
                    "已获取管理节点的sopuser和ossadm用户的密码。",
                    "已获取管理节点的IP地址。",
                    "对于异地容灾场景，系统每天会将主用站点管理面用户信息定时同步至备用站点，从而只需要在主用站点执行本节操作。",
                    "如果需要备用站点上设置立即生效，需手工在备用站点上执行与主用站点相同的设置。",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录管理节点。",
                    "如果管理面的部署模式是集群模式，即存在多个管理节点，需在Management0或Management1的其中任一节点执行以下操作。",
                    "获取节点IP地址的方法请参见。",
                    "执行以下命令，切换到ossadm用户。",
                    "> su - ossadm",
                    "Password:ossadm用户的密码",
                    "执行以下命令，切换目录。",
                    "> cd <安装目录>/manager/apps/MCCommonService/bin",
                    "如果管理面的部署模式是单机模式，且管理节点和产品节点为同一个节点，“MCCommonService”需替换为“UniEPLiteService”。",
                    "执行以下命令，关闭用户的双因素认证。",
                    "> bash userTools.sh -cmd disableUser2FA -userName '用户名'",
                    "系统回显如下信息：",
                    "Are you sure you want to disable two-factor authentication for user 用户名? yes/no",
                    "输入“yes”，按“Enter”。",
                    "系统回显如下类似信息时，表示命令执行成功。",
                    "The script is executed successfully. Two-factor authentication of user 用户名 has been disabled.",
                    "----结束"
                ]
            },
            {
                "title": "## 查询产品名称",
                "org_context": [
                    "<notice>故障处理中的查询产品名称</notice>",
                    "通过节点的IP地址查询对应的产品名称。",
                    "前提条件",
                    "已获取待查询的节点的sopuser和ossadm用户密码。",
                    "操作步骤",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录待查询的节点。",
                    "执行以下命令，切换至ossadm用户。",
                    "> su - ossadm",
                    "Password:ossadm用户的密码",
                    "执行以下命令，查询该节点对应的产品名称。",
                    "> source <安装目录>/manager/bin/engr_profile.sh",
                    "> ipmc_adm -cmd statusapp",
                    "回显如下类似信息，“Tenant Name”字段的值即为该节点对应的产品名称。",
                    "Process Name           ...    App Name              Tenant Name    Process Mode    IP            PID     Status",
                    "switchmgrapp-0-0       ...    DBHASwitchService     cdo             cluster       10.243.4.18    9691    RUNNING",
                    "mczkapp-0-0            ...    MCZKService           cdo             multi         10.243.4.18    18956   RUNNING",
                    "...",
                    "----结束",
                    "",
                    ""
                ],
                "subsections": [],
                "embed_context": [
                    "故障处理中的查询产品名称",
                    "查询产品名称",
                    "通过节点的IP地址查询对应的产品名称。",
                    "已获取待查询的节点的sopuser和ossadm用户密码。",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录待查询的节点。",
                    "执行以下命令，切换至ossadm用户。",
                    "> su - ossadm",
                    "Password:ossadm用户的密码",
                    "执行以下命令，查询该节点对应的产品名称。",
                    "> source <安装目录>/manager/bin/engr_profile.sh",
                    "> ipmc_adm -cmd statusapp",
                    "回显如下类似信息，“Tenant Name”字段的值即为该节点对应的产品名称。",
                    "Process Name           ...    App Name              Tenant Name    Process Mode    IP            PID     Status",
                    "switchmgrapp-0-0       ...    DBHASwitchService     cdo             cluster       10.243.4.18    9691    RUNNING",
                    "mczkapp-0-0            ...    MCZKService           cdo             multi         10.243.4.18    18956   RUNNING",
                    "----结束"
                ]
            },
            {
                "title": "## 开启或关闭产品服务自启动",
                "org_context": [
                    "<notice>故障处理中的开启或关闭产品服务自启动</notice>",
                    "异地容灾系统在缺省情况下，将每5分钟会检查主用站点所有服务和备用站点部分产品服务的启动状态，即异地容灾系统会自动拉起站点上非人为停止的服务，请根据实际情况设置产品服务是否自启动功能的状态，为了保障产品服务正常运行，建议保持产品处于开启产品服务自启动的状态。",
                    "前提条件",
                    "已登录主用站点或者备用站点管理面，具体操作请参见。",
                    "操作须知",
                    "主用站点和备用站点心跳状态正常时，在主用站点或者备用站点设置产品服务是否自启动功能的状态，异地容灾系统会同步修改对端站点对应产品该功能的状态；",
                    "心跳异常时，修改只对当前站点所选产品生效，不会同步到对端站点对应产品。",
                    "若对管理面进行了升级，则升级前产品服务是否自启动的设置（如设置为关闭产品服务自启动状态）不会同步到升级后的版本，即升级后产品会处于缺省的开启产品服务自启动状态。",
                    "操作步骤",
                    "在管理面主菜单中选择“高可用 > 异地高可用系统 > 管理异地容灾系统”。",
                    "在对应的产品所在行“服务是否自启动”列，参见下表进行配置。",
                    "状态说明",
                    "|状态|说明|\n|----|----|\n||当前产品处于开启服务自启动的状态，异地容灾系统每5分钟会检查主用站点和备用站点该产品服务启动状态，并启动主用站点该产品所有服务和备用站点对应产品部分系统服务。若产品服务是因实际情况需要而人为停止时，异地容灾系统不会拉起该类服务（人为停止服务的方式包括管理面的停止服务功能和后台执行停止服务的命令）。|\n||当前产品处于关闭服务自启动的状态，异地容灾系统将停止检查主用站点和备用站点该产品服务启动状态。产品节点下电后再上电，产品服务不会自动启动。若需手工启动产品服务，具体操作请参见。<br>须知<br>若管理节点和产品节点为同一个节点，当前产品处于关闭服务自启动状态且节点下电后再上电时，异地容灾系统会自动启动产品异地容灾状态自动修复任务，会启动处于关闭服务自启动状态的产品服务。|",
                    "按照界面上的指引完成相关操作。",
                    "----结束",
                    "",
                    ""
                ],
                "subsections": [],
                "embed_context": [
                    "故障处理中的开启或关闭产品服务自启动",
                    "开启或关闭产品服务自启动",
                    "异地容灾系统在缺省情况下，将每5分钟会检查主用站点所有服务和备用站点部分产品服务的启动状态，即异地容灾系统会自动拉起站点上非人为停止的服务，请根据实际情况设置产品服务是否自启动功能的状态，为了保障产品服务正常运行，建议保持产品处于开启产品服务自启动的状态。",
                    "已登录主用站点或者备用站点管理面，具体操作请参见。",
                    "主用站点和备用站点心跳状态正常时，在主用站点或者备用站点设置产品服务是否自启动功能的状态，异地容灾系统会同步修改对端站点对应产品该功能的状态；",
                    "心跳异常时，修改只对当前站点所选产品生效，不会同步到对端站点对应产品。",
                    "若对管理面进行了升级，则升级前产品服务是否自启动的设置（如设置为关闭产品服务自启动状态）不会同步到升级后的版本，即升级后产品会处于缺省的开启产品服务自启动状态。",
                    "在管理面主菜单中选择“高可用 > 异地高可用系统 > 管理异地容灾系统”。",
                    "在对应的产品所在行“服务是否自启动”列，参见下表进行配置。",
                    "按照界面上的指引完成相关操作。",
                    "----结束"
                ]
            },
            {
                "title": "## 查询节点的工作状态及管理IP地址",
                "org_context": [
                    "<notice>故障处理中的查询节点的工作状态及管理IP地址</notice>",
                    "若管理面或运维面的部署模式为集群模式，当维护操作需要在当前对外提供服务的节点上执行或在各节点上有确定的执行顺序时，可以通过本章节查询节点的工作状态及其管理IP地址，以确保维护操作正常执行。",
                    "操作步骤",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录管理节点。",
                    "如果管理面的部署模式是集群模式，即存在多个管理节点，需在Management0或Management1的其中任一节点执行以下操作。",
                    "获取节点IP地址的方法请参见。",
                    "执行以下命令，切换到ossadm用户。",
                    "> su - ossadm",
                    "Password:ossadm用户的密码",
                    "执行以下命令，查看进程对应的资源名称。",
                    "> source <安装目录>/manager/bin/engr_profile.sh",
                    "> ipmc_adm -cmd statusapp -app 服务名称 -tenant <产品名称>",
                    "系统回显如下类似信息，“APP Name”字段的值即表示该进程对应的资源名称，记录该字段的值。",
                    "Display Name    Process Type    App Name            Tenant Name    Process Mode    IP              PID      Status",
                    "mchiroer-0-0    mchiroer        MCHIROERService    manager        critical        10.243.19.33    16075    RUNNING",
                    "执行以下命令，查看主用资源的状态信息。",
                    "> cd <安装目录>/manager/apps/HyperHAAgent/bin",
                    "> bash hactl status resource -r 资源名称",
                    "资源名称为中记录的字段值。",
                    "系统回显如下类似信息，可根据“Resource Role”字段的值来判断资源的工作状态，“active”状态的资源即为资源的主实例，“standby”状态的资源即为资源的备实例。",
                    " 可根据“IP Address”字段获取目标节点的IP地址。",
                    "Total: 2  Normal: 2  Abnormal: 0",
                    "Resource Name    Resource Group Name        Cluster Name                     Node    Running Status    Resource Role    Health Status    IP Address    Type              Unfreeze in(s)",
                    "HIROERService    Group_FloatingIP_access    Cluster_0_1_FloatingIP_access    node0   Running           active            normal           10.10.10.11   Active-Standby    0",
                    "...",
                    "----结束",
                    "",
                    ""
                ],
                "subsections": [],
                "embed_context": [
                    "故障处理中的查询节点的工作状态及管理IP地址",
                    "查询节点的工作状态及管理IP地址",
                    "若管理面或运维面的部署模式为集群模式，当维护操作需要在当前对外提供服务的节点上执行或在各节点上有确定的执行顺序时，可以通过本章节查询节点的工作状态及其管理IP地址，以确保维护操作正常执行。",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录管理节点。",
                    "如果管理面的部署模式是集群模式，即存在多个管理节点，需在Management0或Management1的其中任一节点执行以下操作。",
                    "获取节点IP地址的方法请参见。",
                    "执行以下命令，切换到ossadm用户。",
                    "> su - ossadm",
                    "Password:ossadm用户的密码",
                    "执行以下命令，查看进程对应的资源名称。",
                    "> source <安装目录>/manager/bin/engr_profile.sh",
                    "> ipmc_adm -cmd statusapp -app 服务名称 -tenant <产品名称>",
                    "系统回显如下类似信息，“APP Name”字段的值即表示该进程对应的资源名称，记录该字段的值。",
                    "Display Name    Process Type    App Name            Tenant Name    Process Mode    IP              PID      Status",
                    "mchiroer-0-0    mchiroer        MCHIROERService    manager        critical        10.243.19.33    16075    RUNNING",
                    "执行以下命令，查看主用资源的状态信息。",
                    "> cd <安装目录>/manager/apps/HyperHAAgent/bin",
                    "> bash hactl status resource -r 资源名称",
                    "资源名称为中记录的字段值。",
                    "系统回显如下类似信息，可根据“Resource Role”字段的值来判断资源的工作状态，“active”状态的资源即为资源的主实例，“standby”状态的资源即为资源的备实例。",
                    " 可根据“IP Address”字段获取目标节点的IP地址。",
                    "Total: 2  Normal: 2  Abnormal: 0",
                    "Resource Name    Resource Group Name        Cluster Name                     Node    Running Status    Resource Role    Health Status    IP Address    Type              Unfreeze in(s)",
                    "HIROERService    Group_FloatingIP_access    Cluster_0_1_FloatingIP_access    node0   Running           active            normal           10.10.10.11   Active-Standby    0",
                    "----结束"
                ]
            },
            {
                "title": "## 通过OpenPGP签名验证指南工具包进行软件包完整性校验",
                "org_context": [
                    "<notice>故障处理中的通过OpenPGP签名验证指南工具包进行软件包完整性校验</notice>",
                    "通过“OpenPGP签名验证指南”工具包进行软件包完整性校验。",
                    "操作步骤",
                    "联系华为技术支持工程师下载“OpenPGP签名验证指南”工具包。",
                    "运营商用户：登录。",
                    "企业用户：登录。",
                    "解压“OpenPGP签名验证指南.zip”。",
                    "参见《OpenPGP签名验证指南》文档验证软件完整性，如果校验失败，请不要使用该软件包，先联系华为技术支持工程师解决。",
                    "----结束",
                    "",
                    ""
                ],
                "subsections": [],
                "embed_context": [
                    "故障处理中的通过OpenPGP签名验证指南工具包进行软件包完整性校验",
                    "通过OpenPGP签名验证指南工具包进行软件包完整性校验",
                    "通过“OpenPGP签名验证指南”工具包进行软件包完整性校验。",
                    "联系华为技术支持工程师下载“OpenPGP签名验证指南”工具包。",
                    "运营商用户：登录。",
                    "企业用户：登录。",
                    "解压“OpenPGP签名验证指南.zip”。",
                    "参见《OpenPGP签名验证指南》文档验证软件完整性，如果校验失败，请不要使用该软件包，先联系华为技术支持工程师解决。",
                    "----结束"
                ]
            },
            {
                "title": "## 判断是否恢复数据库软件",
                "org_context": [
                    "<notice>故障处理中的判断是否恢复数据库软件</notice>",
                    "在管理面无法访问的场景下，当管理节点与产品节点是同一个节点时，可通过命令行方式查看数据库实例的状态确定是否需要恢复数据库软件。",
                    "前提条件",
                    "管理节点与产品节点为同一个节点。",
                    "已获取管理节点的sopuser与ossadm用户的密码。",
                    "操作步骤",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录管理节点。",
                    "如果管理面的部署模式是集群模式，即存在多个管理节点，需在Management0或Management1的其中任一节点执行以下操作。",
                    "执行以下命令，切换到ossadm用户。",
                    "> su - ossadm",
                    "Password:ossadm用户的密码",
                    "执行以下命令，查询数据库实例状态。",
                    "> cd <安装目录>/manager/apps/DBAgent/bin",
                    "> bash dbsvc_adm -cmd query-db-instance -type zenith",
                    "回显如下类似信息，当“State”字段为“Up”且“RplStatus”字段为“NORMAL”时，说明数据库软件是正常的，恢复管理面应用程序和数据时，无需恢复数据库软件，否则必须恢复数据库软件。",
                    "DBInstanceId         ...       State     ...   RplStatus    ...",
                    "IpmcTestdbsvr-1001   ...       Up         ...   NORMAL       ...",
                    "cloudsopdbsvr-1033   ...       Up         ...   NORMAL       ...",
                    "...",
                    "----结束",
                    "",
                    ""
                ],
                "subsections": [],
                "embed_context": [
                    "故障处理中的判断是否恢复数据库软件",
                    "判断是否恢复数据库软件",
                    "在管理面无法访问的场景下，当管理节点与产品节点是同一个节点时，可通过命令行方式查看数据库实例的状态确定是否需要恢复数据库软件。",
                    "管理节点与产品节点为同一个节点。",
                    "已获取管理节点的sopuser与ossadm用户的密码。",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录管理节点。",
                    "如果管理面的部署模式是集群模式，即存在多个管理节点，需在Management0或Management1的其中任一节点执行以下操作。",
                    "执行以下命令，切换到ossadm用户。",
                    "> su - ossadm",
                    "Password:ossadm用户的密码",
                    "执行以下命令，查询数据库实例状态。",
                    "> cd <安装目录>/manager/apps/DBAgent/bin",
                    "> bash dbsvc_adm -cmd query-db-instance -type zenith",
                    "回显如下类似信息，当“State”字段为“Up”且“RplStatus”字段为“NORMAL”时，说明数据库软件是正常的，恢复管理面应用程序和数据时，无需恢复数据库软件，否则必须恢复数据库软件。",
                    "DBInstanceId         ...       State     ...   RplStatus    ...",
                    "IpmcTestdbsvr-1001   ...       Up         ...   NORMAL       ...",
                    "cloudsopdbsvr-1033   ...       Up         ...   NORMAL       ...",
                    "----结束"
                ]
            },
            {
                "title": "## 添加域名映射",
                "org_context": [
                    "<notice>故障处理中的添加域名映射</notice>",
                    "使用域名访问IP地址时，需通过手动修改本地hosts文件的方式添加域名与IP地址的映射关系。",
                    "以下以Window10操作系统为例。",
                    "操作步骤",
                    "进入本地计算机目录“c:\\windows\\system32\\drivers\\etc”。",
                    "确认当前用户是否已获取目录下“hosts”文件的所有权限。",
                    "鼠标右键单击“hosts”。",
                    "单击“属性”。",
                    "在“hosts属性”窗口，选择“安全”页签，在“组或用户名(G):”下选择本机当前用户。",
                    "查看当前用户的权限，是否具有“完全控制”权限。",
                    "是，执行。",
                    "否，执行。",
                    "",
                    "",
                    "单击“编辑”，在“hosts权限”窗口中，选择本机当前用户，在“允许”列勾选“完全控制”。",
                    "单击“应用”，在弹出的提示框中，单击“是”。",
                    "单击“确定”，再单击“确定”。",
                    "用记事本打开“hosts”文件。",
                    "在文件中添加所需域名映射，如下所示，“10.10.10.10 test.com”为所添加的域名映射并保存。",
                    "此处以“10.10.10.10 test.com”为例，请以实际参数为准。",
                    "...",
                    "# localhost name resolution is handled within DNS itself.",
                    "10.10.10.10 test.com",
                    "在本地计算机启动浏览器，在地址栏中输入“https://test.com:31945”登录管理面，验证域名映射是否配置成功。",
                    "如果登录成功，表示域名映射配置成功；",
                    "否则请联系华为技术支持工程师。",
                    "----结束",
                    "",
                    ""
                ],
                "subsections": [],
                "embed_context": [
                    "故障处理中的添加域名映射",
                    "添加域名映射",
                    "使用域名访问IP地址时，需通过手动修改本地hosts文件的方式添加域名与IP地址的映射关系。",
                    "以下以Window10操作系统为例。",
                    "进入本地计算机目录“c:\\windows\\system32\\drivers\\etc”。",
                    "确认当前用户是否已获取目录下“hosts”文件的所有权限。",
                    "鼠标右键单击“hosts”。",
                    "单击“属性”。",
                    "在“hosts属性”窗口，选择“安全”页签，在“组或用户名(G):”下选择本机当前用户。",
                    "查看当前用户的权限，是否具有“完全控制”权限。",
                    "单击“编辑”，在“hosts权限”窗口中，选择本机当前用户，在“允许”列勾选“完全控制”。",
                    "单击“应用”，在弹出的提示框中，单击“是”。",
                    "单击“确定”，再单击“确定”。",
                    "用记事本打开“hosts”文件。",
                    "在文件中添加所需域名映射，如下所示，“10.10.10.10 test.com”为所添加的域名映射并保存。",
                    "此处以“10.10.10.10 test.com”为例，请以实际参数为准。",
                    "# localhost name resolution is handled within DNS itself.",
                    "10.10.10.10 test.com",
                    "在本地计算机启动浏览器，在地址栏中输入“https://test.com:31945”登录管理面，验证域名映射是否配置成功。",
                    "如果登录成功，表示域名映射配置成功；",
                    "否则请联系华为技术支持工程师。",
                    "----结束"
                ]
            },
            {
                "title": "## 查看管理面备份文件及管理面的版本号",
                "org_context": [
                    "<notice>故障处理中的查看管理面备份文件及管理面的版本号</notice>",
                    "恢复管理面应用程序和数据时，若管理面版本号与备份文件的版本号不一致，可能导致恢复后节点服务异常，建议在恢复操作前获取与管理面的版本号一致的备份文件，以避免恢复后出现异常。",
                    "本章节指导用户如何查看备份文件的版本号及管理面的版本号。",
                    "前提条件",
                    "已获取管理节点的sopuser与ossadm用户的密码。",
                    "已获取备份服务器的IP地址、管理面备份文件的存储位置、可以通过SSH协议登录备份服务器的用户及密码。",
                    "操作步骤",
                    "查看当前管理面的版本号。",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录管理节点。",
                    "如果管理面的部署模式是集群模式，即存在多个管理节点，需在Management0或Management1的其中任一节点执行以下操作。",
                    "执行以下命令，切换到ossadm用户。",
                    "> su - ossadm",
                    "Password:ossadm用户的密码",
                    "执行以下命令，查看并记录当前管理面的版本号。",
                    "> cat <安装目录>/manager/var/etc/common/custom.cfg",
                    "系统提示如下类似回显信息，“SYSTEM_VERSION”字段的值即为当前管理面的版本信息。",
                    "...",
                    "SYSTEM_FULL_NAME=CloudSOP-UniEP",
                    "SYSTEM_VERSION=IPMCtestV100R024C10SPC600B031",
                    "SYSTEM_ALIAS=CloudSOP-UniEP",
                    "SYSTEM_NODE=Management",
                    "...",
                    "执行以下命令，退出ossadm用户。",
                    "> exit",
                    "执行以下操作查看管理面备份文件的版本号。",
                    "使用PuTTY工具通过SSH方式登录备份服务器，具体请参见。",
                    "当使用管理节点或产品节点作为备份服务器时，请使用sopuser用户登录备份服务器。",
                    "当使用第三方备份服务器时，请使用具有SSH协议连接权限的用户登录备份服务器。",
                    "执行以下命令，切换到备份服务器用户。",
                    "> su - 备份服务器用户",
                    "Password:备份服务器用户的密码",
                    "执行以下命令，查看并记录管理面备份文件的版本号。",
                    "> cat /备份服务器用户根目录/配置备份参数的路径/management/management/时间戳/process_report.json",
                    "命令中的路径为备份服务器上管理面备份文件的存储路径，请根据实际情况修改。",
                    "系统提示如下类似回显信息，“version”字段的值即为管理面备份文件的版本信息。",
                    "{\"arrayArgus\":[],\"kvArgus\":{},\"productName\":\"manager\",\"remark\":\"\",\"timeStamp\":\"20230630191909423\",\"processName\":\"mgmt_data_backup\",\"version\":\"IPMCtestV100R024C10SPC600B031\"}",
                    "----结束",
                    "",
                    ""
                ],
                "subsections": [],
                "embed_context": [
                    "故障处理中的查看管理面备份文件及管理面的版本号",
                    "查看管理面备份文件及管理面的版本号",
                    "恢复管理面应用程序和数据时，若管理面版本号与备份文件的版本号不一致，可能导致恢复后节点服务异常，建议在恢复操作前获取与管理面的版本号一致的备份文件，以避免恢复后出现异常。",
                    "本章节指导用户如何查看备份文件的版本号及管理面的版本号。",
                    "已获取管理节点的sopuser与ossadm用户的密码。",
                    "已获取备份服务器的IP地址、管理面备份文件的存储位置、可以通过SSH协议登录备份服务器的用户及密码。",
                    "查看当前管理面的版本号。",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录管理节点。",
                    "如果管理面的部署模式是集群模式，即存在多个管理节点，需在Management0或Management1的其中任一节点执行以下操作。",
                    "执行以下命令，切换到ossadm用户。",
                    "> su - ossadm",
                    "Password:ossadm用户的密码",
                    "执行以下命令，查看并记录当前管理面的版本号。",
                    "> cat <安装目录>/manager/var/etc/common/custom.cfg",
                    "系统提示如下类似回显信息，“SYSTEM_VERSION”字段的值即为当前管理面的版本信息。",
                    "SYSTEM_FULL_NAME=CloudSOP-UniEP",
                    "SYSTEM_VERSION=IPMCtestV100R024C10SPC600B031",
                    "SYSTEM_ALIAS=CloudSOP-UniEP",
                    "SYSTEM_NODE=Management",
                    "执行以下命令，退出ossadm用户。",
                    "> exit",
                    "执行以下操作查看管理面备份文件的版本号。",
                    "使用PuTTY工具通过SSH方式登录备份服务器，具体请参见。",
                    "当使用管理节点或产品节点作为备份服务器时，请使用sopuser用户登录备份服务器。",
                    "当使用第三方备份服务器时，请使用具有SSH协议连接权限的用户登录备份服务器。",
                    "执行以下命令，切换到备份服务器用户。",
                    "> su - 备份服务器用户",
                    "Password:备份服务器用户的密码",
                    "执行以下命令，查看并记录管理面备份文件的版本号。",
                    "> cat /备份服务器用户根目录/配置备份参数的路径/management/management/时间戳/process_report.json",
                    "命令中的路径为备份服务器上管理面备份文件的存储路径，请根据实际情况修改。",
                    "系统提示如下类似回显信息，“version”字段的值即为管理面备份文件的版本信息。",
                    "{\"arrayArgus\":[],\"kvArgus\":{},\"productName\":\"manager\",\"remark\":\"\",\"timeStamp\":\"20230630191909423\",\"processName\":\"mgmt_data_backup\",\"version\":\"IPMCtestV100R024C10SPC600B031\"}",
                    "----结束"
                ]
            }
        ],
        "embed_context": [
            "故障处理中的通用操作",
            "通用操作"
        ]
    },
    {
        "title": "# FAQ",
        "org_context": [
            "<notice>故障处理中的FAQ</notice>",
            "",
            ""
        ],
        "subsections": [
            {
                "title": "## 如何防止PuTTY工具超时断连",
                "org_context": [
                    "<notice>故障处理中的如何防止PuTTY工具超时断连</notice>",
                    "问题",
                    "使用PuTTY工具执行操作时，如何防止PuTTY工具超时断连？",
                    "答案",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录待执行的节点。",
                    "执行以下命令，查询PuTTY超时断连时间。",
                    "> export | grep TMOUT",
                    "系统回显如下类似信息，表示PuTTY若持续300秒无任何操作会自动断连。",
                    "declare -x TMOUT=\"300\"",
                    "执行以下命令，设置PuTTY工具持续一个小时无任何操作后自动断连。",
                    "> export TMOUT=3600",
                    "在PuTTY工具上的相关任务执行完成后，请执行以下命令将PuTTY的断连时间恢复为中所查询的值。",
                    "> export TMOUT=300",
                    "----结束",
                    "",
                    ""
                ],
                "subsections": [],
                "embed_context": [
                    "故障处理中的如何防止PuTTY工具超时断连",
                    "如何防止PuTTY工具超时断连",
                    "使用PuTTY工具执行操作时，如何防止PuTTY工具超时断连？",
                    "使用PuTTY工具以sopuser用户通过SSH方式登录待执行的节点。",
                    "执行以下命令，查询PuTTY超时断连时间。",
                    "> export | grep TMOUT",
                    "系统回显如下类似信息，表示PuTTY若持续300秒无任何操作会自动断连。",
                    "declare -x TMOUT=\"300\"",
                    "执行以下命令，设置PuTTY工具持续一个小时无任何操作后自动断连。",
                    "> export TMOUT=3600",
                    "在PuTTY工具上的相关任务执行完成后，请执行以下命令将PuTTY的断连时间恢复为中所查询的值。",
                    "> export TMOUT=300",
                    "----结束"
                ]
            }
        ],
        "embed_context": [
            "故障处理中的FAQ",
            "FAQ"
        ]
    }
]